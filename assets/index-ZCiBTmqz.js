(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();var yd={exports:{}},ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function QA(){if(o_)return ul;o_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:h}}return ul.Fragment=t,ul.jsx=i,ul.jsxs=i,ul}var l_;function KA(){return l_||(l_=1,yd.exports=QA()),yd.exports}var ot=KA(),_d={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function YA(){if(u_)return St;u_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function N(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,W={};function Z(C,$,nt){this.props=C,this.context=$,this.refs=W,this.updater=nt||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function pt(){}pt.prototype=Z.prototype;function yt(C,$,nt){this.props=C,this.context=$,this.refs=W,this.updater=nt||j}var ht=yt.prototype=new pt;ht.constructor=yt,X(ht,Z.prototype),ht.isPureReactComponent=!0;var jt=Array.isArray,At={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function M(C,$,nt,J,ct,wt){return nt=wt.ref,{$$typeof:s,type:C,key:$,ref:nt!==void 0?nt:null,props:wt}}function S(C,$){return M(C.type,$,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function O(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return $[nt]})}var V=/\/+/g;function P(C,$){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):$.toString(36)}function w(){}function Pe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function($){C.status==="pending"&&(C.status="fulfilled",C.value=$)},function($){C.status==="pending"&&(C.status="rejected",C.reason=$)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function se(C,$,nt,J,ct){var wt=typeof C;(wt==="undefined"||wt==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(wt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case s:case t:vt=!0;break;case A:return vt=C._init,se(vt(C._payload),$,nt,J,ct)}}if(vt)return ct=ct(C),vt=J===""?"."+P(C,0):J,jt(ct)?(nt="",vt!=null&&(nt=vt.replace(V,"$&/")+"/"),se(ct,$,nt,"",function(qn){return qn})):ct!=null&&(R(ct)&&(ct=S(ct,nt+(ct.key==null||C&&C.key===ct.key?"":(""+ct.key).replace(V,"$&/")+"/")+vt)),$.push(ct)),1;vt=0;var Ce=J===""?".":J+":";if(jt(C))for(var Zt=0;Zt<C.length;Zt++)J=C[Zt],wt=Ce+P(J,Zt),vt+=se(J,$,nt,wt,ct);else if(Zt=N(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(J=C.next()).done;)J=J.value,wt=Ce+P(J,Zt++),vt+=se(J,$,nt,wt,ct);else if(wt==="object"){if(typeof C.then=="function")return se(Pe(C),$,nt,J,ct);throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return vt}function H(C,$,nt){if(C==null)return C;var J=[],ct=0;return se(C,J,"","",function(wt){return $.call(nt,wt,ct++)}),J}function et(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function kt(){}return St.Children={map:H,forEach:function(C,$,nt){H(C,function(){$.apply(this,arguments)},nt)},count:function(C){var $=0;return H(C,function(){$++}),$},toArray:function(C){return H(C,function($){return $})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=Z,St.Fragment=i,St.Profiler=l,St.PureComponent=yt,St.StrictMode=r,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=At,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return At.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,$,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=X({},C.props),ct=C.key,wt=void 0;if($!=null)for(vt in $.ref!==void 0&&(wt=void 0),$.key!==void 0&&(ct=""+$.key),$)!zt.call($,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&$.ref===void 0||(J[vt]=$[vt]);var vt=arguments.length-2;if(vt===1)J.children=nt;else if(1<vt){for(var Ce=Array(vt),Zt=0;Zt<vt;Zt++)Ce[Zt]=arguments[Zt+2];J.children=Ce}return M(C.type,ct,void 0,void 0,wt,J)},St.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},St.createElement=function(C,$,nt){var J,ct={},wt=null;if($!=null)for(J in $.key!==void 0&&(wt=""+$.key),$)zt.call($,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ct[J]=$[J]);var vt=arguments.length-2;if(vt===1)ct.children=nt;else if(1<vt){for(var Ce=Array(vt),Zt=0;Zt<vt;Zt++)Ce[Zt]=arguments[Zt+2];ct.children=Ce}if(C&&C.defaultProps)for(J in vt=C.defaultProps,vt)ct[J]===void 0&&(ct[J]=vt[J]);return M(C,wt,void 0,void 0,null,ct)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:g,render:C}},St.isValidElement=R,St.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:et}},St.memo=function(C,$){return{$$typeof:_,type:C,compare:$===void 0?null:$}},St.startTransition=function(C){var $=At.T,nt={};At.T=nt;try{var J=C(),ct=At.S;ct!==null&&ct(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(kt,lt)}catch(wt){lt(wt)}finally{At.T=$}},St.unstable_useCacheRefresh=function(){return At.H.useCacheRefresh()},St.use=function(C){return At.H.use(C)},St.useActionState=function(C,$,nt){return At.H.useActionState(C,$,nt)},St.useCallback=function(C,$){return At.H.useCallback(C,$)},St.useContext=function(C){return At.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,$){return At.H.useDeferredValue(C,$)},St.useEffect=function(C,$,nt){var J=At.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,$)},St.useId=function(){return At.H.useId()},St.useImperativeHandle=function(C,$,nt){return At.H.useImperativeHandle(C,$,nt)},St.useInsertionEffect=function(C,$){return At.H.useInsertionEffect(C,$)},St.useLayoutEffect=function(C,$){return At.H.useLayoutEffect(C,$)},St.useMemo=function(C,$){return At.H.useMemo(C,$)},St.useOptimistic=function(C,$){return At.H.useOptimistic(C,$)},St.useReducer=function(C,$,nt){return At.H.useReducer(C,$,nt)},St.useRef=function(C){return At.H.useRef(C)},St.useState=function(C){return At.H.useState(C)},St.useSyncExternalStore=function(C,$,nt){return At.H.useSyncExternalStore(C,$,nt)},St.useTransition=function(){return At.H.useTransition()},St.version="19.1.1",St}var c_;function om(){return c_||(c_=1,_d.exports=YA()),_d.exports}var ue=om(),vd={exports:{}},cl={},Ed={exports:{}},Td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function XA(){return h_||(h_=1,(function(s){function t(H,et){var lt=H.length;H.push(et);t:for(;0<lt;){var kt=lt-1>>>1,C=H[kt];if(0<l(C,et))H[kt]=et,H[lt]=C,lt=kt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var et=H[0],lt=H.pop();if(lt!==et){H[0]=lt;t:for(var kt=0,C=H.length,$=C>>>1;kt<$;){var nt=2*(kt+1)-1,J=H[nt],ct=nt+1,wt=H[ct];if(0>l(J,lt))ct<C&&0>l(wt,J)?(H[kt]=wt,H[ct]=lt,kt=ct):(H[kt]=J,H[nt]=lt,kt=nt);else if(ct<C&&0>l(wt,lt))H[kt]=wt,H[ct]=lt,kt=ct;else break t}}return et}function l(H,et){var lt=H.sortIndex-et.sortIndex;return lt!==0?lt:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,I=null,N=3,j=!1,X=!1,W=!1,Z=!1,pt=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function jt(H){for(var et=i(_);et!==null;){if(et.callback===null)r(_);else if(et.startTime<=H)r(_),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(_)}}function At(H){if(W=!1,jt(H),!X)if(i(y)!==null)X=!0,zt||(zt=!0,P());else{var et=i(_);et!==null&&se(At,et.startTime-H)}}var zt=!1,M=-1,S=5,R=-1;function O(){return Z?!0:!(s.unstable_now()-R<S)}function V(){if(Z=!1,zt){var H=s.unstable_now();R=H;var et=!0;try{t:{X=!1,W&&(W=!1,yt(M),M=-1),j=!0;var lt=N;try{e:{for(jt(H),I=i(y);I!==null&&!(I.expirationTime>H&&O());){var kt=I.callback;if(typeof kt=="function"){I.callback=null,N=I.priorityLevel;var C=kt(I.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){I.callback=C,jt(H),et=!0;break e}I===i(y)&&r(y),jt(H)}else r(y);I=i(y)}if(I!==null)et=!0;else{var $=i(_);$!==null&&se(At,$.startTime-H),et=!1}}break t}finally{I=null,N=lt,j=!1}et=void 0}}finally{et?P():zt=!1}}}var P;if(typeof ht=="function")P=function(){ht(V)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Pe=w.port2;w.port1.onmessage=V,P=function(){Pe.postMessage(null)}}else P=function(){pt(V,0)};function se(H,et){M=pt(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(H){switch(N){case 1:case 2:case 3:var et=3;break;default:et=N}var lt=N;N=et;try{return H()}finally{N=lt}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=N;N=H;try{return et()}finally{N=lt}},s.unstable_scheduleCallback=function(H,et,lt){var kt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?kt+lt:kt):lt=kt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,H={id:A++,callback:et,priorityLevel:H,startTime:lt,expirationTime:C,sortIndex:-1},lt>kt?(H.sortIndex=lt,t(_,H),i(y)===null&&H===i(_)&&(W?(yt(M),M=-1):W=!0,se(At,lt-kt))):(H.sortIndex=C,t(y,H),X||j||(X=!0,zt||(zt=!0,P()))),H},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(H){var et=N;return function(){var lt=N;N=et;try{return H.apply(this,arguments)}finally{N=lt}}}})(Td)),Td}var f_;function $A(){return f_||(f_=1,Ed.exports=XA()),Ed.exports}var Ad={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function ZA(){if(d_)return Qe;d_=1;var s=om();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,_,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(y,_,null,A)},Qe.flushSync=function(y){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=A,r.d.f()}},Qe.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Qe.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Qe.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:N,fetchPriority:j}):A==="script"&&r.d.X(y,{crossOrigin:I,integrity:N,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Qe.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,I=g(A,_.crossOrigin);r.d.L(y,A,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=g(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Qe.requestFormReset=function(y){r.d.r(y)},Qe.unstable_batchedUpdates=function(y,_){return y(_)},Qe.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var m_;function JA(){if(m_)return Ad.exports;m_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ad.exports=ZA(),Ad.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function WA(){if(g_)return cl;g_=1;var s=$A(),t=om(),i=JA();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),e;if(f===o)return g(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=c,o=f;else{for(var v=!1,E=c.child;E;){if(E===a){v=!0,a=c,o=f;break}if(E===o){v=!0,o=c,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=c;break}if(E===o){v=!0,o=f,a=c;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),pt=Symbol.for("react.provider"),yt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),At=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case Z:return"Profiler";case W:return"StrictMode";case At:return"Suspense";case zt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case ht:return(e.displayName||"Context")+".Provider";case yt:return(e._context.displayName||"Context")+".Consumer";case jt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return n=e.displayName||null,n!==null?n:Pe(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Pe(e(n))}catch{}}return null}var se=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},kt=[],C=-1;function $(e){return{current:e}}function nt(e){0>C||(e.current=kt[C],kt[C]=null,C--)}function J(e,n){C++,kt[C]=e.current,e.current=n}var ct=$(null),wt=$(null),vt=$(null),Ce=$(null);function Zt(e,n){switch(J(vt,n),J(wt,e),J(ct,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Py(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Py(n),e=Uy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ct),J(ct,e)}function qn(){nt(ct),nt(wt),nt(vt)}function Ki(e){e.memoizedState!==null&&J(Ce,e);var n=ct.current,a=Uy(n,e.type);n!==a&&(J(wt,e),J(ct,a))}function fi(e){wt.current===e&&(nt(ct),nt(wt)),Ce.current===e&&(nt(Ce),rl._currentValue=lt)}var qr=Object.prototype.hasOwnProperty,jr=s.unstable_scheduleCallback,Hr=s.unstable_cancelCallback,to=s.unstable_shouldYield,Hl=s.unstable_requestPaint,pn=s.unstable_now,ph=s.unstable_getCurrentPriorityLevel,eo=s.unstable_ImmediatePriority,ks=s.unstable_UserBlockingPriority,Gr=s.unstable_NormalPriority,yh=s.unstable_LowPriority,Ls=s.unstable_IdlePriority,no=s.log,Gl=s.unstable_setDisableYieldValue,ae=null,Ht=null;function on(e){if(typeof no=="function"&&Gl(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ae,e)}catch{}}var Ge=Math.clz32?Math.clz32:Fr,Fl=Math.log,_h=Math.LN2;function Fr(e){return e>>>=0,e===0?32:31-(Fl(e)/_h|0)|0}var Qr=256,Kr=4194304;function On(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zs(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=On(o):(v&=E,v!==0?c=On(v):a||(a=E&~e,a!==0&&(c=On(a))))):(E=o&~f,E!==0?c=On(E):v!==0?c=On(v):a||(a=o&~e,a!==0&&(c=On(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function Yr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function io(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ro(){var e=Qr;return Qr<<=1,(Qr&4194048)===0&&(Qr=256),e}function so(){var e=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),e}function di(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function mi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ao(e,n,a,o,c,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Ge(a),Q=1<<G;E[G]=0,b[G]=-1;var z=L[G];if(z!==null)for(L[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}a&=~Q}o!==0&&jn(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function jn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function oo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Ge(a),c=1<<o;c&n|e[o]&n&&(e[o]|=n),a&=~c}}function Yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xi(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:e_(e.type))}function Ql(e,n){var a=et.p;try{return et.p=e,n()}finally{et.p=a}}var ee=Math.random().toString(36).slice(2),Te="__reactFiber$"+ee,me="__reactProps$"+ee,yn="__reactContainer$"+ee,lo="__reactEvents$"+ee,vh="__reactListeners$"+ee,$i="__reactHandles$"+ee,Kl="__reactResources$"+ee,Xr="__reactMarker$"+ee;function Zi(e){delete e[Te],delete e[me],delete e[lo],delete e[vh],delete e[$i]}function gi(e){var n=e[Te];if(n)return n;for(var a=e.parentNode;a;){if(n=a[yn]||a[Te]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=By(e);e!==null;){if(a=e[Te])return a;e=By(e)}return n}e=a,a=e.parentNode}return null}function Hn(e){if(e=e[Te]||e[yn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ze(e){var n=e[Kl];return n||(n=e[Kl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(e){e[Xr]=!0}var uo=new Set,qs={};function Vn(e,n){pi(e,n),pi(e+"Capture",n)}function pi(e,n){for(qs[e]=n,e=0;e<n.length;e++)uo.add(n[e])}var Yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},$r={};function $l(e){return qr.call($r,e)?!0:qr.call(Xl,e)?!1:Yl.test(e)?$r[e]=!0:(Xl[e]=!0,!1)}function Ji(e,n,a){if($l(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Fn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ue(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var Zr,Zl;function yi(e){if(Zr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Zr=n&&n[1]||"",Zl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+e+Zl}var js=!1;function Hs(e,n){if(!e||js)return"";js=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var b=v.split(`
`),L=E.split(`
`);for(c=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(o===b.length||c===L.length)for(o=b.length-1,c=L.length-1;1<=o&&0<=c&&b[o]!==L[c];)c--;for(;1<=o&&0<=c;o--,c--)if(b[o]!==L[c]){if(o!==1||c!==1)do if(o--,c--,0>c||b[o]!==L[c]){var G=`
`+b[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=c);break}}}finally{js=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?yi(a):""}function co(e){switch(e.tag){case 26:case 27:case 5:return yi(e.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return Hs(e.type,!1);case 11:return Hs(e.type.render,!1);case 1:return Hs(e.type,!0);case 31:return yi("Activity");default:return""}}function Gs(e){try{var n="";do n+=co(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ho(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Eh(e){var n=ho(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Fs(e){e._valueTracker||(e._valueTracker=Eh(e))}function fo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=ho(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Jr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Th=/[\n"\\]/g;function ge(e){return e.replace(Th,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ln(e,n,a,o,c,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Je(n)):e.value!==""+Je(n)&&(e.value=""+Je(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Wi(e,v,Je(n)):a!=null?Wi(e,v,Je(a)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Je(E):e.removeAttribute("name")}function Wr(e,n,a,o,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Je(a):"",n=n!=null?""+Je(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Wi(e,n,a){n==="number"&&Jr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function _i(e,n,a,o){if(e=e.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=n.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Je(a),n=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Qt(e,n,a){if(n!=null&&(n=""+Je(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Je(a):""}function ts(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(se(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Je(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function _n(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||es.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function mo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&a[c]!==o&&Jl(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&Jl(e,f,n[f])}function go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(e){return Sh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var vi=null;function vn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,Ti=null;function po(e){var n=Hn(e);if(n&&(e=n.stateNode)){var a=e[me]||null;t:switch(e=n.stateNode,n.type){case"input":if(ln(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var c=o[me]||null;if(!c)throw Error(r(90));ln(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&fo(o)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&_i(e,!!a.multiple,n,!1)}}}var Qn=!1;function Wl(e,n,a){if(Qn)return e(n,a);Qn=!0;try{var o=e(n);return o}finally{if(Qn=!1,(Ei!==null||Ti!==null)&&(Qu(),Ei&&(n=Ei,e=Ti,Ti=Ei=null,po(n),e)))for(n=0;n<e.length;n++)po(e[n])}}function ns(e,n){var a=e.stateNode;if(a===null)return null;var o=a[me]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(Mn)try{var is={};Object.defineProperty(is,"passive",{get:function(){En=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{En=!1}var Kn=null,tr=null,Ai=null;function yo(){if(Ai)return Ai;var e,n=tr,a=n.length,o,c="value"in Kn?Kn.value:Kn.textContent,f=c.length;for(e=0;e<a&&n[e]===c[e];e++);var v=a-e;for(o=1;o<=v&&n[a-o]===c[f-o];o++);return Ai=c.slice(e,1<o?1-o:void 0)}function Yn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function _o(){return!1}function De(e){function n(a,o,c,f,v){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xn:_o,this.isPropagationStopped=_o,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=De(Bt),rs=A({},Bt,{view:0,detail:0}),tu=De(rs),Ys,Xs,$n,ss=A({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(Ys=e.screenX-$n.screenX,Xs=e.screenY-$n.screenY):Xs=Ys=0,$n=e),Ys)},movementY:function(e){return"movementY"in e?e.movementY:Xs}}),Tn=De(ss),eu=A({},ss,{dataTransfer:0}),bh=De(eu),as=A({},rs,{relatedTarget:0}),$s=De(as),vo=A({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Zs=De(vo),nu=A({},Bt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Js=De(nu),wh=A({},Bt,{data:0}),Eo=De(wh),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function To(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ru[e])?!!n[e]:!1}function ls(){return To}var su=A({},rs,{key:function(e){if(e.key){var n=os[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ws=De(su),au=A({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=De(au),Si=A({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),ou=De(Si),lu=A({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),uu=De(lu),cu=A({},ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ta=De(cu),We=A({},Bt,{newState:0,oldState:0}),hu=De(We),fu=[9,13,27,32],Zn=Mn&&"CompositionEvent"in window,u=null;Mn&&"documentMode"in document&&(u=document.documentMode);var m=Mn&&"TextEvent"in window&&!u,p=Mn&&(!Zn||u&&8<u&&11>=u),T=" ",U=!1;function q(e,n){switch(e){case"keyup":return fu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vt=!1;function Ae(e,n){switch(e){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return e=n.data,e===T&&U?null:e;default:return null}}function Mt(e,n){if(Vt)return e==="compositionend"||!Zn&&q(e,n)?(e=yo(),Ai=tr=Kn=null,Vt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ne[e.type]:n==="textarea"}function bi(e,n,a,o){Ei?Ti?Ti.push(o):Ti=[o]:Ei=o,n=Ju(n,"onChange"),0<n.length&&(a=new Ks("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var ke=null,Jn=null;function So(e){Ny(e,0)}function du(e){var n=Gn(e);if(fo(n))return e}function Zm(e,n){if(e==="change")return n}var Jm=!1;if(Mn){var Rh;if(Mn){var Ih="oninput"in document;if(!Ih){var Wm=document.createElement("div");Wm.setAttribute("oninput","return;"),Ih=typeof Wm.oninput=="function"}Rh=Ih}else Rh=!1;Jm=Rh&&(!document.documentMode||9<document.documentMode)}function tg(){ke&&(ke.detachEvent("onpropertychange",eg),Jn=ke=null)}function eg(e){if(e.propertyName==="value"&&du(Jn)){var n=[];bi(n,Jn,e,vn(e)),Wl(So,n)}}function A0(e,n,a){e==="focusin"?(tg(),ke=n,Jn=a,ke.attachEvent("onpropertychange",eg)):e==="focusout"&&tg()}function S0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return du(Jn)}function b0(e,n){if(e==="click")return du(n)}function w0(e,n){if(e==="input"||e==="change")return du(n)}function R0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var un=typeof Object.is=="function"?Object.is:R0;function bo(e,n){if(un(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!qr.call(n,c)||!un(e[c],n[c]))return!1}return!0}function ng(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ig(e,n){var a=ng(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ng(a)}}function rg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?rg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function sg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Jr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Jr(e.document)}return n}function Ch(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var I0=Mn&&"documentMode"in document&&11>=document.documentMode,ea=null,Dh=null,wo=null,Nh=!1;function ag(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nh||ea==null||ea!==Jr(o)||(o=ea,"selectionStart"in o&&Ch(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),wo&&bo(wo,o)||(wo=o,o=Ju(Dh,"onSelect"),0<o.length&&(n=new Ks("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ea)))}function us(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var na={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},Oh={},og={};Mn&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete na.animationend.animation,delete na.animationiteration.animation,delete na.animationstart.animation),"TransitionEvent"in window||delete na.transitionend.transition);function cs(e){if(Oh[e])return Oh[e];if(!na[e])return e;var n=na[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in og)return Oh[e]=n[a];return e}var lg=cs("animationend"),ug=cs("animationiteration"),cg=cs("animationstart"),C0=cs("transitionrun"),D0=cs("transitionstart"),N0=cs("transitioncancel"),hg=cs("transitionend"),fg=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function xn(e,n){fg.set(e,n),Vn(n,[e])}var dg=new WeakMap;function An(e,n){if(typeof e=="object"&&e!==null){var a=dg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Gs(n)},dg.set(e,n),n)}return{value:e,source:n,stack:Gs(n)}}var Sn=[],ia=0,Mh=0;function mu(){for(var e=ia,n=Mh=ia=0;n<e;){var a=Sn[n];Sn[n++]=null;var o=Sn[n];Sn[n++]=null;var c=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,o!==null&&c!==null){var v=o.pending;v===null?c.next=c:(c.next=v.next,v.next=c),o.pending=c}f!==0&&mg(a,c,f)}}function gu(e,n,a,o){Sn[ia++]=e,Sn[ia++]=n,Sn[ia++]=a,Sn[ia++]=o,Mh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function xh(e,n,a,o){return gu(e,n,a,o),pu(e)}function ra(e,n){return gu(e,null,null,n),pu(e)}function mg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var c=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-Ge(a),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=a|536870912),f):null}function pu(e){if(50<$o)throw $o=0,qf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var sa={};function O0(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,n,a,o){return new O0(e,n,a,o)}function Ph(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wi(e,n){var a=e.alternate;return a===null?(a=cn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function gg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function yu(e,n,a,o,c,f){var v=0;if(o=e,typeof e=="function")Ph(e)&&(v=1);else if(typeof e=="string")v=MA(e,a,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=cn(31,a,n,c),e.elementType=R,e.lanes=f,e;case X:return hs(a.children,c,f,n);case W:v=8,c|=24;break;case Z:return e=cn(12,a,n,c|2),e.elementType=Z,e.lanes=f,e;case At:return e=cn(13,a,n,c),e.elementType=At,e.lanes=f,e;case zt:return e=cn(19,a,n,c),e.elementType=zt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:case ht:v=10;break t;case yt:v=9;break t;case jt:v=11;break t;case M:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=cn(v,a,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function hs(e,n,a,o){return e=cn(7,e,o,n),e.lanes=a,e}function Uh(e,n,a){return e=cn(6,e,null,n),e.lanes=a,e}function kh(e,n,a){return n=cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var aa=[],oa=0,_u=null,vu=0,bn=[],wn=0,fs=null,Ri=1,Ii="";function ds(e,n){aa[oa++]=vu,aa[oa++]=_u,_u=e,vu=n}function pg(e,n,a){bn[wn++]=Ri,bn[wn++]=Ii,bn[wn++]=fs,fs=e;var o=Ri;e=Ii;var c=32-Ge(o)-1;o&=~(1<<c),a+=1;var f=32-Ge(n)+c;if(30<f){var v=c-c%5;f=(o&(1<<v)-1).toString(32),o>>=v,c-=v,Ri=1<<32-Ge(n)+c|a<<c|o,Ii=f+e}else Ri=1<<f|a<<c|o,Ii=e}function Lh(e){e.return!==null&&(ds(e,1),pg(e,1,0))}function zh(e){for(;e===_u;)_u=aa[--oa],aa[oa]=null,vu=aa[--oa],aa[oa]=null;for(;e===fs;)fs=bn[--wn],bn[wn]=null,Ii=bn[--wn],bn[wn]=null,Ri=bn[--wn],bn[wn]=null}var tn=null,oe=null,Lt=!1,ms=null,Wn=!1,Bh=Error(r(519));function gs(e){var n=Error(r(418,""));throw Co(An(n,e)),Bh}function yg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Te]=e,n[me]=o,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<Jo.length;a++)Ct(Jo[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Wr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Fs(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ts(n,o.value,o.defaultValue,o.children),Fs(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||xy(n.textContent,a)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=Wu),n=!0):n=!1,n||gs(e)}function _g(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:tn=tn.return}}function Ro(e){if(e!==tn)return!1;if(!Lt)return _g(e),Lt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||id(e.type,e.memoizedProps)),a=!a),a&&oe&&gs(e),_g(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){oe=Un(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}oe=null}}else n===27?(n=oe,pr(e.type)?(e=od,od=null,oe=e):oe=n):oe=tn?Un(e.stateNode.nextSibling):null;return!0}function Io(){oe=tn=null,Lt=!1}function vg(){var e=ms;return e!==null&&(rn===null?rn=e:rn.push.apply(rn,e),ms=null),e}function Co(e){ms===null?ms=[e]:ms.push(e)}var qh=$(null),ps=null,Ci=null;function er(e,n,a){J(qh,n._currentValue),n._currentValue=a}function Di(e){e._currentValue=qh.current,nt(qh)}function jh(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Hh(e,n,a,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),jh(f.return,a,e),o||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),jh(v,a,e),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===e){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function Do(e,n,a,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=c.type;un(c.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(c===Ce.current){if(v=c.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(rl):e=[rl])}c=c.return}e!==null&&Hh(n,e,a,o),n.flags|=262144}function Eu(e){for(e=e.firstContext;e!==null;){if(!un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ys(e){ps=e,Ci=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Eg(ps,e)}function Tu(e,n){return ps===null&&ys(e),Eg(e,n)}function Eg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ci===null){if(e===null)throw Error(r(308));Ci=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ci=Ci.next=n;return a}var V0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},M0=s.unstable_scheduleCallback,x0=s.unstable_NormalPriority,be={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gh(){return{controller:new V0,data:new Map,refCount:0}}function No(e){e.refCount--,e.refCount===0&&M0(x0,function(){e.controller.abort()})}var Oo=null,Fh=0,la=0,ua=null;function P0(e,n){if(Oo===null){var a=Oo=[];Fh=0,la=Yf(),ua={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Fh++,n.then(Tg,Tg),n}function Tg(){if(--Fh===0&&Oo!==null){ua!==null&&(ua.status="fulfilled");var e=Oo;Oo=null,la=0,ua=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function U0(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),o}var Ag=H.S;H.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&P0(e,n),Ag!==null&&Ag(e,n)};var _s=$(null);function Qh(){var e=_s.current;return e!==null?e:Jt.pooledCache}function Au(e,n){n===null?J(_s,_s.current):J(_s,n.pool)}function Sg(){var e=Qh();return e===null?null:{parent:be._currentValue,pool:e}}var Vo=Error(r(460)),bg=Error(r(474)),Su=Error(r(542)),Kh={then:function(){}};function wg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bu(){}function Rg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(bu,bu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cg(e),e;default:if(typeof n.status=="string")n.then(bu,bu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Cg(e),e}throw Mo=n,Vo}}var Mo=null;function Ig(){if(Mo===null)throw Error(r(459));var e=Mo;return Mo=null,e}function Cg(e){if(e===Vo||e===Su)throw Error(r(483))}var nr=!1;function Yh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=pu(e),mg(e,null,a),n}return gu(e,o,n,a),pu(e)}function xo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,oo(e,a)}}function $h(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Zh=!1;function Po(){if(Zh){var e=ua;if(e!==null)throw e}}function Uo(e,n,a,o){Zh=!1;var c=e.updateQueue;nr=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,L=b.next;b.next=null,v===null?f=L:v.next=L,v=b;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=b))}if(f!==null){var Q=c.baseState;v=0,G=L=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(xt&z)===z:(o&z)===z){z!==0&&z===la&&(Zh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=e,ft=E;z=n;var Xt=a;switch(ft.tag){case 1:if(gt=ft.payload,typeof gt=="function"){Q=gt.call(Xt,Q,z);break t}Q=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=ft.payload,z=typeof gt=="function"?gt.call(Xt,Q,z):gt,z==null)break t;Q=A({},Q,z);break t;case 2:nr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=B,b=Q):G=G.next=B,v|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);G===null&&(b=Q),c.baseState=b,c.firstBaseUpdate=L,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),fr|=v,e.lanes=v,e.memoizedState=Q}}function Dg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Ng(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Dg(a[e],n)}var ca=$(null),wu=$(0);function Og(e,n){e=Ui,J(wu,e),J(ca,n),Ui=e|n.baseLanes}function Jh(){J(wu,Ui),J(ca,ca.current)}function Wh(){Ui=wu.current,nt(ca),nt(wu)}var sr=0,bt=null,Kt=null,pe=null,Ru=!1,ha=!1,vs=!1,Iu=0,ko=0,fa=null,k0=0;function he(){throw Error(r(321))}function tf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!un(e[a],n[a]))return!1;return!0}function ef(e,n,a,o,c,f){return sr=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?mp:gp,vs=!1,f=a(o,c),vs=!1,ha&&(f=Mg(n,a,o,c)),Vg(e),f}function Vg(e){H.H=Mu;var n=Kt!==null&&Kt.next!==null;if(sr=0,pe=Kt=bt=null,Ru=!1,ko=0,fa=null,n)throw Error(r(300));e===null||Oe||(e=e.dependencies,e!==null&&Eu(e)&&(Oe=!0))}function Mg(e,n,a,o){bt=e;var c=0;do{if(ha&&(fa=null),ko=0,ha=!1,25<=c)throw Error(r(301));if(c+=1,pe=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=G0,f=n(a,o)}while(ha);return f}function L0(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Lo(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(bt.flags|=1024),n}function nf(){var e=Iu!==0;return Iu=0,e}function rf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function sf(e){if(Ru){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ru=!1}sr=0,pe=Kt=bt=null,ha=!1,ko=Iu=0,fa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?bt.memoizedState=pe=e:pe=pe.next=e,pe}function ye(){if(Kt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=pe===null?bt.memoizedState:pe.next;if(n!==null)pe=n,Kt=e;else{if(e===null)throw bt.alternate===null?Error(r(467)):Error(r(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},pe===null?bt.memoizedState=pe=e:pe=pe.next=e}return pe}function af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lo(e){var n=ko;return ko+=1,fa===null&&(fa=[]),e=Rg(fa,e,n),n=bt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?mp:gp),e}function Cu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lo(e);if(e.$$typeof===ht)return Fe(e)}throw Error(r(438,String(e)))}function of(e){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=af(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=O;return n.index++,a}function Ni(e,n){return typeof n=="function"?n(e):n}function Du(e){var n=ye();return lf(n,Kt,e)}function lf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=v=null,b=null,L=n,G=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(xt&Q)===Q:(sr&Q)===Q){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===la&&(G=!0);else if((sr&z)===z){L=L.next,z===la&&(G=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=Q,v=f):b=b.next=Q,bt.lanes|=z,fr|=z;Q=L.action,vs&&a(f,Q),f=L.hasEagerState?L.eagerState:a(f,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,v=f):b=b.next=z,bt.lanes|=Q,fr|=Q;L=L.next}while(L!==null&&L!==n);if(b===null?v=f:b.next=E,!un(f,e.memoizedState)&&(Oe=!0,G&&(a=ua,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=b,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function uf(e){var n=ye(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var v=c=c.next;do f=e(f,v.action),v=v.next;while(v!==c);un(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function xg(e,n,a){var o=bt,c=ye(),f=Lt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var v=!un((Kt||c).memoizedState,a);v&&(c.memoizedState=a,Oe=!0),c=c.queue;var E=kg.bind(null,o,c,e);if(zo(2048,8,E,[e]),c.getSnapshot!==n||v||pe!==null&&pe.memoizedState.tag&1){if(o.flags|=2048,da(9,Nu(),Ug.bind(null,o,c,a,n),null),Jt===null)throw Error(r(349));f||(sr&124)!==0||Pg(o,n,a)}return a}function Pg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=af(),bt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Ug(e,n,a,o){n.value=a,n.getSnapshot=o,Lg(n)&&zg(e)}function kg(e,n,a){return a(function(){Lg(n)&&zg(e)})}function Lg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!un(e,a)}catch{return!0}}function zg(e){var n=ra(e,2);n!==null&&gn(n,e,2)}function cf(e){var n=en();if(typeof e=="function"){var a=e;if(e=a(),vs){on(!0);try{a()}finally{on(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:e},n}function Bg(e,n,a,o){return e.baseState=a,lf(e,Kt,typeof o=="function"?o:Ni)}function z0(e,n,a,o,c){if(Vu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,qg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function qg(e,n){var a=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=H.T,v={};H.T=v;try{var E=a(c,o),b=H.S;b!==null&&b(v,E),jg(e,n,E)}catch(L){hf(e,n,L)}finally{H.T=f}}else try{f=a(c,o),jg(e,n,f)}catch(L){hf(e,n,L)}}function jg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Hg(e,n,o)},function(o){return hf(e,n,o)}):Hg(e,n,a)}function Hg(e,n,a){n.status="fulfilled",n.value=a,Gg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,qg(e,a)))}function hf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Gg(n),n=n.next;while(n!==o)}e.action=null}function Gg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Fg(e,n){return n}function Qg(e,n){if(Lt){var a=Jt.formState;if(a!==null){t:{var o=bt;if(Lt){if(oe){e:{for(var c=oe,f=Wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){oe=Un(c.nextSibling),o=c.data==="F!";break t}}gs(o)}o=!1}o&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:n},a.queue=o,a=hp.bind(null,bt,o),o.dispatch=a,o=cf(!1),f=pf.bind(null,bt,!1,o.queue),o=en(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,a=z0.bind(null,bt,c,f,a),c.dispatch=a,o.memoizedState=e,[n,a,!1]}function Kg(e){var n=ye();return Yg(n,Kt,e)}function Yg(e,n,a){if(n=lf(e,n,Fg)[0],e=Du(Ni)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Lo(n)}catch(v){throw v===Vo?Su:v}else o=n;n=ye();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,da(9,Nu(),B0.bind(null,c,a),null)),[o,f,e]}function B0(e,n){e.action=n}function Xg(e){var n=ye(),a=Kt;if(a!==null)return Yg(n,a,e);ye(),n=n.memoizedState,a=ye();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function da(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=af(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Nu(){return{destroy:void 0,resource:void 0}}function $g(){return ye().memoizedState}function Ou(e,n,a,o){var c=en();o=o===void 0?null:o,bt.flags|=e,c.memoizedState=da(1|n,Nu(),a,o)}function zo(e,n,a,o){var c=ye();o=o===void 0?null:o;var f=c.memoizedState.inst;Kt!==null&&o!==null&&tf(o,Kt.memoizedState.deps)?c.memoizedState=da(n,f,a,o):(bt.flags|=e,c.memoizedState=da(1|n,f,a,o))}function Zg(e,n){Ou(8390656,8,e,n)}function Jg(e,n){zo(2048,8,e,n)}function Wg(e,n){return zo(4,2,e,n)}function tp(e,n){return zo(4,4,e,n)}function ep(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function np(e,n,a){a=a!=null?a.concat([e]):null,zo(4,4,ep.bind(null,n,e),a)}function ff(){}function ip(e,n){var a=ye();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&tf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function rp(e,n){var a=ye();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&tf(n,o[1]))return o[0];if(o=e(),vs){on(!0);try{e()}finally{on(!1)}}return a.memoizedState=[o,n],o}function df(e,n,a){return a===void 0||(sr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=oy(),bt.lanes|=e,fr|=e,a)}function sp(e,n,a,o){return un(a,n)?a:ca.current!==null?(e=df(e,a,o),un(e,n)||(Oe=!0),e):(sr&42)===0?(Oe=!0,e.memoizedState=a):(e=oy(),bt.lanes|=e,fr|=e,n)}function ap(e,n,a,o,c){var f=et.p;et.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,pf(e,!1,n,a);try{var b=c(),L=H.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=U0(b,o);Bo(e,n,G,mn(e))}else Bo(e,n,o,mn(e))}catch(Q){Bo(e,n,{then:function(){},status:"rejected",reason:Q},mn())}finally{et.p=f,H.T=v}}function q0(){}function mf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var c=op(e).queue;ap(e,c,n,lt,a===null?q0:function(){return lp(e),a(o)})}function op(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:lt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function lp(e){var n=op(e).next.queue;Bo(e,n,{},mn())}function gf(){return Fe(rl)}function up(){return ye().memoizedState}function cp(){return ye().memoizedState}function j0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=mn();e=ir(a);var o=rr(n,e,a);o!==null&&(gn(o,n,a),xo(o,n,a)),n={cache:Gh()},e.payload=n;return}n=n.return}}function H0(e,n,a){var o=mn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Vu(e)?fp(n,a):(a=xh(e,n,a,o),a!==null&&(gn(a,e,o),dp(a,n,o)))}function hp(e,n,a){var o=mn();Bo(e,n,a,o)}function Bo(e,n,a,o){var c={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Vu(e))fp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,a);if(c.hasEagerState=!0,c.eagerState=E,un(E,v))return gu(e,n,c,0),Jt===null&&mu(),!1}catch{}finally{}if(a=xh(e,n,c,o),a!==null)return gn(a,e,o),dp(a,n,o),!0}return!1}function pf(e,n,a,o){if(o={lane:2,revertLane:Yf(),action:o,hasEagerState:!1,eagerState:null,next:null},Vu(e)){if(n)throw Error(r(479))}else n=xh(e,a,o,2),n!==null&&gn(n,e,2)}function Vu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function fp(e,n){ha=Ru=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function dp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,oo(e,a)}}var Mu={readContext:Fe,use:Cu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},mp={readContext:Fe,use:Cu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:Zg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ou(4194308,4,ep.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ou(4194308,4,e,n)},useInsertionEffect:function(e,n){Ou(4,2,e,n)},useMemo:function(e,n){var a=en();n=n===void 0?null:n;var o=e();if(vs){on(!0);try{e()}finally{on(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=en();if(a!==void 0){var c=a(n);if(vs){on(!0);try{a(n)}finally{on(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=H0.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=cf(e);var n=e.queue,a=hp.bind(null,bt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:ff,useDeferredValue:function(e,n){var a=en();return df(a,e,n)},useTransition:function(){var e=cf(!1);return e=ap.bind(null,bt,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=bt,c=en();if(Lt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Jt===null)throw Error(r(349));(xt&124)!==0||Pg(o,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Zg(kg.bind(null,o,f,e),[e]),o.flags|=2048,da(9,Nu(),Ug.bind(null,o,f,a,n),null),a},useId:function(){var e=en(),n=Jt.identifierPrefix;if(Lt){var a=Ii,o=Ri;a=(o&~(1<<32-Ge(o)-1)).toString(32)+a,n="«"+n+"R"+a,a=Iu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=k0++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:gf,useFormState:Qg,useActionState:Qg,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=pf.bind(null,bt,!0,a),a.dispatch=n,[e,n]},useMemoCache:of,useCacheRefresh:function(){return en().memoizedState=j0.bind(null,bt)}},gp={readContext:Fe,use:Cu,useCallback:ip,useContext:Fe,useEffect:Jg,useImperativeHandle:np,useInsertionEffect:Wg,useLayoutEffect:tp,useMemo:rp,useReducer:Du,useRef:$g,useState:function(){return Du(Ni)},useDebugValue:ff,useDeferredValue:function(e,n){var a=ye();return sp(a,Kt.memoizedState,e,n)},useTransition:function(){var e=Du(Ni)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Lo(e),n]},useSyncExternalStore:xg,useId:up,useHostTransitionStatus:gf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,n){var a=ye();return Bg(a,Kt,e,n)},useMemoCache:of,useCacheRefresh:cp},G0={readContext:Fe,use:Cu,useCallback:ip,useContext:Fe,useEffect:Jg,useImperativeHandle:np,useInsertionEffect:Wg,useLayoutEffect:tp,useMemo:rp,useReducer:uf,useRef:$g,useState:function(){return uf(Ni)},useDebugValue:ff,useDeferredValue:function(e,n){var a=ye();return Kt===null?df(a,e,n):sp(a,Kt.memoizedState,e,n)},useTransition:function(){var e=uf(Ni)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Lo(e),n]},useSyncExternalStore:xg,useId:up,useHostTransitionStatus:gf,useFormState:Xg,useActionState:Xg,useOptimistic:function(e,n){var a=ye();return Kt!==null?Bg(a,Kt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:of,useCacheRefresh:cp},ma=null,qo=0;function xu(e){var n=qo;return qo+=1,ma===null&&(ma=[]),Rg(ma,e,n)}function jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===I?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function pp(e){var n=e._init;return n(e._payload)}function yp(e){function n(x,D){if(e){var k=x.deletions;k===null?(x.deletions=[D],x.flags|=16):k.push(D)}}function a(x,D){if(!e)return null;for(;D!==null;)n(x,D),D=D.sibling;return null}function o(x){for(var D=new Map;x!==null;)x.key!==null?D.set(x.key,x):D.set(x.index,x),x=x.sibling;return D}function c(x,D){return x=wi(x,D),x.index=0,x.sibling=null,x}function f(x,D,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<D?(x.flags|=67108866,D):k):(x.flags|=67108866,D)):(x.flags|=1048576,D)}function v(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,D,k,F){return D===null||D.tag!==6?(D=Uh(k,x.mode,F),D.return=x,D):(D=c(D,k),D.return=x,D)}function b(x,D,k,F){var st=k.type;return st===X?G(x,D,k.props.children,F,k.key):D!==null&&(D.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&pp(st)===D.type)?(D=c(D,k.props),jo(D,k),D.return=x,D):(D=yu(k.type,k.key,k.props,null,x.mode,F),jo(D,k),D.return=x,D)}function L(x,D,k,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==k.containerInfo||D.stateNode.implementation!==k.implementation?(D=kh(k,x.mode,F),D.return=x,D):(D=c(D,k.children||[]),D.return=x,D)}function G(x,D,k,F,st){return D===null||D.tag!==7?(D=hs(k,x.mode,F,st),D.return=x,D):(D=c(D,k),D.return=x,D)}function Q(x,D,k){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Uh(""+D,x.mode,k),D.return=x,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case N:return k=yu(D.type,D.key,D.props,null,x.mode,k),jo(k,D),k.return=x,k;case j:return D=kh(D,x.mode,k),D.return=x,D;case S:var F=D._init;return D=F(D._payload),Q(x,D,k)}if(se(D)||P(D))return D=hs(D,x.mode,k,null),D.return=x,D;if(typeof D.then=="function")return Q(x,xu(D),k);if(D.$$typeof===ht)return Q(x,Tu(x,D),k);Pu(x,D)}return null}function z(x,D,k,F){var st=D!==null?D.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return st!==null?null:E(x,D,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case N:return k.key===st?b(x,D,k,F):null;case j:return k.key===st?L(x,D,k,F):null;case S:return st=k._init,k=st(k._payload),z(x,D,k,F)}if(se(k)||P(k))return st!==null?null:G(x,D,k,F,null);if(typeof k.then=="function")return z(x,D,xu(k),F);if(k.$$typeof===ht)return z(x,D,Tu(x,k),F);Pu(x,k)}return null}function B(x,D,k,F,st){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(k)||null,E(D,x,""+F,st);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case N:return x=x.get(F.key===null?k:F.key)||null,b(D,x,F,st);case j:return x=x.get(F.key===null?k:F.key)||null,L(D,x,F,st);case S:var Rt=F._init;return F=Rt(F._payload),B(x,D,k,F,st)}if(se(F)||P(F))return x=x.get(k)||null,G(D,x,F,st,null);if(typeof F.then=="function")return B(x,D,k,xu(F),st);if(F.$$typeof===ht)return B(x,D,k,Tu(D,F),st);Pu(D,F)}return null}function gt(x,D,k,F){for(var st=null,Rt=null,at=D,dt=D=0,Me=null;at!==null&&dt<k.length;dt++){at.index>dt?(Me=at,at=null):Me=at.sibling;var Ut=z(x,at,k[dt],F);if(Ut===null){at===null&&(at=Me);break}e&&at&&Ut.alternate===null&&n(x,at),D=f(Ut,D,dt),Rt===null?st=Ut:Rt.sibling=Ut,Rt=Ut,at=Me}if(dt===k.length)return a(x,at),Lt&&ds(x,dt),st;if(at===null){for(;dt<k.length;dt++)at=Q(x,k[dt],F),at!==null&&(D=f(at,D,dt),Rt===null?st=at:Rt.sibling=at,Rt=at);return Lt&&ds(x,dt),st}for(at=o(at);dt<k.length;dt++)Me=B(at,x,dt,k[dt],F),Me!==null&&(e&&Me.alternate!==null&&at.delete(Me.key===null?dt:Me.key),D=f(Me,D,dt),Rt===null?st=Me:Rt.sibling=Me,Rt=Me);return e&&at.forEach(function(Tr){return n(x,Tr)}),Lt&&ds(x,dt),st}function ft(x,D,k,F){if(k==null)throw Error(r(151));for(var st=null,Rt=null,at=D,dt=D=0,Me=null,Ut=k.next();at!==null&&!Ut.done;dt++,Ut=k.next()){at.index>dt?(Me=at,at=null):Me=at.sibling;var Tr=z(x,at,Ut.value,F);if(Tr===null){at===null&&(at=Me);break}e&&at&&Tr.alternate===null&&n(x,at),D=f(Tr,D,dt),Rt===null?st=Tr:Rt.sibling=Tr,Rt=Tr,at=Me}if(Ut.done)return a(x,at),Lt&&ds(x,dt),st;if(at===null){for(;!Ut.done;dt++,Ut=k.next())Ut=Q(x,Ut.value,F),Ut!==null&&(D=f(Ut,D,dt),Rt===null?st=Ut:Rt.sibling=Ut,Rt=Ut);return Lt&&ds(x,dt),st}for(at=o(at);!Ut.done;dt++,Ut=k.next())Ut=B(at,x,dt,Ut.value,F),Ut!==null&&(e&&Ut.alternate!==null&&at.delete(Ut.key===null?dt:Ut.key),D=f(Ut,D,dt),Rt===null?st=Ut:Rt.sibling=Ut,Rt=Ut);return e&&at.forEach(function(FA){return n(x,FA)}),Lt&&ds(x,dt),st}function Xt(x,D,k,F){if(typeof k=="object"&&k!==null&&k.type===X&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case N:t:{for(var st=k.key;D!==null;){if(D.key===st){if(st=k.type,st===X){if(D.tag===7){a(x,D.sibling),F=c(D,k.props.children),F.return=x,x=F;break t}}else if(D.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&pp(st)===D.type){a(x,D.sibling),F=c(D,k.props),jo(F,k),F.return=x,x=F;break t}a(x,D);break}else n(x,D);D=D.sibling}k.type===X?(F=hs(k.props.children,x.mode,F,k.key),F.return=x,x=F):(F=yu(k.type,k.key,k.props,null,x.mode,F),jo(F,k),F.return=x,x=F)}return v(x);case j:t:{for(st=k.key;D!==null;){if(D.key===st)if(D.tag===4&&D.stateNode.containerInfo===k.containerInfo&&D.stateNode.implementation===k.implementation){a(x,D.sibling),F=c(D,k.children||[]),F.return=x,x=F;break t}else{a(x,D);break}else n(x,D);D=D.sibling}F=kh(k,x.mode,F),F.return=x,x=F}return v(x);case S:return st=k._init,k=st(k._payload),Xt(x,D,k,F)}if(se(k))return gt(x,D,k,F);if(P(k)){if(st=P(k),typeof st!="function")throw Error(r(150));return k=st.call(k),ft(x,D,k,F)}if(typeof k.then=="function")return Xt(x,D,xu(k),F);if(k.$$typeof===ht)return Xt(x,D,Tu(x,k),F);Pu(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,D!==null&&D.tag===6?(a(x,D.sibling),F=c(D,k),F.return=x,x=F):(a(x,D),F=Uh(k,x.mode,F),F.return=x,x=F),v(x)):a(x,D)}return function(x,D,k,F){try{qo=0;var st=Xt(x,D,k,F);return ma=null,st}catch(at){if(at===Vo||at===Su)throw at;var Rt=cn(29,at,null,x.mode);return Rt.lanes=F,Rt.return=x,Rt}finally{}}}var ga=yp(!0),_p=yp(!1),Rn=$(null),ti=null;function ar(e){var n=e.alternate;J(we,we.current&1),J(Rn,e),ti===null&&(n===null||ca.current!==null||n.memoizedState!==null)&&(ti=e)}function vp(e){if(e.tag===22){if(J(we,we.current),J(Rn,e),ti===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ti=e)}}else or()}function or(){J(we,we.current),J(Rn,Rn.current)}function Oi(e){nt(Rn),ti===e&&(ti=null),nt(we)}var we=$(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||ad(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function yf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var _f={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=mn(),c=ir(o);c.payload=n,a!=null&&(c.callback=a),n=rr(e,c,o),n!==null&&(gn(n,e,o),xo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=mn(),c=ir(o);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=rr(e,c,o),n!==null&&(gn(n,e,o),xo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=mn(),o=ir(a);o.tag=2,n!=null&&(o.callback=n),n=rr(e,o,a),n!==null&&(gn(n,e,a),xo(n,e,a))}};function Ep(e,n,a,o,c,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):n.prototype&&n.prototype.isPureReactComponent?!bo(a,o)||!bo(c,f):!0}function Tp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&_f.enqueueReplaceState(n,n.state,null)}function Es(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=A({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}var ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ap(e){ku(e)}function Sp(e){console.error(e)}function bp(e){ku(e)}function Lu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function wp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vf(e,n,a){return a=ir(a),a.tag=3,a.payload={element:null},a.callback=function(){Lu(e,n)},a}function Rp(e){return e=ir(e),e.tag=3,e}function Ip(e,n,a,o){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){wp(n,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){wp(n,a,o),typeof c!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function F0(e,n,a,o,c){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Do(n,a,c,!0),a=Rn.current,a!==null){switch(a.tag){case 13:return ti===null?Hf():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=c,o===Kh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ff(e,o,c)),!1;case 22:return a.flags|=65536,o===Kh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ff(e,o,c)),!1}throw Error(r(435,a.tag))}return Ff(e,o,c),Hf(),!1}if(Lt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Bh&&(e=Error(r(422),{cause:o}),Co(An(e,a)))):(o!==Bh&&(n=Error(r(423),{cause:o}),Co(An(n,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=An(o,a),c=vf(e.stateNode,o,c),$h(e,c),le!==4&&(le=2)),!1;var f=Error(r(520),{cause:o});if(f=An(f,a),Xo===null?Xo=[f]:Xo.push(f),le!==4&&(le=2),n===null)return!0;o=An(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=vf(a.stateNode,o,e),$h(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(dr===null||!dr.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Rp(c),Ip(c,e,a,o),$h(a,c),!1}a=a.return}while(a!==null);return!1}var Cp=Error(r(461)),Oe=!1;function Le(e,n,a,o){n.child=e===null?_p(n,null,a,o):ga(n,e.child,a,o)}function Dp(e,n,a,o,c){a=a.render;var f=n.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return ys(n),o=ef(e,n,a,v,f,c),E=nf(),e!==null&&!Oe?(rf(e,n,c),Vi(e,n,c)):(Lt&&E&&Lh(n),n.flags|=1,Le(e,n,o,c),n.child)}function Np(e,n,a,o,c){if(e===null){var f=a.type;return typeof f=="function"&&!Ph(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Op(e,n,f,o,c)):(e=yu(a.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!If(e,c)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:bo,a(v,o)&&e.ref===n.ref)return Vi(e,n,c)}return n.flags|=1,e=wi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Op(e,n,a,o,c){if(e!==null){var f=e.memoizedProps;if(bo(f,o)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=o=f,If(e,c))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Vi(e,n,c)}return Ef(e,n,a,o,c)}function Vp(e,n,a){var o=n.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return Mp(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Au(n,f!==null?f.cachePool:null),f!==null?Og(n,f):Jh(),vp(n);else return n.lanes=n.childLanes=536870912,Mp(e,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Au(n,f.cachePool),Og(n,f),or(),n.memoizedState=null):(e!==null&&Au(n,null),Jh(),or());return Le(e,n,c,a),n.child}function Mp(e,n,a,o){var c=Qh();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},e!==null&&Au(n,null),Jh(),vp(n),e!==null&&Do(e,n,o,!0),null}function zu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Ef(e,n,a,o,c){return ys(n),a=ef(e,n,a,o,void 0,c),o=nf(),e!==null&&!Oe?(rf(e,n,c),Vi(e,n,c)):(Lt&&o&&Lh(n),n.flags|=1,Le(e,n,a,c),n.child)}function xp(e,n,a,o,c,f){return ys(n),n.updateQueue=null,a=Mg(n,o,a,c),Vg(e),o=nf(),e!==null&&!Oe?(rf(e,n,f),Vi(e,n,f)):(Lt&&o&&Lh(n),n.flags|=1,Le(e,n,a,f),n.child)}function Pp(e,n,a,o,c){if(ys(n),n.stateNode===null){var f=sa,v=a.contextType;typeof v=="object"&&v!==null&&(f=Fe(v)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_f,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Yh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?Fe(v):sa,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(yf(n,a,v,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&_f.enqueueReplaceState(f,f.state,null),Uo(n,o,f,c),Po(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=Es(a,E);f.props=b;var L=f.context,G=a.contextType;v=sa,typeof G=="object"&&G!==null&&(v=Fe(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==v)&&Tp(n,f,o,v),nr=!1;var z=n.memoizedState;f.state=z,Uo(n,o,f,c),Po(),L=n.memoizedState,E||z!==L||nr?(typeof Q=="function"&&(yf(n,a,Q,o),L=n.memoizedState),(b=nr||Ep(n,a,b,o,z,L,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=v,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Xh(e,n),v=n.memoizedProps,G=Es(a,v),f.props=G,Q=n.pendingProps,z=f.context,L=a.contextType,b=sa,typeof L=="object"&&L!==null&&(b=Fe(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Q||z!==b)&&Tp(n,f,o,b),nr=!1,z=n.memoizedState,f.state=z,Uo(n,o,f,c),Po();var B=n.memoizedState;v!==Q||z!==B||nr||e!==null&&e.dependencies!==null&&Eu(e.dependencies)?(typeof E=="function"&&(yf(n,a,E,o),B=n.memoizedState),(G=nr||Ep(n,a,G,o,z,B,b)||e!==null&&e.dependencies!==null&&Eu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=b,o=G):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,zu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=ga(n,e.child,null,c),n.child=ga(n,null,a,c)):Le(e,n,a,c),n.memoizedState=f.state,e=n.child):e=Vi(e,n,c),e}function Up(e,n,a,o){return Io(),n.flags|=256,Le(e,n,a,o),n.child}var Tf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Af(e){return{baseLanes:e,cachePool:Sg()}}function Sf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=In),e}function kp(e,n,a){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(c?ar(n):or(),Lt){var E=oe,b;if(b=E){t:{for(b=E,E=Wn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Un(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:fs!==null?{id:Ri,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},b=cn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,tn=n,oe=null,b=!0):b=!1}b||gs(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return ad(E)?n.lanes=32:n.lanes=536870912,null;Oi(n)}return E=o.children,o=o.fallback,c?(or(),c=n.mode,E=Bu({mode:"hidden",children:E},c),o=hs(o,c,a,null),E.return=n,o.return=n,E.sibling=o,n.child=E,c=n.child,c.memoizedState=Af(a),c.childLanes=Sf(e,v,a),n.memoizedState=Tf,o):(ar(n),bf(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(ar(n),n.flags&=-257,n=wf(e,n,a)):n.memoizedState!==null?(or(),n.child=e.child,n.flags|=128,n=null):(or(),c=o.fallback,E=n.mode,o=Bu({mode:"visible",children:o.children},E),c=hs(c,E,a,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,ga(n,e.child,null,a),o=n.child,o.memoizedState=Af(a),o.childLanes=Sf(e,v,a),n.memoizedState=Tf,n=c);else if(ar(n),ad(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(r(419)),o.stack="",o.digest=v,Co({value:o,source:null,stack:null}),n=wf(e,n,a)}else if(Oe||Do(e,n,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=Jt,v!==null&&(o=a&-a,o=(o&42)!==0?1:Yi(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,ra(e,o),gn(v,e,o),Cp;E.data==="$?"||Hf(),n=wf(e,n,a)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,oe=Un(E.nextSibling),tn=n,Lt=!0,ms=null,Wn=!1,e!==null&&(bn[wn++]=Ri,bn[wn++]=Ii,bn[wn++]=fs,Ri=e.id,Ii=e.overflow,fs=n),n=bf(n,o.children),n.flags|=4096);return n}return c?(or(),c=o.fallback,E=n.mode,b=e.child,L=b.sibling,o=wi(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?c=wi(L,c):(c=hs(c,E,a,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,E=e.child.memoizedState,E===null?E=Af(a):(b=E.cachePool,b!==null?(L=be._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=Sg(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=Sf(e,v,a),n.memoizedState=Tf,o):(ar(n),a=e.child,e=a.sibling,a=wi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function bf(e,n){return n=Bu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Bu(e,n){return e=cn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function wf(e,n,a){return ga(n,e.child,null,a),e=bf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Lp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),jh(e.return,n,a)}function Rf(e,n,a,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=c)}function zp(e,n,a){var o=n.pendingProps,c=o.revealOrder,f=o.tail;if(Le(e,n,o.children,a),o=we.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lp(e,a,n);else if(e.tag===19)Lp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(we,o),c){case"forwards":for(a=n.child,c=null;a!==null;)e=a.alternate,e!==null&&Uu(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Rf(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Uu(e)===null){n.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}Rf(n,!0,a,null,f);break;case"together":Rf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),fr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Do(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=wi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=wi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function If(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Eu(e)))}function Q0(e,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),er(n,be,e.memoizedState.cache),Io();break;case 27:case 5:Ki(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:er(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ar(n),n.flags|=128,null):(a&n.child.childLanes)!==0?kp(e,n,a):(ar(n),e=Vi(e,n,a),e!==null?e.sibling:null);ar(n);break;case 19:var c=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Do(e,n,a,!1),o=(a&n.childLanes)!==0),c){if(o)return zp(e,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(we,we.current),o)break;return null;case 22:case 23:return n.lanes=0,Vp(e,n,a);case 24:er(n,be,e.memoizedState.cache)}return Vi(e,n,a)}function Bp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!If(e,a)&&(n.flags&128)===0)return Oe=!1,Q0(e,n,a);Oe=(e.flags&131072)!==0}else Oe=!1,Lt&&(n.flags&1048576)!==0&&pg(n,vu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")Ph(o)?(e=Es(o,e),n.tag=1,n=Pp(null,n,o,e,a)):(n.tag=0,n=Ef(null,n,o,e,a));else{if(o!=null){if(c=o.$$typeof,c===jt){n.tag=11,n=Dp(null,n,o,e,a);break t}else if(c===M){n.tag=14,n=Np(null,n,o,e,a);break t}}throw n=Pe(o)||o,Error(r(306,n,""))}}return n;case 0:return Ef(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,c=Es(o,n.pendingProps),Pp(e,n,o,c,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Xh(e,n),Uo(n,o,null,a);var v=n.memoizedState;if(o=v.cache,er(n,be,o),o!==f.cache&&Hh(n,[be],a,!0),Po(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Up(e,n,o,a);break t}else if(o!==c){c=An(Error(r(424)),n),Co(c),n=Up(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Un(e.firstChild),tn=n,Lt=!0,ms=null,Wn=!0,a=_p(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Io(),o===c){n=Vi(e,n,a);break t}Le(e,n,o,a)}n=n.child}return n;case 26:return zu(e,n),e===null?(a=Gy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Lt||(a=n.type,e=n.pendingProps,o=tc(vt.current).createElement(a),o[Te]=n,o[me]=e,Be(o,a,e),ce(o),n.stateNode=o):n.memoizedState=Gy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ki(n),e===null&&Lt&&(o=n.stateNode=qy(n.type,n.pendingProps,vt.current),tn=n,Wn=!0,c=oe,pr(n.type)?(od=c,oe=Un(o.firstChild)):oe=c),Le(e,n,n.pendingProps.children,a),zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((c=o=oe)&&(o=EA(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,tn=n,oe=Un(o.firstChild),Wn=!1,c=!0):c=!1),c||gs(n)),Ki(n),c=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,id(c,f)?o=null:v!==null&&id(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=ef(e,n,L0,null,null,a),rl._currentValue=c),zu(e,n),Le(e,n,o,a),n.child;case 6:return e===null&&Lt&&((e=a=oe)&&(a=TA(a,n.pendingProps,Wn),a!==null?(n.stateNode=a,tn=n,oe=null,e=!0):e=!1),e||gs(n)),null;case 13:return kp(e,n,a);case 4:return Zt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ga(n,null,o,a):Le(e,n,o,a),n.child;case 11:return Dp(e,n,n.type,n.pendingProps,a);case 7:return Le(e,n,n.pendingProps,a),n.child;case 8:return Le(e,n,n.pendingProps.children,a),n.child;case 12:return Le(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,er(n,n.type,o.value),Le(e,n,o.children,a),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,ys(n),c=Fe(c),o=o(c),n.flags|=1,Le(e,n,o,a),n.child;case 14:return Np(e,n,n.type,n.pendingProps,a);case 15:return Op(e,n,n.type,n.pendingProps,a);case 19:return zp(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=Bu(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=wi(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Vp(e,n,a);case 24:return ys(n),o=Fe(be),e===null?(c=Qh(),c===null&&(c=Jt,f=Gh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:o,cache:c},Yh(n),er(n,be,c)):((e.lanes&a)!==0&&(Xh(e,n),Uo(n,null,null,a),Po()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),er(n,be,o)):(o=f.cache,er(n,be,o),o!==c.cache&&Hh(n,[be],a,!0))),Le(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Mi(e){e.flags|=4}function qp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Xy(n)){if(n=Rn.current,n!==null&&((xt&4194048)===xt?ti!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==ti))throw Mo=Kh,bg;e.flags|=8192}}function qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?so():536870912,e.lanes|=n,va|=n)}function Ho(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function K0(e,n,a){var o=n.pendingProps;switch(zh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Di(be),qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ro(n)?Mi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vg())),ie(n),null;case 26:return a=n.memoizedState,e===null?(Mi(n),a!==null?(ie(n),qp(n,a)):(ie(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Mi(n),ie(n),qp(n,a)):(ie(n),n.flags&=-16777217):(e.memoizedProps!==o&&Mi(n),ie(n),n.flags&=-16777217),null;case 27:fi(n),a=vt.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Mi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ie(n),null}e=ct.current,Ro(n)?yg(n):(e=qy(c,o,a),n.stateNode=e,Mi(n))}return ie(n),null;case 5:if(fi(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Mi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ie(n),null}if(e=ct.current,Ro(n))yg(n);else{switch(c=tc(vt.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(a,{is:o.is}):c.createElement(a)}}e[Te]=n,e[me]=o;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(Be(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Mi(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Mi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=vt.current,Ro(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,c=tn,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[Te]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||xy(e.nodeValue,a)),e||gs(n)}else e=tc(e).createTextNode(o),e[Te]=n,n.stateNode=e}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ro(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Te]=n}else Io(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=vg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Oi(n),n):(Oi(n),null)}if(Oi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),qu(n,n.updateQueue),ie(n),null;case 4:return qn(),e===null&&Jf(n.stateNode.containerInfo),ie(n),null;case 10:return Di(n.type),ie(n),null;case 19:if(nt(we),c=n.memoizedState,c===null)return ie(n),null;if(o=(n.flags&128)!==0,f=c.rendering,f===null)if(o)Ho(c,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,Ho(c,!1),e=f.updateQueue,n.updateQueue=e,qu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)gg(a,e),a=a.sibling;return J(we,we.current&1|2),n.child}e=e.sibling}c.tail!==null&&pn()>Gu&&(n.flags|=128,o=!0,Ho(c,!1),n.lanes=4194304)}else{if(!o)if(e=Uu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,qu(n,e),Ho(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Lt)return ie(n),null}else 2*pn()-c.renderingStartTime>Gu&&a!==536870912&&(n.flags|=128,o=!0,Ho(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=pn(),n.sibling=null,e=we.current,J(we,o?e&1|2:e&1),n):(ie(n),null);case 22:case 23:return Oi(n),Wh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&qu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&nt(_s),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(be),ie(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Y0(e,n){switch(zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Di(be),qn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return fi(n),null;case 13:if(Oi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Io()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return nt(we),null;case 4:return qn(),null;case 10:return Di(n.type),null;case 22:case 23:return Oi(n),Wh(),e!==null&&nt(_s),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Di(be),null;case 25:return null;default:return null}}function jp(e,n){switch(zh(n),n.tag){case 3:Di(be),qn();break;case 26:case 27:case 5:fi(n);break;case 4:qn();break;case 13:Oi(n);break;case 19:nt(we);break;case 10:Di(n.type);break;case 22:case 23:Oi(n),Wh(),e!==null&&nt(_s);break;case 24:Di(be)}}function Go(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==c)}}catch(E){$t(n,n.return,E)}}function lr(e,n,a){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var b=a,L=E;try{L()}catch(G){$t(c,b,G)}}}o=o.next}while(o!==f)}}catch(G){$t(n,n.return,G)}}function Hp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Ng(n,a)}catch(o){$t(e,e.return,o)}}}function Gp(e,n,a){a.props=Es(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,n,o)}}function Fo(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(c){$t(e,n,c)}}function ei(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(c){$t(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){$t(e,n,c)}else a.current=null}function Fp(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(c){$t(e,e.return,c)}}function Cf(e,n,a){try{var o=e.stateNode;gA(o,e.type,a,n),o[me]=n}catch(c){$t(e,e.return,c)}}function Qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pr(e.type)||e.tag===4}function Df(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Wu));else if(o!==4&&(o===27&&pr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Nf(e,n,a),e=e.sibling;e!==null;)Nf(e,n,a),e=e.sibling}function ju(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&pr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ju(e,n,a),e=e.sibling;e!==null;)ju(e,n,a),e=e.sibling}function Kp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Be(n,o,a),n[Te]=e,n[me]=a}catch(f){$t(e,e.return,f)}}var xi=!1,fe=!1,Of=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function X0(e,n){if(e=e.containerInfo,ed=ac,e=sg(e),Ch(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,L=0,G=0,Q=e,z=null;e:for(;;){for(var B;Q!==a||c!==0&&Q.nodeType!==3||(E=v+c),Q!==f||o!==0&&Q.nodeType!==3||(b=v+o),Q.nodeType===3&&(v+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===a&&++L===c&&(E=v),z===f&&++G===o&&(b=v),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(nd={focusedElem:e,selectionRange:a},ac=!1,Ve=n;Ve!==null;)if(n=Ve,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ve=e;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var gt=Es(a.type,c,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(gt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){$t(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)sd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ve=e;break}Ve=n.return}}function Xp(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ur(e,a),o&4&&Go(5,a);break;case 1:if(ur(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var c=Es(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}o&64&&Hp(a),o&512&&Fo(a,a.return);break;case 3:if(ur(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ng(e,n)}catch(v){$t(a,a.return,v)}}break;case 27:n===null&&o&4&&Kp(a);case 26:case 5:ur(e,a),n===null&&o&4&&Fp(a),o&512&&Fo(a,a.return);break;case 12:ur(e,a);break;case 13:ur(e,a),o&4&&Jp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=rA.bind(null,a),AA(e,a))));break;case 22:if(o=a.memoizedState!==null||xi,!o){n=n!==null&&n.memoizedState!==null||fe,c=xi;var f=fe;xi=o,(fe=n)&&!f?cr(e,a,(a.subtreeFlags&8772)!==0):ur(e,a),xi=c,fe=f}break;case 30:break;default:ur(e,a)}}function $p(e){var n=e.alternate;n!==null&&(e.alternate=null,$p(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,nn=!1;function Pi(e,n,a){for(a=a.child;a!==null;)Zp(e,n,a),a=a.sibling}function Zp(e,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:fe||ei(a,n),Pi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||ei(a,n);var o=ne,c=nn;pr(a.type)&&(ne=a.stateNode,nn=!1),Pi(e,n,a),tl(a.stateNode),ne=o,nn=c;break;case 5:fe||ei(a,n);case 6:if(o=ne,c=nn,ne=null,Pi(e,n,a),ne=o,nn=c,ne!==null)if(nn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{ne.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:ne!==null&&(nn?(e=ne,zy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ll(e)):zy(ne,a.stateNode));break;case 4:o=ne,c=nn,ne=a.stateNode.containerInfo,nn=!0,Pi(e,n,a),ne=o,nn=c;break;case 0:case 11:case 14:case 15:fe||lr(2,a,n),fe||lr(4,a,n),Pi(e,n,a);break;case 1:fe||(ei(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Gp(a,n,o)),Pi(e,n,a);break;case 21:Pi(e,n,a);break;case 22:fe=(o=fe)||a.memoizedState!==null,Pi(e,n,a),fe=o;break;default:Pi(e,n,a)}}function Jp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ll(e)}catch(a){$t(n,n.return,a)}}function $0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Yp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Yp),n;default:throw Error(r(435,e.tag))}}function Vf(e,n){var a=$0(e);n.forEach(function(o){var c=sA.bind(null,e,o);a.has(o)||(a.add(o),o.then(c,c))})}function hn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],f=e,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(pr(E.type)){ne=E.stateNode,nn=!1;break t}break;case 5:ne=E.stateNode,nn=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ne===null)throw Error(r(160));Zp(f,v,c),ne=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Wp(n,e),n=n.sibling}var Pn=null;function Wp(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),fn(e),o&4&&(lr(3,e,e.return),Go(3,e),lr(5,e,e.return));break;case 1:hn(n,e),fn(e),o&512&&(fe||a===null||ei(a,a.return)),o&64&&xi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var c=Pn;if(hn(n,e),fn(e),o&512&&(fe||a===null||ei(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Xr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Be(f,o,a),f[Te]=e,ce(f),o=f;break t;case"link":var v=Ky("link","href",c).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(o),Be(f,o,a),c.head.appendChild(f);break;case"meta":if(v=Ky("meta","content",c).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=c.createElement(o),Be(f,o,a),c.head.appendChild(f);break;default:throw Error(r(468,o))}f[Te]=e,ce(f),o=f}e.stateNode=o}else Yy(c,e.type,e.stateNode);else e.stateNode=Qy(c,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?Yy(c,e.type,e.stateNode):Qy(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Cf(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(n,e),fn(e),o&512&&(fe||a===null||ei(a,a.return)),a!==null&&o&4&&Cf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(n,e),fn(e),o&512&&(fe||a===null||ei(a,a.return)),e.flags&32){c=e.stateNode;try{_n(c,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Cf(e,c,a!==null?a.memoizedProps:c)),o&1024&&(Of=!0);break;case 6:if(hn(n,e),fn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(ic=null,c=Pn,Pn=ec(n.containerInfo),hn(n,e),Pn=c,fn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ll(n.containerInfo)}catch(B){$t(e,e.return,B)}Of&&(Of=!1,ty(e));break;case 4:o=Pn,Pn=ec(e.stateNode.containerInfo),hn(n,e),fn(e),Pn=o;break;case 12:hn(n,e),fn(e);break;case 13:hn(n,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lf=pn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vf(e,o)));break;case 22:c=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=xi,G=fe;if(xi=L||c,fe=G||b,hn(n,e),fe=G,xi=L,fn(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||b||xi||fe||Ts(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){b=a=n;try{if(f=b.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var Q=b.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(b,b.return,B)}}}else if(n.tag===6){if(a===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(B){$t(b,b.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Vf(e,a))));break;case 19:hn(n,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Vf(e,o)));break;case 30:break;case 21:break;default:hn(n,e),fn(e)}}function fn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Qp(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Df(e);ju(e,f,c);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var E=Df(e);ju(e,E,v);break;case 3:case 4:var b=a.stateNode.containerInfo,L=Df(e);Nf(e,L,b);break;default:throw Error(r(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ur(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Xp(e,n.alternate,n),n=n.sibling}function Ts(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),Ts(n);break;case 1:ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Gp(n,n.return,a),Ts(n);break;case 27:tl(n.stateNode);case 26:case 5:ei(n,n.return),Ts(n);break;case 22:n.memoizedState===null&&Ts(n);break;case 30:Ts(n);break;default:Ts(n)}e=e.sibling}}function cr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:cr(c,f,a),Go(4,f);break;case 1:if(cr(c,f,a),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Dg(b[c],E)}catch(L){$t(o,o.return,L)}}a&&v&64&&Hp(f),Fo(f,f.return);break;case 27:Kp(f);case 26:case 5:cr(c,f,a),a&&o===null&&v&4&&Fp(f),Fo(f,f.return);break;case 12:cr(c,f,a);break;case 13:cr(c,f,a),a&&v&4&&Jp(c,f);break;case 22:f.memoizedState===null&&cr(c,f,a),Fo(f,f.return);break;case 30:break;default:cr(c,f,a)}n=n.sibling}}function Mf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&No(a))}function xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&No(e))}function ni(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ey(e,n,a,o),n=n.sibling}function ey(e,n,a,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n,a,o),c&2048&&Go(9,n);break;case 1:ni(e,n,a,o);break;case 3:ni(e,n,a,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&No(e)));break;case 12:if(c&2048){ni(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){$t(n,n.return,b)}}else ni(e,n,a,o);break;case 13:ni(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ni(e,n,a,o):Qo(e,n):f._visibility&2?ni(e,n,a,o):(f._visibility|=2,pa(e,n,a,o,(n.subtreeFlags&10256)!==0)),c&2048&&Mf(v,n);break;case 24:ni(e,n,a,o),c&2048&&xf(n.alternate,n);break;default:ni(e,n,a,o)}}function pa(e,n,a,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,v=n,E=a,b=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:pa(f,v,E,b,c),Go(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?pa(f,v,E,b,c):Qo(f,v):(G._visibility|=2,pa(f,v,E,b,c)),c&&L&2048&&Mf(v.alternate,v);break;case 24:pa(f,v,E,b,c),c&&L&2048&&xf(v.alternate,v);break;default:pa(f,v,E,b,c)}n=n.sibling}}function Qo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,c=o.flags;switch(o.tag){case 22:Qo(a,o),c&2048&&Mf(o.alternate,o);break;case 24:Qo(a,o),c&2048&&xf(o.alternate,o);break;default:Qo(a,o)}n=n.sibling}}var Ko=8192;function ya(e){if(e.subtreeFlags&Ko)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 26:ya(e),e.flags&Ko&&e.memoizedState!==null&&PA(Pn,e.memoizedState,e.memoizedProps);break;case 5:ya(e);break;case 3:case 4:var n=Pn;Pn=ec(e.stateNode.containerInfo),ya(e),Pn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ko,Ko=16777216,ya(e),Ko=n):ya(e));break;default:ya(e)}}function iy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ve=o,sy(o,e)}iy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ry(e),e=e.sibling}function ry(e){switch(e.tag){case 0:case 11:case 15:Yo(e),e.flags&2048&&lr(9,e,e.return);break;case 3:Yo(e);break;case 12:Yo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Hu(e)):Yo(e);break;default:Yo(e)}}function Hu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ve=o,sy(o,e)}iy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:lr(8,n,n.return),Hu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Hu(n));break;default:Hu(n)}e=e.sibling}}function sy(e,n){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:lr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:No(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ve=o;else t:for(a=e;Ve!==null;){o=Ve;var c=o.sibling,f=o.return;if($p(o),o===a){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var Z0={getCacheForType:function(e){var n=Fe(be),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},J0=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,It=null,xt=0,Ft=0,dn=null,hr=!1,_a=!1,Pf=!1,Ui=0,le=0,fr=0,As=0,Uf=0,In=0,va=0,Xo=null,rn=null,kf=!1,Lf=0,Gu=1/0,Fu=null,dr=null,ze=0,mr=null,Ea=null,Ta=0,zf=0,Bf=null,ay=null,$o=0,qf=null;function mn(){if((Gt&2)!==0&&xt!==0)return xt&-xt;if(H.T!==null){var e=la;return e!==0?e:Yf()}return Xi()}function oy(){In===0&&(In=(xt&536870912)===0||Lt?ro():536870912);var e=Rn.current;return e!==null&&(e.flags|=32),In}function gn(e,n,a){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Aa(e,0),gr(e,xt,In,!1)),mi(e,a),((Gt&2)===0||e!==Jt)&&(e===Jt&&((Gt&2)===0&&(As|=a),le===4&&gr(e,xt,In,!1)),ii(e))}function ly(e,n,a){if((Gt&6)!==0)throw Error(r(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Yr(e,n),c=o?eA(e,n):Gf(e,n,!0),f=o;do{if(c===0){_a&&!o&&gr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!W0(a)){c=Gf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=e;c=Xo;var b=E.current.memoizedState.isDehydrated;if(b&&(Aa(E,v).flags|=256),v=Gf(E,v,!1),v!==2){if(Pf&&!b){E.errorRecoveryDisabledLanes|=f,As|=f,c=4;break t}f=rn,rn=c,f!==null&&(rn===null?rn=f:rn.push.apply(rn,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){Aa(e,0),gr(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:gr(o,n,In,!hr);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Lf+300-pn(),10<c)){if(gr(o,n,In,!hr),zs(o,0,!0)!==0)break t;o.timeoutHandle=ky(uy.bind(null,o,a,rn,Fu,kf,n,In,As,va,hr,f,2,-0,0),c);break t}uy(o,a,rn,Fu,kf,n,In,As,va,hr,f,0,-0,0)}}break}while(!0);ii(e)}function uy(e,n,a,o,c,f,v,E,b,L,G,Q,z,B){if(e.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(il={stylesheets:null,count:0,unsuspend:xA},ny(n),Q=UA(),Q!==null)){e.cancelPendingCommit=Q(py.bind(null,e,n,f,a,o,c,v,E,b,G,1,z,B)),gr(e,f,v,!L);return}py(e,n,f,a,o,c,v,E,b)}function W0(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var c=a[o],f=c.getSnapshot;c=c.value;try{if(!un(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gr(e,n,a,o){n&=~Uf,n&=~As,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-Ge(c),v=1<<f;o[f]=-1,c&=~v}a!==0&&jn(e,a,n)}function Qu(){return(Gt&6)===0?(Zo(0),!1):!0}function jf(){if(It!==null){if(Ft===0)var e=It.return;else e=It,Ci=ps=null,sf(e),ma=null,qo=0,e=It;for(;e!==null;)jp(e.alternate,e),e=e.return;It=null}}function Aa(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,yA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),jf(),Jt=e,It=a=wi(e.current,null),xt=n,Ft=0,dn=null,hr=!1,_a=Yr(e,n),Pf=!1,va=In=Uf=As=fr=le=0,rn=Xo=null,kf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-Ge(o),f=1<<c;n|=e[c],o&=~f}return Ui=n,mu(),a}function cy(e,n){bt=null,H.H=Mu,n===Vo||n===Su?(n=Ig(),Ft=3):n===bg?(n=Ig(),Ft=4):Ft=n===Cp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,It===null&&(le=1,Lu(e,An(n,e.current)))}function hy(){var e=H.H;return H.H=Mu,e===null?Mu:e}function fy(){var e=H.A;return H.A=Z0,e}function Hf(){le=4,hr||(xt&4194048)!==xt&&Rn.current!==null||(_a=!0),(fr&134217727)===0&&(As&134217727)===0||Jt===null||gr(Jt,xt,In,!1)}function Gf(e,n,a){var o=Gt;Gt|=2;var c=hy(),f=fy();(Jt!==e||xt!==n)&&(Fu=null,Aa(e,n)),n=!1;var v=le;t:do try{if(Ft!==0&&It!==null){var E=It,b=dn;switch(Ft){case 8:jf(),v=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var L=Ft;if(Ft=0,dn=null,Sa(e,E,b,L),a&&_a){v=0;break t}break;default:L=Ft,Ft=0,dn=null,Sa(e,E,b,L)}}tA(),v=le;break}catch(G){cy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Ci=ps=null,Gt=o,H.H=c,H.A=f,It===null&&(Jt=null,xt=0,mu()),v}function tA(){for(;It!==null;)dy(It)}function eA(e,n){var a=Gt;Gt|=2;var o=hy(),c=fy();Jt!==e||xt!==n?(Fu=null,Gu=pn()+500,Aa(e,n)):_a=Yr(e,n);t:do try{if(Ft!==0&&It!==null){n=It;var f=dn;e:switch(Ft){case 1:Ft=0,dn=null,Sa(e,n,f,1);break;case 2:case 9:if(wg(f)){Ft=0,dn=null,my(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),ii(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:wg(f)?(Ft=0,dn=null,my(n)):(Ft=0,dn=null,Sa(e,n,f,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var E=It;if(!v||Xy(v)){Ft=0,dn=null;var b=E.sibling;if(b!==null)It=b;else{var L=E.return;L!==null?(It=L,Ku(L)):It=null}break e}}Ft=0,dn=null,Sa(e,n,f,5);break;case 6:Ft=0,dn=null,Sa(e,n,f,6);break;case 8:jf(),le=6;break t;default:throw Error(r(462))}}nA();break}catch(G){cy(e,G)}while(!0);return Ci=ps=null,H.H=o,H.A=c,Gt=a,It!==null?0:(Jt=null,xt=0,mu(),le)}function nA(){for(;It!==null&&!to();)dy(It)}function dy(e){var n=Bp(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,n===null?Ku(e):It=n}function my(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=xp(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=xp(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:sf(n);default:jp(a,n),n=It=gg(n,Ui),n=Bp(a,n,Ui)}e.memoizedProps=e.pendingProps,n===null?Ku(e):It=n}function Sa(e,n,a,o){Ci=ps=null,sf(n),ma=null,qo=0;var c=n.return;try{if(F0(e,c,n,a,xt)){le=1,Lu(e,An(a,e.current)),It=null;return}}catch(f){if(c!==null)throw It=c,f;le=1,Lu(e,An(a,e.current)),It=null;return}n.flags&32768?(Lt||o===1?e=!0:_a||(xt&536870912)!==0?e=!1:(hr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),gy(n,e)):Ku(n)}function Ku(e){var n=e;do{if((n.flags&32768)!==0){gy(n,hr);return}e=n.return;var a=K0(n.alternate,n,Ui);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);le===0&&(le=5)}function gy(e,n){do{var a=Y0(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);le=6,It=null}function py(e,n,a,o,c,f,v,E,b){e.cancelPendingCommit=null;do Yu();while(ze!==0);if((Gt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Mh,ao(e,a,f,v,E,b),e===Jt&&(It=Jt=null,xt=0),Ea=n,mr=e,Ta=a,zf=f,Bf=c,ay=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,aA(Gr,function(){return Ty(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,c=et.p,et.p=2,v=Gt,Gt|=4;try{X0(e,n,a)}finally{Gt=v,et.p=c,H.T=o}}ze=1,yy(),_y(),vy()}}function yy(){if(ze===1){ze=0;var e=mr,n=Ea,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var c=Gt;Gt|=4;try{Wp(n,e);var f=nd,v=sg(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&rg(E.ownerDocument.documentElement,E)){if(b!==null&&Ch(E)){var L=b.start,G=b.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),gt=E.textContent.length,ft=Math.min(b.start,gt),Xt=b.end===void 0?ft:Math.min(b.end,gt);!B.extend&&ft>Xt&&(v=Xt,Xt=ft,ft=v);var x=ig(E,ft),D=ig(E,Xt);if(x&&D&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var k=Q.createRange();k.setStart(x.node,x.offset),B.removeAllRanges(),ft>Xt?(B.addRange(k),B.extend(D.node,D.offset)):(k.setEnd(D.node,D.offset),B.addRange(k))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}ac=!!ed,nd=ed=null}finally{Gt=c,et.p=o,H.T=a}}e.current=n,ze=2}}function _y(){if(ze===2){ze=0;var e=mr,n=Ea,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=et.p;et.p=2;var c=Gt;Gt|=4;try{Xp(e,n.alternate,n)}finally{Gt=c,et.p=o,H.T=a}}ze=3}}function vy(){if(ze===4||ze===3){ze=0,Hl();var e=mr,n=Ea,a=Ta,o=ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Ea=mr=null,Ey(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(dr=null),Bs(a),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,c=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=c}}(Ta&3)!==0&&Yu(),ii(e),c=e.pendingLanes,(a&4194090)!==0&&(c&42)!==0?e===qf?$o++:($o=0,qf=e):$o=0,Zo(0)}}function Ey(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,No(n)))}function Yu(e){return yy(),_y(),vy(),Ty()}function Ty(){if(ze!==5)return!1;var e=mr,n=zf;zf=0;var a=Bs(Ta),o=H.T,c=et.p;try{et.p=32>a?32:a,H.T=null,a=Bf,Bf=null;var f=mr,v=Ta;if(ze=0,Ea=mr=null,Ta=0,(Gt&6)!==0)throw Error(r(331));var E=Gt;if(Gt|=4,ry(f.current),ey(f,f.current,v,a),Gt=E,Zo(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{et.p=c,H.T=o,Ey(e,n)}}function Ay(e,n,a){n=An(a,n),n=vf(e.stateNode,n,2),e=rr(e,n,2),e!==null&&(mi(e,2),ii(e))}function $t(e,n,a){if(e.tag===3)Ay(e,e,a);else for(;n!==null;){if(n.tag===3){Ay(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(dr===null||!dr.has(o))){e=An(a,e),a=Rp(2),o=rr(n,a,2),o!==null&&(Ip(a,o,n,e),mi(o,2),ii(o));break}}n=n.return}}function Ff(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new J0;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(a)||(Pf=!0,c.add(a),e=iA.bind(null,e,n,a),n.then(e,e))}function iA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(xt&a)===a&&(le===4||le===3&&(xt&62914560)===xt&&300>pn()-Lf?(Gt&2)===0&&Aa(e,0):Uf|=a,va===xt&&(va=0)),ii(e)}function Sy(e,n){n===0&&(n=so()),e=ra(e,n),e!==null&&(mi(e,n),ii(e))}function rA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Sy(e,a)}function sA(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Sy(e,a)}function aA(e,n){return jr(e,n)}var Xu=null,ba=null,Qf=!1,$u=!1,Kf=!1,Ss=0;function ii(e){e!==ba&&e.next===null&&(ba===null?Xu=ba=e:ba=ba.next=e),$u=!0,Qf||(Qf=!0,lA())}function Zo(e,n){if(!Kf&&$u){Kf=!0;do for(var a=!1,o=Xu;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ge(42|e)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Iy(o,f))}else f=xt,f=zs(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Yr(o,f)||(a=!0,Iy(o,f));o=o.next}while(a);Kf=!1}}function oA(){by()}function by(){$u=Qf=!1;var e=0;Ss!==0&&(pA()&&(e=Ss),Ss=0);for(var n=pn(),a=null,o=Xu;o!==null;){var c=o.next,f=wy(o,n);f===0?(o.next=null,a===null?Xu=c:a.next=c,c===null&&(ba=a)):(a=o,(e!==0||(f&3)!==0)&&($u=!0)),o=c}Zo(e)}function wy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Ge(f),E=1<<v,b=c[v];b===-1?((E&a)===0||(E&o)!==0)&&(c[v]=io(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,a=xt,a=zs(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Hr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yr(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Hr(o),Bs(a)){case 2:case 8:a=ks;break;case 32:a=Gr;break;case 268435456:a=Ls;break;default:a=Gr}return o=Ry.bind(null,e),a=jr(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Hr(o),e.callbackPriority=2,e.callbackNode=null,2}function Ry(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Yu()&&e.callbackNode!==a)return null;var o=xt;return o=zs(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ly(e,o,n),wy(e,pn()),e.callbackNode!=null&&e.callbackNode===a?Ry.bind(null,e):null)}function Iy(e,n){if(Yu())return null;ly(e,n,!0)}function lA(){_A(function(){(Gt&6)!==0?jr(eo,oA):by()})}function Yf(){return Ss===0&&(Ss=ro()),Ss}function Cy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qs(""+e)}function Dy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function uA(e,n,a,o,c){if(n==="submit"&&a&&a.stateNode===c){var f=Cy((c[me]||null).action),v=o.submitter;v&&(n=(n=v[me]||null)?Cy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Ks("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ss!==0){var b=v?Dy(c,v):new FormData(c);mf(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=v?Dy(c,v):new FormData(c),mf(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Xf=0;Xf<Vh.length;Xf++){var $f=Vh[Xf],cA=$f.toLowerCase(),hA=$f[0].toUpperCase()+$f.slice(1);xn(cA,"on"+hA)}xn(lg,"onAnimationEnd"),xn(ug,"onAnimationIteration"),xn(cg,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(C0,"onTransitionRun"),xn(D0,"onTransitionStart"),xn(N0,"onTransitionCancel"),xn(hg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function Ny(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var v=o.length-1;0<=v;v--){var E=o[v],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(G){ku(G)}c.currentTarget=null,f=b}else for(v=0;v<o.length;v++){if(E=o[v],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(G){ku(G)}c.currentTarget=null,f=b}}}}function Ct(e,n){var a=n[lo];a===void 0&&(a=n[lo]=new Set);var o=e+"__bubble";a.has(o)||(Oy(n,e,2,!1),a.add(o))}function Zf(e,n,a){var o=0;n&&(o|=4),Oy(a,e,o,n)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function Jf(e){if(!e[Zu]){e[Zu]=!0,uo.forEach(function(a){a!=="selectionchange"&&(fA.has(a)||Zf(a,!1,e),Zf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Zu]||(n[Zu]=!0,Zf("selectionchange",!1,n))}}function Oy(e,n,a,o){switch(e_(n)){case 2:var c=zA;break;case 8:c=BA;break;default:c=fd}a=c.bind(null,n,a,e),c=void 0,!En||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,a,{capture:!0,passive:c}):e.addEventListener(n,a,!0):c!==void 0?e.addEventListener(n,a,{passive:c}):e.addEventListener(n,a,!1)}function Wf(e,n,a,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=o.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=gi(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){o=f=v;continue t}E=E.parentNode}}o=o.return}Wl(function(){var L=f,G=vn(a),Q=[];t:{var z=fg.get(e);if(z!==void 0){var B=Ks,gt=e;switch(e){case"keypress":if(Yn(a)===0)break t;case"keydown":case"keyup":B=Ws;break;case"focusin":gt="focus",B=$s;break;case"focusout":gt="blur",B=$s;break;case"beforeblur":case"afterblur":B=$s;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=ou;break;case lg:case ug:case cg:B=Zs;break;case hg:B=uu;break;case"scroll":case"scrollend":B=tu;break;case"wheel":B=ta;break;case"copy":case"cut":case"paste":B=Js;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ao;break;case"toggle":case"beforetoggle":B=hu}var ft=(n&4)!==0,Xt=!ft&&(e==="scroll"||e==="scrollend"),x=ft?z!==null?z+"Capture":null:z;ft=[];for(var D=L,k;D!==null;){var F=D;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||x===null||(F=ns(D,x),F!=null&&ft.push(Wo(D,F,k))),Xt)break;D=D.return}0<ft.length&&(z=new B(z,gt,null,a,G),Q.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==vi&&(gt=a.relatedTarget||a.fromElement)&&(gi(gt)||gt[yn]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(gt=a.relatedTarget||a.toElement,B=L,gt=gt?gi(gt):null,gt!==null&&(Xt=h(gt),ft=gt.tag,gt!==Xt||ft!==5&&ft!==27&&ft!==6)&&(gt=null)):(B=null,gt=L),B!==gt)){if(ft=Tn,F="onMouseLeave",x="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Ao,F="onPointerLeave",x="onPointerEnter",D="pointer"),Xt=B==null?z:Gn(B),k=gt==null?z:Gn(gt),z=new ft(F,D+"leave",B,a,G),z.target=Xt,z.relatedTarget=k,F=null,gi(G)===L&&(ft=new ft(x,D+"enter",gt,a,G),ft.target=k,ft.relatedTarget=Xt,F=ft),Xt=F,B&&gt)e:{for(ft=B,x=gt,D=0,k=ft;k;k=wa(k))D++;for(k=0,F=x;F;F=wa(F))k++;for(;0<D-k;)ft=wa(ft),D--;for(;0<k-D;)x=wa(x),k--;for(;D--;){if(ft===x||x!==null&&ft===x.alternate)break e;ft=wa(ft),x=wa(x)}ft=null}else ft=null;B!==null&&Vy(Q,z,B,ft,!1),gt!==null&&Xt!==null&&Vy(Q,Xt,gt,ft,!0)}}t:{if(z=L?Gn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var st=Zm;else if(Se(z))if(Jm)st=w0;else{st=S0;var Rt=A0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&go(L.elementType)&&(st=Zm):st=b0;if(st&&(st=st(e,L))){bi(Q,st,a,G);break t}Rt&&Rt(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Wi(z,"number",z.value)}switch(Rt=L?Gn(L):window,e){case"focusin":(Se(Rt)||Rt.contentEditable==="true")&&(ea=Rt,Dh=L,wo=null);break;case"focusout":wo=Dh=ea=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,ag(Q,a,G);break;case"selectionchange":if(I0)break;case"keydown":case"keyup":ag(Q,a,G)}var at;if(Zn)t:{switch(e){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Vt?q(e,a)&&(dt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(dt="onCompositionStart");dt&&(p&&a.locale!=="ko"&&(Vt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Vt&&(at=yo()):(Kn=G,tr="value"in Kn?Kn.value:Kn.textContent,Vt=!0)),Rt=Ju(L,dt),0<Rt.length&&(dt=new Eo(dt,e,null,a,G),Q.push({event:dt,listeners:Rt}),at?dt.data=at:(at=tt(a),at!==null&&(dt.data=at)))),(at=m?Ae(e,a):Mt(e,a))&&(dt=Ju(L,"onBeforeInput"),0<dt.length&&(Rt=new Eo("onBeforeInput","beforeinput",null,a,G),Q.push({event:Rt,listeners:dt}),Rt.data=at)),uA(Q,e,L,a,G)}Ny(Q,n)})}function Wo(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ju(e,n){for(var a=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ns(e,a),c!=null&&o.unshift(Wo(e,c,f)),c=ns(e,n),c!=null&&o.push(Wo(e,c,f))),e.tag===3)return o;e=e.return}return[]}function wa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vy(e,n,a,o,c){for(var f=n._reactName,v=[];a!==null&&a!==o;){var E=a,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,c?(L=ns(a,f),L!=null&&v.unshift(Wo(a,L,b))):c||(L=ns(a,f),L!=null&&v.push(Wo(a,L,b)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var dA=/\r\n?/g,mA=/\u0000|\uFFFD/g;function My(e){return(typeof e=="string"?e:""+e).replace(dA,`
`).replace(mA,"")}function xy(e,n){return n=My(n),My(e)===n}function Wu(){}function Yt(e,n,a,o,c,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||_n(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&_n(e,""+o);break;case"className":Fn(e,"class",o);break;case"tabIndex":Fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,a,o);break;case"style":mo(e,o,f);break;case"data":if(n!=="object"){Fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Qs(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(e,n,"name",c.name,c,null),Yt(e,n,"formEncType",c.formEncType,c,null),Yt(e,n,"formMethod",c.formMethod,c,null),Yt(e,n,"formTarget",c.formTarget,c,null)):(Yt(e,n,"encType",c.encType,c,null),Yt(e,n,"method",c.method,c,null),Yt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Qs(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Wu);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Qs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Ji(e,"popover",o);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ji(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ah.get(a)||a,Ji(e,a,o))}}function td(e,n,a,o,c,f){switch(a){case"style":mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?_n(e,o):(typeof o=="number"||typeof o=="bigint")&&_n(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Wu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=e[me]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,c);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Ji(e,a,o)}}}function Be(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(e,n,f,v,a,null)}}c&&Yt(e,n,"srcSet",a.srcSet,a,null),o&&Yt(e,n,"src",a.src,a,null);return;case"input":Ct("invalid",e);var E=f=v=c=null,b=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":c=G;break;case"type":v=G;break;case"checked":b=G;break;case"defaultChecked":L=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Yt(e,n,o,G,a,null)}}Wr(e,f,E,b,L,v,c,!1),Fs(e);return;case"select":Ct("invalid",e),o=v=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Yt(e,n,c,E,a,null)}n=f,a=v,e.multiple=!!o,n!=null?_i(e,!!o,n,!1):a!=null&&_i(e,!!o,a,!0);return;case"textarea":Ct("invalid",e),f=c=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Yt(e,n,v,E,a,null)}ts(e,o,c,f),Fs(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,n,b,o,a,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<Jo.length;o++)Ct(Jo[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(e,n,L,o,a,null)}return;default:if(go(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&td(e,n,G,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Yt(e,n,E,o,a,null))}function gA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,b=null,L=null,G=null;for(B in a){var Q=a[B];if(a.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=Q;default:o.hasOwnProperty(B)||Yt(e,n,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=a[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":f=B;break;case"name":c=B;break;case"checked":L=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:B!==Q&&Yt(e,n,z,B,o,Q)}}ln(e,v,E,b,L,G,f,c);return;case"select":B=v=E=z=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||Yt(e,n,f,null,o,b)}for(c in o)if(f=o[c],b=a[c],o.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==b&&Yt(e,n,c,f,o,b)}n=E,a=v,o=B,z!=null?_i(e,!!a,z,!1):!!o!=!!a&&(n!=null?_i(e,!!a,n,!0):_i(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,n,E,null,o,c)}for(v in o)if(c=o[v],f=a[v],o.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":z=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Yt(e,n,v,c,o,f)}Qt(e,z,B);return;case"option":for(var gt in a)if(z=a[gt],a.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt))switch(gt){case"selected":e.selected=!1;break;default:Yt(e,n,gt,null,o,z)}for(b in o)if(z=o[b],B=a[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,n,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)z=a[ft],a.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Yt(e,n,ft,null,o,z);for(L in o)if(z=o[L],B=a[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Yt(e,n,L,z,o,B)}return;default:if(go(n)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&td(e,n,Xt,void 0,o,z);for(G in o)z=o[G],B=a[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||td(e,n,G,z,o,B);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Yt(e,n,x,null,o,z);for(Q in o)z=o[Q],B=a[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||Yt(e,n,Q,z,o,B)}var ed=null,nd=null;function tc(e){return e.nodeType===9?e:e.ownerDocument}function Py(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function id(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rd=null;function pA(){var e=window.event;return e&&e.type==="popstate"?e===rd?!1:(rd=e,!0):(rd=null,!1)}var ky=typeof setTimeout=="function"?setTimeout:void 0,yA=typeof clearTimeout=="function"?clearTimeout:void 0,Ly=typeof Promise=="function"?Promise:void 0,_A=typeof queueMicrotask=="function"?queueMicrotask:typeof Ly<"u"?function(e){return Ly.resolve(null).then(e).catch(vA)}:ky;function vA(e){setTimeout(function(){throw e})}function pr(e){return e==="head"}function zy(e,n){var a=n,o=0,c=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&tl(v.documentElement),a&2&&tl(v.body),a&4)for(a=v.head,tl(a),v=a.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[Xr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(c===0){e.removeChild(f),ll(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);ll(n)}function sd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":sd(a),Zi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function EA(e,n,a,o){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Xr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function TA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function AA(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var od=null;function By(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function qy(e,n,a){switch(n=tc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zi(e)}var Cn=new Map,jy=new Set;function ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ki=et.d;et.d={f:SA,r:bA,D:wA,C:RA,L:IA,m:CA,X:NA,S:DA,M:OA};function SA(){var e=ki.f(),n=Qu();return e||n}function bA(e){var n=Hn(e);n!==null&&n.tag===5&&n.type==="form"?lp(n):ki.r(e)}var Ra=typeof document>"u"?null:document;function Hy(e,n,a){var o=Ra;if(o&&typeof n=="string"&&n){var c=ge(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),jy.has(c)||(jy.add(c),e={rel:e,crossOrigin:a,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Be(n,"link",e),ce(n),o.head.appendChild(n)))}}function wA(e){ki.D(e),Hy("dns-prefetch",e,null)}function RA(e,n){ki.C(e,n),Hy("preconnect",e,n)}function IA(e,n,a){ki.L(e,n,a);var o=Ra;if(o&&e&&n){var c='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+ge(a.imageSizes)+'"]')):c+='[href="'+ge(e)+'"]';var f=c;switch(n){case"style":f=Ia(e);break;case"script":f=Ca(e)}Cn.has(f)||(e=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Cn.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(el(f))||n==="script"&&o.querySelector(nl(f))||(n=o.createElement("link"),Be(n,"link",e),ce(n),o.head.appendChild(n)))}}function CA(e,n){ki.m(e,n);var a=Ra;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ge(o)+'"][href="'+ge(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ca(e)}if(!Cn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Cn.set(f,e),a.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(nl(f)))return}o=a.createElement("link"),Be(o,"link",e),ce(o),a.head.appendChild(o)}}}function DA(e,n,a){ki.S(e,n,a);var o=Ra;if(o&&e){var c=Ze(o).hoistableStyles,f=Ia(e);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(el(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Cn.get(f))&&ld(e,a);var b=v=o.createElement("link");ce(b),Be(b,"link",e),b._p=new Promise(function(L,G){b.onload=L,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,nc(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function NA(e,n){ki.X(e,n);var a=Ra;if(a&&e){var o=Ze(a).hoistableScripts,c=Ca(e),f=o.get(c);f||(f=a.querySelector(nl(c)),f||(e=A({src:e,async:!0},n),(n=Cn.get(c))&&ud(e,n),f=a.createElement("script"),ce(f),Be(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function OA(e,n){ki.M(e,n);var a=Ra;if(a&&e){var o=Ze(a).hoistableScripts,c=Ca(e),f=o.get(c);f||(f=a.querySelector(nl(c)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Cn.get(c))&&ud(e,n),f=a.createElement("script"),ce(f),Be(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Gy(e,n,a,o){var c=(c=vt.current)?ec(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ia(a.href),a=Ze(c).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ia(a.href);var f=Ze(c).hoistableStyles,v=f.get(e);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=c.querySelector(el(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Cn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(e,a),f||VA(c,e,a,v.state))),n&&o===null)throw Error(r(528,""));return v}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ca(a),a=Ze(c).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ia(e){return'href="'+ge(e)+'"'}function el(e){return'link[rel="stylesheet"]['+e+"]"}function Fy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function VA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Be(n,"link",a),ce(n),e.head.appendChild(n))}function Ca(e){return'[src="'+ge(e)+'"]'}function nl(e){return"script[async]"+e}function Qy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ge(a.href)+'"]');if(o)return n.instance=o,ce(o),o;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ce(o),Be(o,"style",c),nc(o,a.precedence,e),n.instance=o;case"stylesheet":c=Ia(a.href);var f=e.querySelector(el(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;o=Fy(a),(c=Cn.get(c))&&ld(o,c),f=(e.ownerDocument||e).createElement("link"),ce(f);var v=f;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Be(f,"link",o),n.state.loading|=4,nc(f,a.precedence,e),n.instance=f;case"script":return f=Ca(a.src),(c=e.querySelector(nl(f)))?(n.instance=c,ce(c),c):(o=a,(c=Cn.get(f))&&(o=A({},a),ud(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),ce(c),Be(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,nc(o,a.precedence,e));return n.instance}function nc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function ld(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ic=null;function Ky(e,n,a){if(ic===null){var o=new Map,c=ic=new Map;c.set(a,o)}else c=ic,o=c.get(a),o||(o=new Map,c.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var f=a[c];if(!(f[Xr]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function Yy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function MA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Xy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var il=null;function xA(){}function PA(e,n,a){if(il===null)throw Error(r(475));var o=il;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Ia(a.href),f=e.querySelector(el(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=rc.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,ce(f);return}f=e.ownerDocument||e,a=Fy(a),(c=Cn.get(c))&&ld(a,c),f=f.createElement("link"),ce(f);var v=f;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Be(f,"link",a),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=rc.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function UA(){if(il===null)throw Error(r(475));var e=il;return e.stylesheets&&e.count===0&&cd(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function rc(){if(this.count--,this.count===0){if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sc=null;function cd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sc=new Map,n.forEach(kA,e),sc=null,rc.call(e))}function kA(e,n){if(!(n.state.loading&4)){var a=sc.get(e);if(a)var o=a.get(null);else{a=new Map,sc.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}c=n.instance,v=c.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,c),a.set(v,c),this.count++,o=rc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var rl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function LA(e,n,a,o,c,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function $y(e,n,a,o,c,f,v,E,b,L,G,Q){return e=new LA(e,n,a,v,E,b,L,Q),n=1,f===!0&&(n|=24),f=cn(3,null,null,n),e.current=f,f.stateNode=e,n=Gh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Yh(f),e}function Zy(e){return e?(e=sa,e):sa}function Jy(e,n,a,o,c,f){c=Zy(c),o.context===null?o.context=c:o.pendingContext=c,o=ir(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=rr(e,o,n),a!==null&&(gn(a,e,n),xo(a,e,n))}function Wy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function hd(e,n){Wy(e,n),(e=e.alternate)&&Wy(e,n)}function t_(e){if(e.tag===13){var n=ra(e,67108864);n!==null&&gn(n,e,67108864),hd(e,67108864)}}var ac=!0;function zA(e,n,a,o){var c=H.T;H.T=null;var f=et.p;try{et.p=2,fd(e,n,a,o)}finally{et.p=f,H.T=c}}function BA(e,n,a,o){var c=H.T;H.T=null;var f=et.p;try{et.p=8,fd(e,n,a,o)}finally{et.p=f,H.T=c}}function fd(e,n,a,o){if(ac){var c=dd(o);if(c===null)Wf(e,n,o,oc,a),n_(e,o);else if(jA(c,e,n,a,o))o.stopPropagation();else if(n_(e,o),n&4&&-1<qA.indexOf(e)){for(;c!==null;){var f=Hn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=On(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-Ge(v);E.entanglements[1]|=b,v&=~b}ii(f),(Gt&6)===0&&(Gu=pn()+500,Zo(0))}}break;case 13:E=ra(f,2),E!==null&&gn(E,f,2),Qu(),hd(f,2)}if(f=dd(o),f===null&&Wf(e,n,o,oc,a),f===c)break;c=f}c!==null&&o.stopPropagation()}else Wf(e,n,o,null,a)}}function dd(e){return e=vn(e),md(e)}var oc=null;function md(e){if(oc=null,e=gi(e),e!==null){var n=h(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return oc=e,null}function e_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ph()){case eo:return 2;case ks:return 8;case Gr:case yh:return 32;case Ls:return 268435456;default:return 32}default:return 32}}var gd=!1,yr=null,_r=null,vr=null,sl=new Map,al=new Map,Er=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n_(e,n){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(n.pointerId)}}function ol(e,n,a,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Hn(n),n!==null&&t_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function jA(e,n,a,o,c){switch(n){case"focusin":return yr=ol(yr,e,n,a,o,c),!0;case"dragenter":return _r=ol(_r,e,n,a,o,c),!0;case"mouseover":return vr=ol(vr,e,n,a,o,c),!0;case"pointerover":var f=c.pointerId;return sl.set(f,ol(sl.get(f)||null,e,n,a,o,c)),!0;case"gotpointercapture":return f=c.pointerId,al.set(f,ol(al.get(f)||null,e,n,a,o,c)),!0}return!1}function i_(e){var n=gi(e.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Ql(e.priority,function(){if(a.tag===13){var o=mn();o=Yi(o);var c=ra(a,o);c!==null&&gn(c,a,o),hd(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=dd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);vi=o,a.target.dispatchEvent(o),vi=null}else return n=Hn(a),n!==null&&t_(n),e.blockedOn=a,!1;n.shift()}return!0}function r_(e,n,a){lc(e)&&a.delete(n)}function HA(){gd=!1,yr!==null&&lc(yr)&&(yr=null),_r!==null&&lc(_r)&&(_r=null),vr!==null&&lc(vr)&&(vr=null),sl.forEach(r_),al.forEach(r_)}function uc(e,n){e.blockedOn===n&&(e.blockedOn=null,gd||(gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,HA)))}var cc=null;function s_(e){cc!==e&&(cc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){cc===e&&(cc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(md(o||a)===null)continue;break}var f=Hn(a);f!==null&&(e.splice(n,3),n-=3,mf(f,{pending:!0,data:c,method:a.method,action:o},o,c))}}))}function ll(e){function n(b){return uc(b,e)}yr!==null&&uc(yr,e),_r!==null&&uc(_r,e),vr!==null&&uc(vr,e),sl.forEach(n),al.forEach(n);for(var a=0;a<Er.length;a++){var o=Er[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Er.length&&(a=Er[0],a.blockedOn===null);)i_(a),a.blockedOn===null&&Er.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var c=a[o],f=a[o+1],v=c[me]||null;if(typeof f=="function")v||s_(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[me]||null)E=v.formAction;else if(md(c)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),s_(a)}}}function pd(e){this._internalRoot=e}hc.prototype.render=pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=mn();Jy(a,o,e,n,null,null)},hc.prototype.unmount=pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Jy(e.current,2,null,e,null,null),Qu(),n[yn]=null}};function hc(e){this._internalRoot=e}hc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Xi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Er.length&&n!==0&&n<Er[a].priority;a++);Er.splice(a,0,e),a===0&&i_(e)}};var a_=t.version;if(a_!=="19.1.1")throw Error(r(527,a_,"19.1.1"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var GA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{ae=fc.inject(GA),Ht=fc}catch{}}return cl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",c=Ap,f=Sp,v=bp,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=$y(e,1,!1,null,null,a,o,c,f,v,E,null),e[yn]=n.current,Jf(e),new pd(n)},cl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,c="",f=Ap,v=Sp,E=bp,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),n=$y(e,1,!0,n,a??null,o,c,f,v,E,b,L),n.context=Zy(null),a=n.current,o=mn(),o=Yi(o),c=ir(o),c.callback=null,rr(a,c,o),a=o,n.current.lanes=a,mi(n,a),ii(n),e[yn]=n.current,Jf(e),new hc(n)},cl.version="19.1.1",cl}var p_;function tS(){if(p_)return vd.exports;p_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),vd.exports=WA(),vd.exports}var eS=tS();const nS=()=>{};var y_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},iS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[i++];t[r++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[i++],d=s[i++],g=s[i++],y=((l&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const h=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},Yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const h=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,A=h>>2,I=(h&3)<<4|g>>4;let N=(g&15)<<2|_>>6,j=_&63;y||(j=64,d||(N=64)),r.push(i[A],i[I],i[N],i[j])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Kv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):iS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const h=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const I=l<s.length?i[s.charAt(l)]:64;if(++l,h==null||g==null||_==null||I==null)throw new rS;const N=h<<2|g>>4;if(r.push(N),_!==64){const j=g<<4&240|_>>2;if(r.push(j),I!==64){const X=_<<6&192|I;r.push(X)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class rS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sS=function(s){const t=Kv(s);return Yv.encodeByteArray(t,!0)},Dc=function(s){return sS(s).replace(/\./g,"")},Xv=function(s){try{return Yv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=()=>aS().__FIREBASE_DEFAULTS__,lS=()=>{if(typeof process>"u"||typeof y_>"u")return;const s=y_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},uS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Xv(s[1]);return t&&JSON.parse(t)},Jc=()=>{try{return nS()||oS()||lS()||uS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},$v=s=>Jc()?.emulatorHosts?.[s],cS=s=>{const t=$v(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},Zv=()=>Jc()?.config,Jv=s=>Jc()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Dc(JSON.stringify(i)),Dc(JSON.stringify(d)),""].join(".")}const gl={};function dS(){const s={prod:[],emulator:[]};for(const t of Object.keys(gl))gl[t]?s.emulator.push(t):s.prod.push(t);return s}function mS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let __=!1;function tE(s,t){if(typeof window>"u"||typeof document>"u"||!Qa(window.location.host)||gl[s]===t||gl[s]||__)return;gl[s]=t;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",h=dS().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,j){N.setAttribute("width","24"),N.setAttribute("id",j),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{__=!0,d()},N}function A(N,j){N.setAttribute("id",j),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function I(){const N=mS(r),j=i("text"),X=document.getElementById(j)||document.createElement("span"),W=i("learnmore"),Z=document.getElementById(W)||document.createElement("a"),pt=i("preprendIcon"),yt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ht=N.element;g(ht),A(Z,W);const jt=_();y(yt,pt),ht.append(yt,X,Z,jt),document.body.appendChild(ht)}h?(X.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function pS(){const s=Jc()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _S(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function vS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ES(){const s=$e();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function TS(){return!pS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AS(){try{return typeof indexedDB=="object"}catch{return!1}}function SS(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="FirebaseError";class Qi extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=bS,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?wS(h,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Qi(l,g,r)}}function wS(s,t){return s.replace(RS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const RS=/\{\$([^}]+)}/g;function IS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Cs(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const h=s[l],d=t[l];if(v_(h)&&v_(d)){if(!Cs(h,d))return!1}else if(h!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function v_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function CS(s,t){const i=new DS(s,t);return i.subscribe.bind(i)}class DS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");NS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Sd),l.error===void 0&&(l.error=Sd),l.complete===void 0&&(l.complete=Sd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Sd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(s){return s&&s._delegate?s._delegate:s}class Ds{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new hS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(MS(t))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});r.resolve(h)}catch{}}}}clearInstance(t=bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bs){return this.instances.has(t)}getOptions(t=bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const h=this.instances.get(r);return h&&t(h,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=bs){return this.component?this.component.multipleInstances?t:bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VS(s){return s===bs?void 0:s}function MS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new OS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Dt||(Dt={}));const PS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},US=Dt.INFO,kS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},LS=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=kS[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class lm{constructor(t){this.name=t,this._logLevel=US,this._logHandler=LS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?PS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const zS=(s,t)=>t.some(i=>s instanceof i);let E_,T_;function BS(){return E_||(E_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qS(){return T_||(T_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,Ud=new WeakMap,nE=new WeakMap,bd=new WeakMap,um=new WeakMap;function jS(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Cr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&eE.set(i,s)}).catch(()=>{}),um.set(t,s),t}function HS(s){if(Ud.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Ud.set(s,t)}let kd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Ud.get(s);if(t==="objectStoreNames")return s.objectStoreNames||nE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Cr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function GS(s){kd=s(kd)}function FS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(wd(this),t,...i);return nE.set(r,t.sort?t.sort():[t]),Cr(r)}:qS().includes(s)?function(...t){return s.apply(wd(this),t),Cr(eE.get(this))}:function(...t){return Cr(s.apply(wd(this),t))}}function QS(s){return typeof s=="function"?FS(s):(s instanceof IDBTransaction&&HS(s),zS(s,BS())?new Proxy(s,kd):s)}function Cr(s){if(s instanceof IDBRequest)return jS(s);if(bd.has(s))return bd.get(s);const t=QS(s);return t!==s&&(bd.set(s,t),um.set(t,s)),t}const wd=s=>um.get(s);function KS(s,t,{blocked:i,upgrade:r,blocking:l,terminated:h}={}){const d=indexedDB.open(s,t),g=Cr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Cr(d.result),y.oldVersion,y.newVersion,Cr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const YS=["get","getKey","getAll","getAllKeys","count"],XS=["put","add","delete","clear"],Rd=new Map;function A_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Rd.get(t))return Rd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=XS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||YS.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Rd.set(t,h),h}GS(s=>({...s,get:(t,i,r)=>A_(t,i)||s.get(t,i,r),has:(t,i)=>!!A_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ZS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function ZS(s){return s.getComponent()?.type==="VERSION"}const Ld="@firebase/app",S_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new lm("@firebase/app"),JS="@firebase/app-compat",WS="@firebase/analytics-compat",t1="@firebase/analytics",e1="@firebase/app-check-compat",n1="@firebase/app-check",i1="@firebase/auth",r1="@firebase/auth-compat",s1="@firebase/database",a1="@firebase/data-connect",o1="@firebase/database-compat",l1="@firebase/functions",u1="@firebase/functions-compat",c1="@firebase/installations",h1="@firebase/installations-compat",f1="@firebase/messaging",d1="@firebase/messaging-compat",m1="@firebase/performance",g1="@firebase/performance-compat",p1="@firebase/remote-config",y1="@firebase/remote-config-compat",_1="@firebase/storage",v1="@firebase/storage-compat",E1="@firebase/firestore",T1="@firebase/ai",A1="@firebase/firestore-compat",S1="firebase",b1="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="[DEFAULT]",w1={[Ld]:"fire-core",[JS]:"fire-core-compat",[t1]:"fire-analytics",[WS]:"fire-analytics-compat",[n1]:"fire-app-check",[e1]:"fire-app-check-compat",[i1]:"fire-auth",[r1]:"fire-auth-compat",[s1]:"fire-rtdb",[a1]:"fire-data-connect",[o1]:"fire-rtdb-compat",[l1]:"fire-fn",[u1]:"fire-fn-compat",[c1]:"fire-iid",[h1]:"fire-iid-compat",[f1]:"fire-fcm",[d1]:"fire-fcm-compat",[m1]:"fire-perf",[g1]:"fire-perf-compat",[p1]:"fire-rc",[y1]:"fire-rc-compat",[_1]:"fire-gcs",[v1]:"fire-gcs-compat",[E1]:"fire-fst",[A1]:"fire-fst-compat",[T1]:"fire-vertex","fire-js":"fire-js",[S1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,R1=new Map,Bd=new Map;function b_(s,t){try{s.container.addComponent(t)}catch(i){qi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function za(s){const t=s.name;if(Bd.has(t))return qi.debug(`There were multiple attempts to register component ${t}.`),!1;Bd.set(t,s);for(const i of Nc.values())b_(i,s);for(const i of R1.values())b_(i,s);return!0}function cm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function kn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Ol("app","Firebase",I1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=b1;function iE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:zd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Dr.create("bad-app-name",{appName:String(l)});if(i||(i=Zv()),!i)throw Dr.create("no-options");const h=Nc.get(l);if(h){if(Cs(i,h.options)&&Cs(r,h.config))return h;throw Dr.create("duplicate-app",{appName:l})}const d=new xS(l);for(const y of Bd.values())d.addComponent(y);const g=new C1(i,r,d);return Nc.set(l,g),g}function rE(s=zd){const t=Nc.get(s);if(!t&&s===zd&&Zv())return iE();if(!t)throw Dr.create("no-app",{appName:s});return t}function Nr(s,t,i){let r=w1[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qi.warn(d.join(" "));return}za(new Ds(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="firebase-heartbeat-database",N1=1,Al="firebase-heartbeat-store";let Id=null;function sE(){return Id||(Id=KS(D1,N1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Al)}catch(i){console.warn(i)}}}}).catch(s=>{throw Dr.create("idb-open",{originalErrorMessage:s.message})})),Id}async function O1(s){try{const i=(await sE()).transaction(Al),r=await i.objectStore(Al).get(aE(s));return await i.done,r}catch(t){if(t instanceof Qi)qi.warn(t.message);else{const i=Dr.create("idb-get",{originalErrorMessage:t?.message});qi.warn(i.message)}}}async function w_(s,t){try{const r=(await sE()).transaction(Al,"readwrite");await r.objectStore(Al).put(t,aE(s)),await r.done}catch(i){if(i instanceof Qi)qi.warn(i.message);else{const r=Dr.create("idb-set",{originalErrorMessage:i?.message});qi.warn(r.message)}}}function aE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=1024,M1=30;class x1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new U1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=R_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>M1){const l=k1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){qi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=R_(),{heartbeatsToSend:i,unsentEntries:r}=P1(this._heartbeatsCache.heartbeats),l=Dc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return qi.warn(t),""}}}function R_(){return new Date().toISOString().substring(0,10)}function P1(s,t=V1){const i=[];let r=s.slice();for(const l of s){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),I_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),I_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class U1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AS()?SS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await O1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return w_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return w_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function I_(s){return Dc(JSON.stringify({version:2,heartbeats:s})).length}function k1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(s){za(new Ds("platform-logger",t=>new $S(t),"PRIVATE")),za(new Ds("heartbeat",t=>new x1(t),"PRIVATE")),Nr(Ld,S_,s),Nr(Ld,S_,"esm2020"),Nr("fire-js","")}L1("");var z1="firebase",B1="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(z1,B1,"app");function oE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q1=oE,lE=new Ol("auth","Firebase",oE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=new lm("@firebase/auth");function j1(s,...t){Oc.logLevel<=Dt.WARN&&Oc.warn(`Auth (${Ka}): ${s}`,...t)}function vc(s,...t){Oc.logLevel<=Dt.ERROR&&Oc.error(`Auth (${Ka}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(s,...t){throw hm(s,...t)}function si(s,...t){return hm(s,...t)}function uE(s,t,i){const r={...q1(),[t]:i};return new Ol("auth","Firebase",r).create(t,{appName:s.name})}function Or(s){return uE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return lE.create(s,...t)}function _t(s,t,...i){if(!s)throw hm(t,...i)}function Li(s){const t="INTERNAL ASSERTION FAILED: "+s;throw vc(t),new Error(t)}function Hi(s,t){s||Li(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(){return typeof self<"u"&&self.location?.href||""}function H1(){return C_()==="http:"||C_()==="https:"}function C_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(H1()||_S()||"connection"in navigator)?navigator.onLine:!0}function F1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(t,i){this.shortDelay=t,this.longDelay=i,Hi(i>t,"Short delay should be less than long delay!"),this.isMobile=gS()||vS()}get(){return G1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(s,t){Hi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Y1=new Ml(3e4,6e4);function Wc(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Ya(s,t,i,r,l={}){return hE(s,l,async()=>{let h={},d={};r&&(t==="GET"?d=r:h={body:JSON.stringify(r)});const g=Vl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...h};return yS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Qa(s.emulatorConfig.host)&&(_.credentials="include"),cE.fetch()(await dE(s,s.config.apiHost,i,g),_)})}async function hE(s,t,i){s._canInitEmulator=!1;const r={...Q1,...t};try{const l=new X1(s),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw dc(s,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw dc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw dc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw dc(s,"user-disabled",d);const A=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw uE(s,A,_);ji(s,A)}}catch(l){if(l instanceof Qi)throw l;ji(s,"network-request-failed",{message:String(l)})}}async function fE(s,t,i,r,l={}){const h=await Ya(s,t,i,r,l);return"mfaPendingCredential"in h&&ji(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function dE(s,t,i,r){const l=`${t}${i}?${r}`,h=s,d=h.config.emulator?fm(s.config,l):`${s.config.apiScheme}://${l}`;return K1.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class X1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),Y1.get())})}}function dc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=si(s,t,r);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(s,t){return Ya(s,"POST","/v1/accounts:delete",t)}async function Vc(s,t){return Ya(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Z1(s,t=!1){const i=an(s),r=await i.getIdToken(t),l=dm(r);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:r,authTime:pl(Cd(l.auth_time)),issuedAtTime:pl(Cd(l.iat)),expirationTime:pl(Cd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Cd(s){return Number(s)*1e3}function dm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Xv(i);return l?JSON.parse(l):(vc("Failed to decode base64 JWT payload"),null)}catch(l){return vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function D_(s){const t=dm(s);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof Qi&&J1(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function J1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=pl(this.lastLoginAt),this.creationTime=pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(s){const t=s.auth,i=await s.getIdToken(),r=await Sl(s,Vc(t,{idToken:i}));_t(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?mE(l.providerUserInfo):[],d=eb(s.providerData,h),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=g?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new jd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function tb(s){const t=an(s);await Mc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eb(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function mE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nb(s,t){const i=await hE(s,{},async()=>{const r=Vl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,d=await dE(s,l,"/v1/token",`key=${h}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&Qa(s.emulatorConfig.host)&&(y.credentials="include"),cE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function ib(s,t){return Ya(s,"POST","/v2/accounts:revokeToken",Wc(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):D_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=D_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:h}=await nb(t,i);this.updateTokensAndExpiration(r,l,Number(h))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:h}=i,d=new xa;return r&&(_t(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(_t(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xa,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(s,t){_t(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Ln{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new W1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new jd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Sl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Z1(this,t)}reload(){return tb(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Ln({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await Mc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Or(this.auth));const t=await this.getIdToken();return await Sl(this,$1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:I,emailVerified:N,isAnonymous:j,providerData:X,stsTokenManager:W}=i;_t(I&&W,t,"internal-error");const Z=xa.fromJSON(this.name,W);_t(typeof I=="string",t,"internal-error"),Ar(r,t.name),Ar(l,t.name),_t(typeof N=="boolean",t,"internal-error"),_t(typeof j=="boolean",t,"internal-error"),Ar(h,t.name),Ar(d,t.name),Ar(g,t.name),Ar(y,t.name),Ar(_,t.name),Ar(A,t.name);const pt=new Ln({uid:I,auth:t,email:l,emailVerified:N,displayName:r,isAnonymous:j,photoURL:d,phoneNumber:h,tenantId:g,stsTokenManager:Z,createdAt:_,lastLoginAt:A});return X&&Array.isArray(X)&&(pt.providerData=X.map(yt=>({...yt}))),y&&(pt._redirectEventId=y),pt}static async _fromIdTokenResponse(t,i,r=!1){const l=new xa;l.updateFromServerResponse(i);const h=new Ln({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Mc(h),h}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?mE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,g=new xa;g.updateFromIdToken(r);const y=new Ln({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=new Map;function zi(s){Hi(s instanceof Function,"Expected a class definition");let t=N_.get(s);return t?(Hi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,N_.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}gE.type="NONE";const O_=gE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(s,t,i){return`firebase:${s}:${t}:${i}`}class Pa{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:h}=this.auth;this.fullUserKey=Ec(this.userKey,l.apiKey,h),this.fullPersistenceKey=Ec("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Vc(this.auth,{idToken:t}).catch(()=>{});return i?Ln._fromGetAccountInfoResponse(this.auth,i,t):null}return Ln._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Pa(zi(O_),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=l[0]||zi(O_);const d=Ec(r,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const A=await _._get(d);if(A){let I;if(typeof A=="string"){const N=await Vc(t,{idToken:A}).catch(()=>{});if(!N)break;I=await Ln._fromGetAccountInfoResponse(t,N,A)}else I=Ln._fromJSON(t,A);_!==h&&(g=I),h=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new Pa(h,t,r):(h=y[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new Pa(h,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(TE(t))return"Blackberry";if(AE(t))return"Webos";if(yE(t))return"Safari";if((t.includes("chrome/")||_E(t))&&!t.includes("edge/"))return"Chrome";if(EE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function pE(s=$e()){return/firefox\//i.test(s)}function yE(s=$e()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _E(s=$e()){return/crios\//i.test(s)}function vE(s=$e()){return/iemobile/i.test(s)}function EE(s=$e()){return/android/i.test(s)}function TE(s=$e()){return/blackberry/i.test(s)}function AE(s=$e()){return/webos/i.test(s)}function mm(s=$e()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function rb(s=$e()){return mm(s)&&!!window.navigator?.standalone}function sb(){return ES()&&document.documentMode===10}function SE(s=$e()){return mm(s)||EE(s)||AE(s)||TE(s)||/windows phone/i.test(s)||vE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(s,t=[]){let i;switch(s){case"Browser":i=V_($e());break;case"Worker":i=`${V_($e())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ka}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=h=>new Promise((d,g)=>{try{const y=t(h);d(y)}catch(y){g(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ob(s,t={}){return Ya(s,"GET","/v2/passwordPolicy",Wc(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=6;class ub{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??lb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M_(this),this.idTokenSubscription=new M_(this),this.beforeStateQueue=new ab(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Pa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Vc(this,{idToken:t}),r=await Ln._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(kn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(h){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Mc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=F1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kn(this.app))return Promise.reject(Or(this));const i=t?an(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kn(this.app)?Promise.reject(Or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ob(this),i=new ub(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await ib(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&zi(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Pa.create(this,[zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&j1(`Error while retrieving App Check token: ${t.error}`),t?.token}}function th(s){return an(s)}class M_{constructor(t){this.auth=t,this.observer=null,this.addObserver=CS(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hb(s){gm=s}function fb(s){return gm.loadJS(s)}function db(){return gm.gapiScript}function mb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(s,t){const i=cm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Cs(h,t??{}))return l;ji(l,"already-initialized")}return i.initialize({options:t})}function pb(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(zi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function yb(s,t,i){const r=th(s);_t(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,h=wE(t),{host:d,port:g}=_b(t),y=g===null?"":`:${g}`,_={url:`${h}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){_t(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_t(Cs(_,r.config.emulator)&&Cs(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,Qa(d)?(Wv(`${h}//${d}${y}`),tE("Auth",!0)):vb()}function wE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function _b(s){const t=wE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const h=l[1];return{host:h,port:x_(r.substr(h.length+1))}}else{const[h,d]=r.split(":");return{host:h,port:x_(d)}}}function x_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function vb(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Li("not implemented")}_getIdTokenResponse(t){return Li("not implemented")}_linkToIdToken(t,i){return Li("not implemented")}_getReauthenticationResolver(t){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(s,t){return fE(s,"POST","/v1/accounts:signInWithIdp",Wc(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="http://localhost";class Ns extends RE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ns(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...h}=i;if(!r||!l)return null;const d=new Ns(r,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ua(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Ua(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ua(t,i)}buildRequest(){const t={requestUri:Eb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Vl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl extends IE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends xl{constructor(){super("facebook.com")}static credential(t){return Ns._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Sr.credential(t.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ns._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return br.credential(i,r)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends xl{constructor(){super("github.com")}static credential(t){return Ns._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends xl{constructor(){super("twitter.com")}static credential(t,i){return Ns._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Rr.credential(i,r)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(s,t){return fE(s,"POST","/v1/accounts:signUp",Wc(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const h=await Ln._fromIdTokenResponse(t,r,l),d=P_(r);return new xr({user:h,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=P_(r);return new xr({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function P_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(s){if(kn(s.app))return Promise.reject(Or(s));const t=th(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new xr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Tb(t,{returnSecureToken:!0}),r=await xr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends Qi{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new xc(t,i,r,l)}}function CE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?xc._fromErrorAndOperation(s,h,t,r):h})}async function Sb(s,t,i=!1){const r=await Sl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return xr._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(s,t,i=!1){const{auth:r}=s;if(kn(r.app))return Promise.reject(Or(r));const l="reauthenticate";try{const h=await Sl(s,CE(r,l,t,s),i);_t(h.idToken,r,"internal-error");const d=dm(h.idToken);_t(d,r,"internal-error");const{sub:g}=d;return _t(s.uid===g,r,"user-mismatch"),xr._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&ji(r,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(s,t,i=!1){if(kn(s.app))return Promise.reject(Or(s));const r="signIn",l=await CE(s,r,t),h=await xr._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(h.user),h}function Rb(s,t,i,r){return an(s).onIdTokenChanged(t,i,r)}function Ib(s,t,i){return an(s).beforeAuthStateChanged(t,i)}function Cb(s,t,i,r){return an(s).onAuthStateChanged(t,i,r)}const Pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Pc,"1"),this.storage.removeItem(Pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=1e3,Nb=10;class NE extends DE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},h=this.storage.getItem(r);sb()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Nb):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},Db)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}NE.type="LOCAL";const Ob=NE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends DE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}OE.type="SESSION";const VE=OE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new eh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,h)),y=await Vb(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((g,y)=>{const _=pm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(I){const N=I;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(N.data.response);break;default:clearTimeout(A),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function xb(s){ai().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function Pb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ub(){return navigator?.serviceWorker?.controller||null}function kb(){return ME()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="firebaseLocalStorageDb",Lb=1,Uc="firebaseLocalStorage",PE="fbase_key";class Pl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function nh(s,t){return s.transaction([Uc],t?"readwrite":"readonly").objectStore(Uc)}function zb(){const s=indexedDB.deleteDatabase(xE);return new Pl(s).toPromise()}function Hd(){const s=indexedDB.open(xE,Lb);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Uc,{keyPath:PE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Uc)?t(r):(r.close(),await zb(),t(await Hd()))})})}async function U_(s,t,i){const r=nh(s,!0).put({[PE]:t,value:i});return new Pl(r).toPromise()}async function Bb(s,t){const i=nh(s,!1).get(t),r=await new Pl(i).toPromise();return r===void 0?null:r.value}function k_(s,t){const i=nh(s,!0).delete(t);return new Pl(i).toPromise()}const qb=800,jb=3;class UE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>jb)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ME()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eh._getInstance(kb()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Pb(),!this.activeServiceWorker)return;this.sender=new Mb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Ub()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hd();return await U_(t,Pc,"1"),await k_(t,Pc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>U_(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>Bb(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>k_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=nh(l,!1).getAll();return new Pl(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UE.type="LOCAL";const Hb=UE;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(s,t){return t?zi(t):(_t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym extends RE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ua(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ua(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ua(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Fb(s){return wb(s.auth,new ym(s),s.bypassAuthState)}function Qb(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),bb(i,new ym(s),s.bypassAuthState)}async function Kb(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),Sb(i,new ym(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t,i,r,l,h=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:h,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Fb;case"linkViaPopup":case"linkViaRedirect":return Kb;case"reauthViaPopup":case"reauthViaRedirect":return Qb;default:ji(this.auth,"internal-error")}}resolve(t){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=new Ml(2e3,1e4);class Ma extends kE{constructor(t,i,r,l,h){super(t,i,l,h),this.provider=r,this.authWindow=null,this.pollId=null,Ma.currentPopupAction&&Ma.currentPopupAction.cancel(),Ma.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const t=pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ma.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Yb.get())};t()}}Ma.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="pendingRedirect",Tc=new Map;class $b extends kE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Tc.get(this.auth._key());if(!t){try{const r=await Zb(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Tc.set(this.auth._key(),t)}return this.bypassAuthState||Tc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zb(s,t){const i=tw(t),r=Wb(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function Jb(s,t){Tc.set(s._key(),t)}function Wb(s){return zi(s._redirectPersistence)}function tw(s){return Ec(Xb,s.config.apiKey,s.name)}async function ew(s,t,i=!1){if(kn(s.app))return Promise.reject(Or(s));const r=th(s),l=Gb(r,t),d=await new $b(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=600*1e3;class iw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!LE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(si(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nw&&this.cachedEventUids.clear(),this.cachedEventUids.has(L_(t))}saveEventToCache(t){this.cachedEventUids.add(L_(t)),this.lastProcessedEventTime=Date.now()}}function L_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function LE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function rw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sw(s,t={}){return Ya(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ow=/^https?/;async function lw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await sw(s);for(const i of t)try{if(uw(i))return}catch{}ji(s,"unauthorized-domain")}function uw(s){const t=qd(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!ow.test(i))return!1;if(aw.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new Ml(3e4,6e4);function z_(){const s=ai().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function hw(s){return new Promise((t,i)=>{function r(){z_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{z_(),i(si(s,"network-request-failed"))},timeout:cw.get()})}if(ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ai().gapi?.load)r();else{const l=mb("iframefcb");return ai()[l]=()=>{gapi.load?r():i(si(s,"network-request-failed"))},fb(`${db()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Ac=null,t})}let Ac=null;function fw(s){return Ac=Ac||hw(s),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=new Ml(5e3,15e3),mw="__/auth/iframe",gw="emulator/auth/iframe",pw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _w(s){const t=s.config;_t(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?fm(t,gw):`https://${s.config.authDomain}/${mw}`,r={apiKey:t.apiKey,appName:s.name,v:Ka},l=yw.get(s.config.apiHost);l&&(r.eid=l);const h=s._getFrameworks();return h.length&&(r.fw=h.join(",")),`${i}?${Vl(r).slice(1)}`}async function vw(s){const t=await fw(s),i=ai().gapi;return _t(i,s,"internal-error"),t.open({where:document.body,url:_w(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pw,dontclear:!0},r=>new Promise(async(l,h)=>{await r.restyle({setHideOnLeave:!1});const d=si(s,"network-request-failed"),g=ai().setTimeout(()=>{h(d)},dw.get());function y(){ai().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tw=500,Aw=600,Sw="_blank",bw="http://localhost";class B_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ww(s,t,i,r=Tw,l=Aw){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...Ew,width:r.toString(),height:l.toString(),top:h,left:d},_=$e().toLowerCase();i&&(g=_E(_)?Sw:i),pE(_)&&(t=t||bw,y.scrollbars="yes");const A=Object.entries(y).reduce((N,[j,X])=>`${N}${j}=${X},`,"");if(rb(_)&&g!=="_self")return Rw(t||"",g),new B_(null);const I=window.open(t||"",g,A);_t(I,s,"popup-blocked");try{I.focus()}catch{}return new B_(I)}function Rw(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="__/auth/handler",Cw="emulator/auth/handler",Dw=encodeURIComponent("fac");async function q_(s,t,i,r,l,h){_t(s.config.authDomain,s,"auth-domain-config-required"),_t(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:Ka,eventId:l};if(t instanceof IE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",IS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))d[A]=I}if(t instanceof xl){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await s._getAppCheckToken(),_=y?`#${Dw}=${encodeURIComponent(y)}`:"";return`${Nw(s)}?${Vl(g).slice(1)}${_}`}function Nw({config:s}){return s.emulator?fm(s,Cw):`https://${s.authDomain}/${Iw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="webStorageSupport";class Ow{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VE,this._completeRedirectFn=ew,this._overrideRedirectResult=Jb}async _openPopup(t,i,r,l){Hi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await q_(t,i,r,qd(),l);return ww(t,h,pm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const h=await q_(t,i,r,qd(),l);return xb(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(Hi(h,"If manager is not set, promise should be"),h)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await vw(t),r=new iw(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Dd,{type:Dd},l=>{const h=l?.[0]?.[Dd];h!==void 0&&i(!!h),ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=lw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return SE()||yE()||mm()}}const Vw=Ow;var j_="@firebase/auth",H_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Pw(s){za(new Ds("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bE(s)},_=new cb(r,l,h,y);return pb(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),za(new Ds("auth-internal",t=>{const i=th(t.getProvider("auth").getImmediate());return(r=>new Mw(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(j_,H_,xw(s)),Nr(j_,H_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=300,kw=Jv("authIdTokenMaxAge")||Uw;let G_=null;const Lw=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>kw)return;const l=i?.token;G_!==l&&(G_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function zw(s=rE()){const t=cm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=gb(s,{popupRedirectResolver:Vw,persistence:[Hb,Ob,VE]}),r=Jv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(r,location.origin);if(location.origin===h.origin){const d=Lw(h.toString());Ib(i,d,()=>d(i.currentUser)),Rb(i,g=>d(g))}}const l=$v("auth");return l&&yb(i,`http://${l}`),i}function Bw(){return document.getElementsByTagName("head")?.[0]??document}hb({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const h=si("internal-error");h.customData=l,i(h)},r.type="text/javascript",r.charset="UTF-8",Bw().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Pw("Browser");var F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,zE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,S){function R(){}R.prototype=S.prototype,M.D=S.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(O,V,P){for(var w=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)w[Pe-2]=arguments[Pe];return S.prototype[V].apply(O,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,S,R){R||(R=0);var O=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)O[V]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=M.g[0],R=M.g[1],V=M.g[2];var P=M.g[3],w=S+(P^R&(V^P))+O[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=P+(V^S&(R^V))+O[1]+3905402710&4294967295,P=S+(w<<12&4294967295|w>>>20),w=V+(R^P&(S^R))+O[2]+606105819&4294967295,V=P+(w<<17&4294967295|w>>>15),w=R+(S^V&(P^S))+O[3]+3250441966&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(P^R&(V^P))+O[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(V^S&(R^V))+O[5]+1200080426&4294967295,P=S+(w<<12&4294967295|w>>>20),w=V+(R^P&(S^R))+O[6]+2821735955&4294967295,V=P+(w<<17&4294967295|w>>>15),w=R+(S^V&(P^S))+O[7]+4249261313&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(P^R&(V^P))+O[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(V^S&(R^V))+O[9]+2336552879&4294967295,P=S+(w<<12&4294967295|w>>>20),w=V+(R^P&(S^R))+O[10]+4294925233&4294967295,V=P+(w<<17&4294967295|w>>>15),w=R+(S^V&(P^S))+O[11]+2304563134&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(P^R&(V^P))+O[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(V^S&(R^V))+O[13]+4254626195&4294967295,P=S+(w<<12&4294967295|w>>>20),w=V+(R^P&(S^R))+O[14]+2792965006&4294967295,V=P+(w<<17&4294967295|w>>>15),w=R+(S^V&(P^S))+O[15]+1236535329&4294967295,R=V+(w<<22&4294967295|w>>>10),w=S+(V^P&(R^V))+O[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^V&(S^R))+O[6]+3225465664&4294967295,P=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(P^S))+O[11]+643717713&4294967295,V=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(V^P))+O[0]+3921069994&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^P&(R^V))+O[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^V&(S^R))+O[10]+38016083&4294967295,P=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(P^S))+O[15]+3634488961&4294967295,V=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(V^P))+O[4]+3889429448&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^P&(R^V))+O[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^V&(S^R))+O[14]+3275163606&4294967295,P=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(P^S))+O[3]+4107603335&4294967295,V=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(V^P))+O[8]+1163531501&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(V^P&(R^V))+O[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^V&(S^R))+O[2]+4243563512&4294967295,P=S+(w<<9&4294967295|w>>>23),w=V+(S^R&(P^S))+O[7]+1735328473&4294967295,V=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(V^P))+O[12]+2368359562&4294967295,R=V+(w<<20&4294967295|w>>>12),w=S+(R^V^P)+O[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^V)+O[8]+2272392833&4294967295,P=S+(w<<11&4294967295|w>>>21),w=V+(P^S^R)+O[11]+1839030562&4294967295,V=P+(w<<16&4294967295|w>>>16),w=R+(V^P^S)+O[14]+4259657740&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^P)+O[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^V)+O[4]+1272893353&4294967295,P=S+(w<<11&4294967295|w>>>21),w=V+(P^S^R)+O[7]+4139469664&4294967295,V=P+(w<<16&4294967295|w>>>16),w=R+(V^P^S)+O[10]+3200236656&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^P)+O[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^V)+O[0]+3936430074&4294967295,P=S+(w<<11&4294967295|w>>>21),w=V+(P^S^R)+O[3]+3572445317&4294967295,V=P+(w<<16&4294967295|w>>>16),w=R+(V^P^S)+O[6]+76029189&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(R^V^P)+O[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^V)+O[12]+3873151461&4294967295,P=S+(w<<11&4294967295|w>>>21),w=V+(P^S^R)+O[15]+530742520&4294967295,V=P+(w<<16&4294967295|w>>>16),w=R+(V^P^S)+O[2]+3299628645&4294967295,R=V+(w<<23&4294967295|w>>>9),w=S+(V^(R|~P))+O[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~V))+O[7]+1126891415&4294967295,P=S+(w<<10&4294967295|w>>>22),w=V+(S^(P|~R))+O[14]+2878612391&4294967295,V=P+(w<<15&4294967295|w>>>17),w=R+(P^(V|~S))+O[5]+4237533241&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~P))+O[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~V))+O[3]+2399980690&4294967295,P=S+(w<<10&4294967295|w>>>22),w=V+(S^(P|~R))+O[10]+4293915773&4294967295,V=P+(w<<15&4294967295|w>>>17),w=R+(P^(V|~S))+O[1]+2240044497&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~P))+O[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~V))+O[15]+4264355552&4294967295,P=S+(w<<10&4294967295|w>>>22),w=V+(S^(P|~R))+O[6]+2734768916&4294967295,V=P+(w<<15&4294967295|w>>>17),w=R+(P^(V|~S))+O[13]+1309151649&4294967295,R=V+(w<<21&4294967295|w>>>11),w=S+(V^(R|~P))+O[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~V))+O[11]+3174756917&4294967295,P=S+(w<<10&4294967295|w>>>22),w=V+(S^(P|~R))+O[2]+718787259&4294967295,V=P+(w<<15&4294967295|w>>>17),w=R+(P^(V|~S))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(V+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+P&4294967295}r.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var R=S-this.blockSize,O=this.B,V=this.h,P=0;P<S;){if(V==0)for(;P<=R;)l(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<S;)if(O[V++]=M.charCodeAt(P++),V==this.blockSize){l(this,O),V=0;break}}else for(;P<S;)if(O[V++]=M[P++],V==this.blockSize){l(this,O),V=0;break}}this.h=V,this.o+=S},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var R=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=R&255,R/=256;for(this.u(M),M=Array(16),S=R=0;4>S;++S)for(var O=0;32>O;O+=8)M[R++]=this.g[S]>>>O&255;return M};function h(M,S){var R=g;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=S(M)}function d(M,S){this.h=S;for(var R=[],O=!0,V=M.length-1;0<=V;V--){var P=M[V]|0;O&&P==S||(R[V]=P,O=!1)}this.g=R}var g={};function y(M){return-128<=M&&128>M?h(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return I;if(0>M)return Z(_(-M));for(var S=[],R=1,O=0;M>=R;O++)S[O]=M/R|0,R*=4294967296;return new d(S,0)}function A(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return Z(A(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(S,8)),O=I,V=0;V<M.length;V+=8){var P=Math.min(8,M.length-V),w=parseInt(M.substring(V,V+P),S);8>P?(P=_(Math.pow(S,P)),O=O.j(P).add(_(w))):(O=O.j(R),O=O.add(_(w)))}return O}var I=y(0),N=y(1),j=y(16777216);s=d.prototype,s.m=function(){if(W(this))return-Z(this).m();for(var M=0,S=1,R=0;R<this.g.length;R++){var O=this.i(R);M+=(0<=O?O:4294967296+O)*S,S*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(X(this))return"0";if(W(this))return"-"+Z(this).toString(M);for(var S=_(Math.pow(M,6)),R=this,O="";;){var V=jt(R,S).g;R=pt(R,V.j(S));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=V,X(R))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function X(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function W(M){return M.h==-1}s.l=function(M){return M=pt(this,M),W(M)?-1:X(M)?0:1};function Z(M){for(var S=M.g.length,R=[],O=0;O<S;O++)R[O]=~M.g[O];return new d(R,~M.h).add(N)}s.abs=function(){return W(this)?Z(this):this},s.add=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],O=0,V=0;V<=S;V++){var P=O+(this.i(V)&65535)+(M.i(V)&65535),w=(P>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);O=w>>>16,P&=65535,w&=65535,R[V]=w<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function pt(M,S){return M.add(Z(S))}s.j=function(M){if(X(this)||X(M))return I;if(W(this))return W(M)?Z(this).j(Z(M)):Z(Z(this).j(M));if(W(M))return Z(this.j(Z(M)));if(0>this.l(j)&&0>M.l(j))return _(this.m()*M.m());for(var S=this.g.length+M.g.length,R=[],O=0;O<2*S;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<M.g.length;V++){var P=this.i(O)>>>16,w=this.i(O)&65535,Pe=M.i(V)>>>16,se=M.i(V)&65535;R[2*O+2*V]+=w*se,yt(R,2*O+2*V),R[2*O+2*V+1]+=P*se,yt(R,2*O+2*V+1),R[2*O+2*V+1]+=w*Pe,yt(R,2*O+2*V+1),R[2*O+2*V+2]+=P*Pe,yt(R,2*O+2*V+2)}for(O=0;O<S;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=S;O<2*S;O++)R[O]=0;return new d(R,0)};function yt(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function ht(M,S){this.g=M,this.h=S}function jt(M,S){if(X(S))throw Error("division by zero");if(X(M))return new ht(I,I);if(W(M))return S=jt(Z(M),S),new ht(Z(S.g),Z(S.h));if(W(S))return S=jt(M,Z(S)),new ht(Z(S.g),S.h);if(30<M.g.length){if(W(M)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var R=N,O=S;0>=O.l(M);)R=At(R),O=At(O);var V=zt(R,1),P=zt(O,1);for(O=zt(O,2),R=zt(R,2);!X(O);){var w=P.add(O);0>=w.l(M)&&(V=V.add(R),P=w),O=zt(O,1),R=zt(R,1)}return S=pt(M,V.j(S)),new ht(V,S)}for(V=I;0<=M.l(S);){for(R=Math.max(1,Math.floor(M.m()/S.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=_(R),w=P.j(S);W(w)||0<w.l(M);)R-=O,P=_(R),w=P.j(S);X(P)&&(P=N),V=V.add(P),M=pt(M,w)}return new ht(V,M)}s.A=function(M){return jt(this,M).h},s.and=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)&M.i(O);return new d(R,this.h&M.h)},s.or=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)|M.i(O);return new d(R,this.h|M.h)},s.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],O=0;O<S;O++)R[O]=this.i(O)^M.i(O);return new d(R,this.h^M.h)};function At(M){for(var S=M.g.length+1,R=[],O=0;O<S;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new d(R,M.h)}function zt(M,S){var R=S>>5;S%=32;for(var O=M.g.length-R,V=[],P=0;P<O;P++)V[P]=0<S?M.i(P+R)>>>S|M.i(P+R+1)<<32-S:M.i(P+R);return new d(V,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Vr=d}).apply(typeof F_<"u"?F_:typeof self<"u"?self:typeof window<"u"?window:{});var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BE,hl,qE,Sc,Gd,jE,HE,GE;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof mc=="object"&&mc];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var p=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,U={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function I(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function N(u,m,p){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,N.apply(null,arguments)}function j(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,U,q){for(var tt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)tt[Vt-2]=arguments[Vt];return m.prototype[U].apply(T,tt)}}function W(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function Z(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(y(T)){const U=u.length||0,q=T.length||0;u.length=U+q;for(let tt=0;tt<q;tt++)u[U+tt]=T[tt]}else u.push(T)}}class pt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function yt(u){return/^[\s\xa0]*$/.test(u)}function ht(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function jt(u){return jt[" "](u),u}jt[" "]=function(){};var At=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function zt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function M(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let q=0;q<R.length;q++)p=R[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function V(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function P(u){g.setTimeout(()=>{throw u},0)}function w(){var u=kt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Pe{constructor(){this.h=this.g=null}add(m,p){const T=se.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var se=new pt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let et,lt=!1,kt=new Pe,C=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then($)}};var $=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){P(p)}var m=se;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ct=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u})();function wt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(At){t:{try{jt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}X(wt,J);var vt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function qn(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Ki(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fi(u){this.src=u,this.g={},this.h=0}fi.prototype.add=function(u,m,p,T,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var tt=jr(u,m,T,U);return-1<tt?(m=u[tt],p||(m.fa=!1)):(m=new qn(m,this.src,q,!!T,U),m.fa=p,u.push(m)),m};function qr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(T,U,1),q&&(Ki(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function jr(u,m,p,T){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return U}return-1}var Hr="closure_lm_"+(1e6*Math.random()|0),to={};function Hl(u,m,p,T,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Hl(u,m[q],p,T,U);return null}return p=Gl(p),u&&u[Ce]?u.K(m,p,_(T)?!!T.capture:!1,U):pn(u,m,p,!1,T,U)}function pn(u,m,p,T,U,q){if(!m)throw Error("Invalid event type");var tt=_(U)?!!U.capture:!!U,Vt=Ls(u);if(Vt||(u[Hr]=Vt=new fi(u)),p=Vt.add(m,p,T,tt,q),p.proxy)return p;if(T=ph(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ct||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Gr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ph(){function u(p){return m.call(u.src,u.listener,p)}const m=yh;return u}function eo(u,m,p,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)eo(u,m[q],p,T,U);else T=_(T)?!!T.capture:!!T,p=Gl(p),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=jr(q,p,T,U),-1<p&&(Ki(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ls(u))&&(m=u.g[m.toString()],u=-1,m&&(u=jr(m,p,T,U)),(p=-1<u?m[u]:null)&&ks(p))}function ks(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])qr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Gr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ls(m))?(qr(p,u),p.h==0&&(p.src=null,m[Hr]=null)):Ki(u)}}}function Gr(u){return u in to?to[u]:to[u]="on"+u}function yh(u,m){if(u.da)u=!0;else{m=new wt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&ks(u),u=p.call(T,m)}return u}function Ls(u){return u=u[Hr],u instanceof fi?u:null}var no="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gl(u){return typeof u=="function"?u:(u[no]||(u[no]=function(m){return u.handleEvent(m)}),u[no])}function ae(){nt.call(this),this.i=new fi(this),this.M=this,this.F=null}X(ae,nt),ae.prototype[Ce]=!0,ae.prototype.removeEventListener=function(u,m,p,T){eo(this,u,m,p,T)};function Ht(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var U=m;m=new J(T,u),O(m,U)}if(U=!0,p)for(var q=p.length-1;0<=q;q--){var tt=m.g=p[q];U=on(tt,T,!0,m)&&U}if(tt=m.g=u,U=on(tt,T,!0,m)&&U,U=on(tt,T,!1,m)&&U,p)for(q=0;q<p.length;q++)tt=m.g=p[q],U=on(tt,T,!1,m)&&U}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Ki(p[T]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ae.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function on(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==p){var Vt=tt.listener,Ae=tt.ha||tt.src;tt.fa&&qr(u.i,tt),U=Vt.call(Ae,T)!==!1&&U}}return U&&!T.defaultPrevented}function Ge(u,m,p){if(typeof u=="function")p&&(u=N(u,p));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Fl(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,Fl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class _h extends nt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(u){nt.call(this),this.h=u,this.g={}}X(Fr,nt);var Qr=[];function Kr(u){zt(u.g,function(m,p){this.g.hasOwnProperty(p)&&ks(m)},u),u.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),Kr(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=g.JSON.stringify,zs=g.JSON.parse,Yr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function io(){}io.prototype.h=null;function ro(u){return u.h||(u.h=u.i())}function so(){}var di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){J.call(this,"d")}X(mi,J);function ao(){J.call(this,"c")}X(ao,J);var jn={},oo=null;function Yi(){return oo=oo||new ae}jn.La="serverreachability";function Bs(u){J.call(this,jn.La,u)}X(Bs,J);function Xi(u){const m=Yi();Ht(m,new Bs(m))}jn.STAT_EVENT="statevent";function Ql(u,m){J.call(this,jn.STAT_EVENT,u),this.stat=m}X(Ql,J);function ee(u){const m=Yi();Ht(m,new Ql(m,u))}jn.Ma="timingevent";function Te(u,m){J.call(this,jn.Ma,u),this.size=m}X(Te,J);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function lo(u,m,p,T,U,q){u.info(function(){if(u.g)if(q)for(var tt="",Vt=q.split("&"),Ae=0;Ae<Vt.length;Ae++){var Mt=Vt[Ae].split("=");if(1<Mt.length){var Ne=Mt[0];Mt=Mt[1];var Se=Ne.split("_");tt=2<=Se.length&&Se[1]=="type"?tt+(Ne+"="+Mt+"&"):tt+(Ne+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+tt})}function vh(u,m,p,T,U,q,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+q+" "+tt})}function $i(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Xr(u,p)+(T?" "+T:"")})}function Kl(u,m){u.info(function(){return"TIMEOUT: "+m})}yn.prototype.info=function(){};function Xr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<U.length;tt++)U[tt]=""}}}}return On(p)}catch{return m}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function Gn(){}X(Gn,io),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Hn=new Gn;function Ze(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var uo={},qs={};function Vn(u,m,p){u.L=1,u.v=ts(ln(m)),u.m=p,u.P=!0,pi(u,null)}function pi(u,m){u.F=Date.now(),$r(u),u.A=ln(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),po(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ce,u.g=uu(u.j,p?m:null,!u.m),0<u.O&&(u.M=new _h(N(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Qr[0]=U.toString()),U=Qr);for(var q=0;q<U.length;q++){var tt=Hl(p,U[q],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Xi(),lo(u.i,u.u,u.A,u.l,u.R,u.m)}Ze.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},Ze.prototype.Y=function(u){try{if(u==this.g)t:{const Se=Tn(this.g);var m=this.g.Ba();const bi=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||eu(this.g)))){this.J||Se!=4||m==7||(m==8||0>=bi?Xi(3):Xi(2)),Ji(this);var p=this.g.Z();this.X=p;e:if(Yl(this)){var T=eu(this.g);u="";var U=T.length,q=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Fn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=p==200,vh(this.i,this.u,this.A,this.l,this.R,Se,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Vt,Ae=this.g;if((Vt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yt(Vt)){var Mt=Vt;break e}}Mt=null}if(p=Mt)$i(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zr(this,p);else{this.o=!1,this.s=3,ee(12),Ue(this),Fn(this);break t}}if(this.P){p=!0;let ke;for(;!this.J&&this.C<tt.length;)if(ke=Xl(this,tt),ke==qs){Se==4&&(this.s=4,ee(14),p=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==uo){this.s=4,ee(15),$i(this.i,this.l,tt,"[Invalid Chunk]"),p=!1;break}else $i(this.i,this.l,ke,null),Zr(this,ke);if(Yl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||tt.length!=0||this.h.h||(this.s=1,ee(16),p=!1),this.o=this.o&&p,!p)$i(this.i,this.l,tt,"[Invalid Chunked Response]"),Ue(this),Fn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),ls(Ne),Ne.M=!0,ee(11))}}else $i(this.i,this.l,tt,null),Zr(this,tt);Se==4&&Ue(this),this.o&&!this.J&&(Se==4?au(this.j,this):(this.o=!1,$r(this)))}else bh(this.g),p==400&&0<tt.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ue(this),Fn(this)}}}catch{}finally{}};function Yl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Xl(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?qs:(p=Number(m.substring(p,T)),isNaN(p)?uo:(T+=1,T+p>m.length?qs:(m=m.slice(T,T+p),u.C=T+p,m)))}Ze.prototype.cancel=function(){this.J=!0,Ue(this)};function $r(u){u.S=Date.now()+u.I,$l(u,u.I)}function $l(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(N(u.ba,u),m)}function Ji(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Kl(this.i,this.A),this.L!=2&&(Xi(),ee(17)),Ue(this),this.s=2,Fn(this)):$l(this,this.S-u)};function Fn(u){u.j.G==0||u.J||au(u.j,u)}function Ue(u){Ji(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Kr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Zr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||co(p.h,u))){if(!u.K&&co(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Ws(p),Zs(p);else break t;To(p),ee(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=me(N(p.Za,p),6e3));if(1>=Hs(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Si(p,11)}else if((u.K||p.g==u)&&Ws(p),!yt(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let Mt=U[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const Ne=Mt[3];Ne!=null&&(p.la=Ne,p.j.info("VER="+p.la));const Se=Mt[4];Se!=null&&(p.Aa=Se,p.j.info("SVER="+p.Aa));const bi=Mt[5];bi!=null&&typeof bi=="number"&&0<bi&&(T=1.5*bi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const ke=u.g;if(ke){const Jn=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var q=T.h;q.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Gs(q,q.h),q.h=null))}if(T.D){const So=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(T.ya=So,Qt(T.I,T.D,So))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var tt=u;if(T.qa=lu(T,T.J?T.ia:null,T.W),tt.K){Je(T.h,tt);var Vt=tt,Ae=T.L;Ae&&(Vt.I=Ae),Vt.B&&(Ji(Vt),$r(Vt)),T.g=tt}else ru(T);0<p.i.length&&Js(p)}else Mt[0]!="stop"&&Mt[0]!="close"||Si(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Si(p,7):vo(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}Xi(4)}catch{}}var Zl=class{constructor(u,m){this.g=u,this.map=m}};function yi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function js(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Hs(u){return u.h?1:u.g?u.g.size:0}function co(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Gs(u,m){u.g?u.g.add(m):u.h=m}function Je(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yi.prototype.cancel=function(){if(this.i=ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ho(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return W(u.i)}function Eh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Fs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function fo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Fs(u),T=Eh(u),U=T.length,q=0;q<U;q++)m.call(void 0,T[q],p&&p[q],u)}var Jr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Th(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),U=null;if(0<=T){var q=u[p].substring(0,T);U=u[p].substring(T+1)}else q=u[p];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,Wr(this,u.j),this.o=u.o,this.g=u.g,Wi(this,u.s),this.l=u.l;var m=u.i,p=new vi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),_i(this,p),this.m=u.m}else u&&(m=String(u).match(Jr))?(this.h=!1,Wr(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),Wi(this,m[4]),this.l=_n(m[5]||"",!0),_i(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(es(m,mo,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(es(m,mo,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(es(p,p.charAt(0)=="/"?Ah:go,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",es(p,Qs)),u.join("")};function ln(u){return new ge(u)}function Wr(u,m,p){u.j=p?_n(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Wi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function _i(u,m,p){m instanceof vi?(u.i=m,Wl(u.i,u.h)):(p||(m=es(m,Sh)),u.i=new vi(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function ts(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function es(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Jl),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Jl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var mo=/[#\/\?@]/g,go=/[#\?:]/g,Ah=/[#\?]/g,Sh=/[#\?@]/g,Qs=/#/g;function vi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&Th(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=vi.prototype,s.add=function(u,m){vn(this),this.i=null,u=Qn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Ei(u,m){vn(u),m=Qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ti(u,m){return vn(u),m=Qn(u,m),u.g.has(m)}s.forEach=function(u,m){vn(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)},s.na=function(){vn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const U=u[T];for(let q=0;q<U.length;q++)p.push(m[T])}return p},s.V=function(u){vn(this);let m=[];if(typeof u=="string")Ti(this,u)&&(m=m.concat(this.g.get(Qn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return vn(this),this.i=null,u=Qn(this,u),Ti(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function po(u,m,p){Ei(u,m),0<p.length&&(u.i=null,u.g.set(Qn(u,m),W(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),tt=this.V(T);for(T=0;T<tt.length;T++){var U=q;tt[T]!==""&&(U+="="+encodeURIComponent(String(tt[T]))),u.push(U)}}return this.i=u.join("&")};function Qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Wl(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(p,T){var U=T.toLowerCase();T!=U&&(Ei(this,T),po(this,U,p))},u)),u.j=m}function ns(u,m){const p=new yn;if(g.Image){const T=new Image;T.onload=j(En,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(En,p,"TestLoadImage: error",!1,m,T),T.onabort=j(En,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(En,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Mn(u,m){const p=new yn,T=new AbortController,U=setTimeout(()=>{T.abort(),En(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?En(p,"TestPingServer: ok",!0,m):En(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),En(p,"TestPingServer: error",!1,m)})}function En(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function is(){this.g=new Yr}function Kn(u,m,p){const T=p||"";try{fo(u,function(U,q){let tt=U;_(U)&&(tt=On(U)),m.push(T+q+"="+encodeURIComponent(tt))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function tr(u){this.l=u.Ub||null,this.j=u.eb||!1}X(tr,io),tr.prototype.g=function(){return new Ai(this.l,this.j)},tr.prototype.i=(function(u){return function(){return u}})({});function Ai(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Ai,ae),s=Ai.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function yo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Xn(this),this.readyState==3&&yo(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},s.Qa=function(u){this.g&&(this.response=u,Yn(this))},s.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _o(u){let m="";return zt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=_o(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function Bt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(Bt,ae);var Ks=/^https?$/i,rs=["POST","PUT"];s=Bt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?ro(this.o):ro(Hn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){tu(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(rs,m,void 0))||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of p)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){tu(this,q)}};function tu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ys(u),$n(u)}function Ys(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),$n(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),Bt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Xs(this):this.bb())},s.bb=function(){Xs(this)};function Xs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)Ge(u.Ea,0,u);else if(Ht(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=tt===0){var U=String(u.D).match(Jr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!Ks.test(U?U.toLowerCase():"")}p=T}if(p)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var q=2<Tn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Ys(u)}}finally{$n(u)}}}}function $n(u,m){if(u.g){ss(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{p.onreadystatechange=T}catch{}}}function ss(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),zs(m)}};function eu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function bh(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(yt(u[T]))continue;var p=V(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[U]||[];m[U]=q,q.push(p)}M(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function $s(u){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,u),this.cb=as("retryDelaySeedMs",1e4,u),this.Wa=as("forwardChannelMaxRetries",2,u),this.wa=as("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new yi(u&&u.concurrentRequestLimit),this.Da=new is,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=$s.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,T){ee(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=lu(this,null,this.W),Js(this)};function vo(u){if(nu(u),u.G==3){var m=u.U++,p=ln(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),os(u,p),m=new Ze(u,u.j,m),m.L=2,m.v=ts(ln(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=uu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$r(m)}ou(u)}function Zs(u){u.g&&(ls(u),u.g.cancel(),u.g=null)}function nu(u){Zs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ws(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Js(u){if(!js(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||C(),lt||(et(),lt=!0),kt.add(m,u),u.B=0}}function wh(u,m){return Hs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(N(u.Ga,u,m),Ao(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ze(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),O(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=iu(this,U,m),p=ln(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),os(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(_o(q)))+"&"+m:this.m&&De(p,this.m,q)),Gs(this.h,U),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),U.T=!0,Vn(U,p,null)):Vn(U,p,m),this.G=2}}else this.G==3&&(u?Eo(this,u):this.i.length==0||js(this.h)||Eo(this))};function Eo(u,m){var p;m?p=m.l:p=u.U++;const T=ln(u.I);Qt(T,"SID",u.K),Qt(T,"RID",p),Qt(T,"AID",u.T),os(u,T),u.m&&u.o&&De(T,u.m,u.o),p=new Ze(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=iu(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Gs(u.h,p),Vn(p,T,m)}function os(u,m){u.H&&zt(u.H,function(p,T){Qt(m,T,p)}),u.l&&fo({},function(p,T){Qt(m,T,p)})}function iu(u,m,p){p=Math.min(u.i.length,p);var T=u.l?N(u.l.Na,u.l,u):null;t:{var U=u.i;let q=-1;for(;;){const tt=["count="+p];q==-1?0<p?(q=U[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let Vt=!0;for(let Ae=0;Ae<p;Ae++){let Mt=U[Ae].g;const Ne=U[Ae].map;if(Mt-=q,0>Mt)q=Math.max(0,U[Ae].g-100),Vt=!1;else try{Kn(Ne,tt,"req"+Mt+"_")}catch{T&&T(Ne)}}if(Vt){T=tt.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function ru(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||C(),lt||(et(),lt=!0),kt.add(m,u),u.v=0}}function To(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(N(u.Fa,u),Ao(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(N(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Zs(this),su(this))};function ls(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function su(u){u.g=new Ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),os(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=ts(ln(m)),p.m=null,p.P=!0,pi(p,u)}s.Za=function(){this.C!=null&&(this.C=null,Zs(this),To(this),ee(19))};function Ws(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function au(u,m){var p=null;if(u.g==m){Ws(u),ls(u),u.g=null;var T=2}else if(co(u.h,m))p=m.D,Je(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Yi(),Ht(T,new Te(T,p)),Js(u)}else ru(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&wh(u,m)||T==2&&To(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),U){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function Ao(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var p=N(u.fb,u),T=u.Xa;const U=!T;T=new ge(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Wr(T,"https"),ts(T),U?ns(T.toString(),p):Mn(T.toString(),p)}else ee(2);u.G=0,u.l&&u.l.sa(m),ou(u),nu(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function ou(u){if(u.G=0,u.ka=[],u.l){const m=ho(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function lu(u,m,p){var T=p instanceof ge?ln(p):new ge(p);if(T.g!="")m&&(T.g=m+"."+T.g),Wi(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new ge(null);T&&Wr(q,T),m&&(q.g=m),U&&Wi(q,U),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",u.la),os(u,T),T}function uu(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new tr({eb:p})):new Bt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}s=cu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ta(){}ta.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ae.call(this),this.g=new $s(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!yt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!yt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}X(We,ae),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){vo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=On(u),u=p);m.i.push(new Zl(m.Ya++,u)),m.G==3&&Js(m)},We.prototype.N=function(){this.g.l=null,delete this.j,vo(this.g),delete this.g,We.aa.N.call(this)};function hu(u){mi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}X(hu,mi);function fu(){ao.call(this),this.status=1}X(fu,ao);function Zn(u){this.g=u}X(Zn,cu),Zn.prototype.ua=function(){Ht(this.g,"a")},Zn.prototype.ta=function(u){Ht(this.g,new hu(u))},Zn.prototype.sa=function(u){Ht(this.g,new fu)},Zn.prototype.ra=function(){Ht(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,GE=function(){return new ta},HE=function(){return Yi()},jE=jn,Gd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,Sc=Zi,gi.COMPLETE="complete",qE=gi,so.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",ae.prototype.listen=ae.prototype.K,hl=so,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,BE=Bt}).apply(typeof mc<"u"?mc:typeof self<"u"?self:typeof window<"u"?window:{});const Q_="@firebase/firestore",K_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new lm("@firebase/firestore");function Da(){return Os.logLevel}function it(s,...t){if(Os.logLevel<=Dt.DEBUG){const i=t.map(_m);Os.debug(`Firestore (${Xa}): ${s}`,...i)}}function Gi(s,...t){if(Os.logLevel<=Dt.ERROR){const i=t.map(_m);Os.error(`Firestore (${Xa}): ${s}`,...i)}}function Ba(s,...t){if(Os.logLevel<=Dt.WARN){const i=t.map(_m);Os.warn(`Firestore (${Xa}): ${s}`,...i)}}function _m(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,FE(s,r,i)}function FE(s,t,i){let r=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Gi(r),new Error(r)}function qt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||FE(t,l,r)}function Tt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Qi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class jw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Hw{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let h=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Rs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=h;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Rs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qt(typeof r.accessToken=="string",31837,{l:r}),new QE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class Gw{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Fw{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new Gw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Y_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const r=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const l=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Y_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Y_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Kw(40);for(let h=0;h<l.length;++h)r.length<20&&l[h]<i&&(r+=t.charAt(l[h]%62))}return r}}function Nt(s,t){return s<t?-1:s>t?1:0}function Fd(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),h=t.charAt(r);if(l!==h)return Nd(l)===Nd(h)?Nt(l,h):Nd(l)?1:-1}return Nt(s.length,t.length)}const Yw=55296,Xw=57343;function Nd(s){const t=s.charCodeAt(0);return t>=Yw&&t<=Xw}function qa(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__name__";class ri{constructor(t,i,r){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&mt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const h=ri.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Nt(t.length,i.length)}static compareSegments(t,i){const r=ri.isNumericId(t),l=ri.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?ri.extractNumericId(t).compare(ri.extractNumericId(i)):Fd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Vr.fromString(t.substring(4,t.length-2))}}class Wt extends ri{construct(t,i,r){return new Wt(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new rt(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const $w=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends ri{construct(t,i,r){return new je(t,i,r)}static isValidIdentifier(t){return $w.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new je([X_])}static fromServerFormat(t){const i=[];let r="",l=0;const h=()=>{if(r.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new rt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(h(),l++)}if(h(),d)throw new rt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.path=t}static fromPath(t){return new ut(Wt.fromString(t))}static fromName(t){return new ut(Wt.fromString(t).popFirst(5))}static empty(){return new ut(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new Wt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(s,t,i){if(!i)throw new rt(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Zw(s,t,i,r){if(t===!0&&r===!0)throw new rt(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function $_(s){if(!ut.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Z_(s){if(ut.isDocumentKey(s))throw new rt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function YE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ih(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":mt(12329,{type:typeof s})}function yl(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ih(s);throw new rt(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(s,t){const i={typeString:s};return t&&(i.value=t),i}function Ul(s,t){if(!YE(s))throw new rt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new rt(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=-62135596800,W_=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*W_);return new te(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<J_)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W_}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ul(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-J_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:Ee("string",te._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new te(0,0))}static max(){return new Et(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=-1;function Jw(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(r===1e9?new te(i+1,0):new te(i,r));return new Pr(l,ut.empty(),t)}function Ww(s){return new Pr(s.readTime,s.key,bl)}class Pr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Pr(Et.min(),ut.empty(),bl)}static max(){return new Pr(Et.max(),ut.empty(),bl)}}function tR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ut.comparator(s.documentKey,t.documentKey),i!==0?i:Nt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==eR)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((r,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,r)=>{i(t)}))}static reject(t){return new Y(((i,r)=>{r(t)}))}static waitFor(t){return new Y(((i,r)=>{let l=0,h=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++h,d&&h===l&&i()}),(y=>r(y)))})),d=!0,h===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const r of t)i=i.next((l=>l?Y.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,h)=>{r.push(i.call(this,l,h))})),this.waitFor(r)}static mapArray(t,i){return new Y(((r,l)=>{const h=t.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++g,g===h&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Y(((r,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):r()};h()}))}}function iR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Za(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=-1;function sh(s){return s==null}function kc(s){return s===0&&1/s==-1/0}function rR(s){return typeof s=="number"&&Number.isInteger(s)&&!kc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="";function sR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=tv(t)),t=aR(s.get(i),t);return tv(t)}function aR(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const h=s.charAt(l);switch(h){case"\0":i+="";break;case XE:i+="";break;default:i+=h}}return i}function tv(s){return s+XE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Ms(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function $E(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,i){this.comparator=t,this.root=i||qe.EMPTY}insert(t,i){return new re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new gc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new gc(this.root,t,this.comparator,!1)}getReverseIterator(){return new gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new gc(this.root,t,this.comparator,!0)}}class gc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?r(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,i,r,l,h){this.key=t,this.value=i,this.color=r??qe.RED,this.left=l??qe.EMPTY,this.right=h??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,h){return new qe(t??this.key,i??this.value,r??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const h=r(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,r),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return qe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,r,l,h){return this}insert(t,i,r){return new qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(t){return new nv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ie(this.comparator);return i.data=t,i}}class nv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.fields=t,t.sort(je.comparator)}static empty(){return new zn([])}unionWith(t){let i=new Ie(je.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new zn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return qa(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new ZE("Invalid base64 string: "+h):h}})(t);return new He(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new He(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const oR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(s){if(qt(!!s,39018),typeof s=="string"){let t=0;const i=oR.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:de(s.seconds),nanos:de(s.nanos)}}function de(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function kr(s){return typeof s=="string"?He.fromBase64String(s):He.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="server_timestamp",WE="__type__",tT="__previous_value__",eT="__local_write_time__";function Tm(s){return(s?.mapValue?.fields||{})[WE]?.stringValue===JE}function ah(s){const t=s.mapValue.fields[tT];return Tm(t)?ah(t):t}function wl(s){const t=Ur(s.mapValue.fields[eT].timestampValue);return new te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(t,i,r,l,h,d,g,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Lc="(default)";class Rl{constructor(t,i){this.projectId=t,this.database=i||Lc}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===Lc}isEqual(t){return t instanceof Rl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="__type__",uR="__max__",pc={mapValue:{}},iT="__vector__",zc="value";function Lr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Tm(s)?4:hR(s)?9007199254740991:cR(s)?10:11:mt(28295,{value:s})}function hi(s,t){if(s===t)return!0;const i=Lr(s);if(i!==Lr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return wl(s).isEqual(wl(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Ur(l.timestampValue),g=Ur(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,h){return kr(l.bytesValue).isEqual(kr(h.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,h){return de(l.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(l.geoPointValue.longitude)===de(h.geoPointValue.longitude)})(s,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return de(l.integerValue)===de(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=de(l.doubleValue),g=de(h.doubleValue);return d===g?kc(d)===kc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return qa(s.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},g=h.mapValue.fields||{};if(ev(d)!==ev(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!hi(d[y],g[y])))return!1;return!0})(s,t);default:return mt(52216,{left:s})}}function Il(s,t){return(s.values||[]).find((i=>hi(i,t)))!==void 0}function ja(s,t){if(s===t)return 0;const i=Lr(s),r=Lr(t);if(i!==r)return Nt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,t.booleanValue);case 2:return(function(h,d){const g=de(h.integerValue||h.doubleValue),y=de(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,t);case 3:return iv(s.timestampValue,t.timestampValue);case 4:return iv(wl(s),wl(t));case 5:return Fd(s.stringValue,t.stringValue);case 6:return(function(h,d){const g=kr(h),y=kr(d);return g.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(h,d){const g=h.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=Nt(g[_],y[_]);if(A!==0)return A}return Nt(g.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(h,d){const g=Nt(de(h.latitude),de(d.latitude));return g!==0?g:Nt(de(h.longitude),de(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return rv(s.arrayValue,t.arrayValue);case 10:return(function(h,d){const g=h.fields||{},y=d.fields||{},_=g[zc]?.arrayValue,A=y[zc]?.arrayValue,I=Nt(_?.values?.length||0,A?.values?.length||0);return I!==0?I:rv(_,A)})(s.mapValue,t.mapValue);case 11:return(function(h,d){if(h===pc.mapValue&&d===pc.mapValue)return 0;if(h===pc.mapValue)return 1;if(d===pc.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let I=0;I<y.length&&I<A.length;++I){const N=Fd(y[I],A[I]);if(N!==0)return N;const j=ja(g[y[I]],_[A[I]]);if(j!==0)return j}return Nt(y.length,A.length)})(s.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function iv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Nt(s,t);const i=Ur(s),r=Ur(t),l=Nt(i.seconds,r.seconds);return l!==0?l:Nt(i.nanos,r.nanos)}function rv(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const h=ja(i[l],r[l]);if(h)return h}return Nt(i.length,r.length)}function Ha(s){return Qd(s)}function Qd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ur(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return kr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ut.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const h of i.values||[])l?l=!1:r+=",",r+=Qd(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of r)h?h=!1:l+=",",l+=`${d}:${Qd(i.fields[d])}`;return l+"}"})(s.mapValue):mt(61005,{value:s})}function bc(s){switch(Lr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ah(s);return t?16+bc(t):16;case 5:return 2*s.stringValue.length;case 6:return kr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,h)=>l+bc(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Ms(r.fields,((h,d)=>{l+=h.length+bc(d)})),l})(s.mapValue);default:throw mt(13486,{value:s})}}function sv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function Kd(s){return!!s&&"integerValue"in s}function Am(s){return!!s&&"arrayValue"in s}function av(s){return!!s&&"nullValue"in s}function ov(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function wc(s){return!!s&&"mapValue"in s}function cR(s){return(s?.mapValue?.fields||{})[nT]?.stringValue===iT}function _l(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Ms(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=_l(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=_l(s.arrayValue.values[i]);return t}return{...s}}function hR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===uR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this.value=t}static empty(){return new Dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!wc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=_l(i)}setAll(t){let i=je.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=_l(d):l.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,l)}delete(t){const i=this.field(t.popLast());wc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];wc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){Ms(i,((l,h)=>t[l]=h));for(const l of r)delete t[l]}clone(){return new Dn(_l(this.value))}}function rT(s){const t=[];return Ms(s.fields,((i,r)=>{const l=new je([i]);if(wc(r)){const h=rT(r.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,i,r,l,h,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Xe(t,0,Et.min(),Et.min(),Et.min(),Dn.empty(),0)}static newFoundDocument(t,i,r,l){return new Xe(t,1,i,Et.min(),r,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,Et.min(),Et.min(),Dn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,Et.min(),Et.min(),Dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,i){this.position=t,this.inclusive=i}}function lv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const h=t[l],d=s.position[l];if(h.field.isKeyField()?r=ut.comparator(ut.fromName(d.referenceValue),i.key):r=ja(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function uv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!hi(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function fR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{}class ve extends sT{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new mR(t,i,r):i==="array-contains"?new yR(t,r):i==="in"?new _R(t,r):i==="not-in"?new vR(t,r):i==="array-contains-any"?new ER(t,r):new ve(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new gR(t,r):new pR(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ja(i,this.value)):i!==null&&Lr(this.value)===Lr(i)&&this.matchesComparison(ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends sT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Bn(t,i)}matches(t){return aT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aT(s){return s.op==="and"}function oT(s){return dR(s)&&aT(s)}function dR(s){for(const t of s.filters)if(t instanceof Bn)return!1;return!0}function Yd(s){if(s instanceof ve)return s.field.canonicalString()+s.op.toString()+Ha(s.value);if(oT(s))return s.filters.map((t=>Yd(t))).join(",");{const t=s.filters.map((i=>Yd(i))).join(",");return`${s.op}(${t})`}}function lT(s,t){return s instanceof ve?(function(r,l){return l instanceof ve&&r.op===l.op&&r.field.isEqual(l.field)&&hi(r.value,l.value)})(s,t):s instanceof Bn?(function(r,l){return l instanceof Bn&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((h,d,g)=>h&&lT(d,l.filters[g])),!0):!1})(s,t):void mt(19439)}function uT(s){return s instanceof ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ha(i.value)}`})(s):s instanceof Bn?(function(i){return i.op.toString()+" {"+i.getFilters().map(uT).join(" ,")+"}"})(s):"Filter"}class mR extends ve{constructor(t,i,r){super(t,i,r),this.key=ut.fromName(r.referenceValue)}matches(t){const i=ut.comparator(t.key,this.key);return this.matchesComparison(i)}}class gR extends ve{constructor(t,i){super(t,"in",i),this.keys=cT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class pR extends ve{constructor(t,i){super(t,"not-in",i),this.keys=cT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function cT(s,t){return(t.arrayValue?.values||[]).map((i=>ut.fromName(i.referenceValue)))}class yR extends ve{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Am(i)&&Il(i.arrayValue,this.value)}}class _R extends ve{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Il(this.value.arrayValue,i)}}class vR extends ve{constructor(t,i){super(t,"not-in",i)}matches(t){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Il(this.value.arrayValue,i)}}class ER extends ve{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Am(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Il(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,i=null,r=[],l=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function cv(s,t=null,i=[],r=[],l=null,h=null,d=null){return new TR(s,t,i,r,l,h,d)}function Sm(s){const t=Tt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>Yd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),sh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ha(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ha(r))).join(",")),t.Te=i}return t.Te}function bm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!fR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!lT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!uv(s.startAt,t.startAt)&&uv(s.endAt,t.endAt)}function Xd(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,i=null,r=[],l=[],h=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AR(s,t,i,r,l,h,d,g){return new kl(s,t,i,r,l,h,d,g)}function wm(s){return new kl(s)}function hv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function hT(s){return s.collectionGroup!==null}function vl(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ie(je.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new qc(h,r))})),i.has(je.keyField().canonicalString())||t.Ie.push(new qc(je.keyField(),r))}return t.Ie}function oi(s){const t=Tt(s);return t.Ee||(t.Ee=SR(t,vl(s))),t.Ee}function SR(s,t){if(s.limitType==="F")return cv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new qc(l.field,h)}));const i=s.endAt?new Bc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Bc(s.startAt.position,s.startAt.inclusive):null;return cv(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function $d(s,t){const i=s.filters.concat([t]);return new kl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Zd(s,t,i){return new kl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function oh(s,t){return bm(oi(s),oi(t))&&s.limitType===t.limitType}function fT(s){return`${Sm(oi(s))}|lt:${s.limitType}`}function Na(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>uT(l))).join(", ")}]`),sh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Ha(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Ha(l))).join(",")),`Target(${r})`})(oi(s))}; limitType=${s.limitType})`}function lh(s,t){return t.isFoundDocument()&&(function(r,l){const h=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ut.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,t)&&(function(r,l){for(const h of vl(r))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const h of r.filters)if(!h.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const _=lv(d,g,y);return d.inclusive?_<=0:_<0})(r.startAt,vl(r),l)||r.endAt&&!(function(d,g,y){const _=lv(d,g,y);return d.inclusive?_>=0:_>0})(r.endAt,vl(r),l))})(s,t)}function bR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function dT(s){return(t,i)=>{let r=!1;for(const l of vl(s)){const h=wR(l,t,i);if(h!==0)return h;r=r||l.field.isKeyField()}return 0}}function wR(s,t,i){const r=s.field.isKeyField()?ut.comparator(t.key,i.key):(function(h,d,g){const y=d.data.field(h),_=g.data.field(h);return y!==null&&_!==null?ja(y,_):mt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return mt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,h]of r)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ms(this.inner,((i,r)=>{for(const[l,h]of r)t(l,h)}))}isEmpty(){return $E(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new re(ut.comparator);function Fi(){return RR}const mT=new re(ut.comparator);function fl(...s){let t=mT;for(const i of s)t=t.insert(i.key,i);return t}function gT(s){let t=mT;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function ws(){return El()}function pT(){return El()}function El(){return new xs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const IR=new re(ut.comparator),CR=new Ie(ut.comparator);function Ot(...s){let t=CR;for(const i of s)t=t.add(i);return t}const DR=new Ie(Nt);function NR(){return DR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(t)?"-0":t}}function yT(s){return{integerValue:""+s}}function OR(s,t){return rR(t)?yT(t):Rm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this._=void 0}}function VR(s,t,i){return s instanceof Cl?(function(l,h){const d={fields:{[WE]:{stringValue:JE},[eT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Tm(h)&&(h=ah(h)),h&&(d.fields[tT]=h),{mapValue:d}})(i,t):s instanceof Dl?vT(s,t):s instanceof Nl?ET(s,t):(function(l,h){const d=_T(l,h),g=fv(d)+fv(l.Ae);return Kd(d)&&Kd(l.Ae)?yT(g):Rm(l.serializer,g)})(s,t)}function MR(s,t,i){return s instanceof Dl?vT(s,t):s instanceof Nl?ET(s,t):i}function _T(s,t){return s instanceof jc?(function(r){return Kd(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class Cl extends uh{}class Dl extends uh{constructor(t){super(),this.elements=t}}function vT(s,t){const i=TT(t);for(const r of s.elements)i.some((l=>hi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Nl extends uh{constructor(t){super(),this.elements=t}}function ET(s,t){let i=TT(t);for(const r of s.elements)i=i.filter((l=>!hi(l,r)));return{arrayValue:{values:i}}}class jc extends uh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function fv(s){return de(s.integerValue||s.doubleValue)}function TT(s){return Am(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,i){this.field=t,this.transform=i}}function PR(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Dl&&l instanceof Dl||r instanceof Nl&&l instanceof Nl?qa(r.elements,l.elements,hi):r instanceof jc&&l instanceof jc?hi(r.Ae,l.Ae):r instanceof Cl&&l instanceof Cl})(s.transform,t.transform)}class UR{constructor(t,i){this.version=t,this.transformResults=i}}class Bi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Bi}static exists(t){return new Bi(void 0,t)}static updateTime(t){return new Bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class ch{}function AT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new bT(s.key,Bi.none()):new Ll(s.key,s.data,Bi.none());{const i=s.data,r=Dn.empty();let l=new Ie(je.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),l=l.add(h)}return new Ps(s.key,r,new zn(l.toArray()),Bi.none())}}function kR(s,t,i){s instanceof Ll?(function(l,h,d){const g=l.value.clone(),y=mv(l.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof Ps?(function(l,h,d){if(!Rc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const g=mv(l.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(ST(l)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Tl(s,t,i,r){return s instanceof Ll?(function(h,d,g,y){if(!Rc(h.precondition,d))return g;const _=h.value.clone(),A=gv(h.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,r):s instanceof Ps?(function(h,d,g,y){if(!Rc(h.precondition,d))return g;const _=gv(h.fieldTransforms,y,d),A=d.data;return A.setAll(ST(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((I=>I.field)))})(s,t,i,r):(function(h,d,g){return Rc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function LR(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),h=_T(r.transform,l||null);h!=null&&(i===null&&(i=Dn.empty()),i.set(r.field,h))}return i||null}function dv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&qa(r,l,((h,d)=>PR(h,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ll extends ch{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ps extends ch{constructor(t,i,r,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function ST(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function mv(s,t,i){const r=new Map;qt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const h=s[l],d=h.transform,g=t.data.field(h.field);r.set(h.field,MR(d,g,i[l]))}return r}function gv(s,t,i){const r=new Map;for(const l of s){const h=l.transform,d=i.data.field(l.field);r.set(l.field,VR(h,d,t))}return r}class bT extends ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zR extends ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&kR(h,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Tl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Tl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=pT();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(l.key)?null:g;const y=AT(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&qa(this.mutations,t.mutations,((i,r)=>dv(i,r)))&&qa(this.baseMutations,t.baseMutations,((i,r)=>dv(i,r)))}}class Im{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){qt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return IR})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,r[d].version);return new Im(t,i,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Pt;function HR(s){switch(s){case K.OK:return mt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return mt(15467,{code:s})}}function wT(s){if(s===void 0)return Gi("GRPC error has no .code"),K.UNKNOWN;switch(s){case _e.OK:return K.OK;case _e.CANCELLED:return K.CANCELLED;case _e.UNKNOWN:return K.UNKNOWN;case _e.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case _e.INTERNAL:return K.INTERNAL;case _e.UNAVAILABLE:return K.UNAVAILABLE;case _e.UNAUTHENTICATED:return K.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case _e.NOT_FOUND:return K.NOT_FOUND;case _e.ALREADY_EXISTS:return K.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return K.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case _e.ABORTED:return K.ABORTED;case _e.OUT_OF_RANGE:return K.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return K.UNIMPLEMENTED;case _e.DATA_LOSS:return K.DATA_LOSS;default:return mt(39323,{code:s})}}(Pt=_e||(_e={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new Vr([4294967295,4294967295],0);function pv(s){const t=GR().encode(s),i=new zE;return i.update(t),new Uint8Array(i.digest())}function yv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Vr([i,r],0),new Vr([l,h],0)]}class Cm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new dl(`Invalid padding: ${i}`);if(r<0)throw new dl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Vr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Vr.fromNumber(r)));return l.compare(FR)===1&&(l=new Vr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=pv(t),[r,l]=yv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Cm(h,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=pv(t),[r,l]=yv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,i,r,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,zl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new hh(Et.min(),l,new re(Nt),Fi(),Ot())}}class zl{constructor(t,i,r,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new zl(r,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class RT{constructor(t,i){this.targetId=t,this.Ce=i}}class IT{constructor(t,i,r=He.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class _v{constructor(){this.ve=0,this.Fe=vv(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),r=Ot();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:mt(38017,{changeType:h})}})),new zl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=vv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Fi(),this.Je=yc(),this.He=yc(),this.Ye=new re(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Xd(h))if(r===0){const d=new ut(h.path);this.et(i,d,Xe.newNoDocument(d,Et.min()))}else qt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:h=0}=i;let d,g;try{d=kr(r).toUint8Array()}catch(y){if(y instanceof ZE)return Ba("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Cm(d,l,h)}catch(y){return Ba(y instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.et(i,h,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&Xd(g.target)){const y=new ut(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Xe.newNoDocument(y,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Ot();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new hh(t,i,this.Ye,this.je,r);return this.je=Fi(),this.Je=yc(),this.He=yc(),this.Ye=new re(Nt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new _v,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ie(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ie(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new _v),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function yc(){return new re(ut.comparator)}function vv(){return new re(ut.comparator)}const KR={asc:"ASCENDING",desc:"DESCENDING"},YR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XR={and:"AND",or:"OR"};class $R{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Jd(s,t){return s.useProto3Json||sh(t)?t:{value:t}}function Hc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function CT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function ZR(s,t){return Hc(s,t.toTimestamp())}function li(s){return qt(!!s,49232),Et.fromTimestamp((function(i){const r=Ur(i);return new te(r.seconds,r.nanos)})(s))}function Dm(s,t){return Wd(s,t).canonicalString()}function Wd(s,t){const i=(function(l){return new Wt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function DT(s){const t=Wt.fromString(s);return qt(xT(t),10190,{key:t.toString()}),t}function tm(s,t){return Dm(s.databaseId,t.path)}function Od(s,t){const i=DT(t);if(i.get(1)!==s.databaseId.projectId)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ut(OT(i))}function NT(s,t){return Dm(s.databaseId,t)}function JR(s){const t=DT(s);return t.length===4?Wt.emptyPath():OT(t)}function em(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function OT(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Ev(s,t,i){return{name:tm(s,t),fields:i.value.mapValue.fields}}function WR(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:mt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),He.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),He.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?K.UNKNOWN:wT(_.code);return new rt(A,_.message||"")})(d);i=new IT(r,l,h,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Od(s,r.document.name),h=li(r.document.updateTime),d=r.document.createTime?li(r.document.createTime):Et.min(),g=new Dn({mapValue:{fields:r.document.fields}}),y=Xe.newFoundDocument(l,h,d,g),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Ic(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Od(s,r.document),h=r.readTime?li(r.readTime):Et.min(),d=Xe.newNoDocument(l,h),g=r.removedTargetIds||[];i=new Ic([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Od(s,r.document),h=r.removedTargetIds||[];i=new Ic([],h,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:h}=r,d=new jR(l,h),g=r.targetId;i=new RT(g,d)}}return i}function tI(s,t){let i;if(t instanceof Ll)i={update:Ev(s,t.key,t.value)};else if(t instanceof bT)i={delete:tm(s,t.key)};else if(t instanceof Ps)i={update:Ev(s,t.key,t.data),updateMask:uI(t.fieldMask)};else{if(!(t instanceof zR))return mt(16599,{Vt:t.type});i={verify:tm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(h,d){const g=d.transform;if(g instanceof Cl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Dl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Nl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof jc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw mt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:ZR(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:mt(27497)})(s,t.precondition)),i}function eI(s,t){return s&&s.length>0?(qt(t!==void 0,14353),s.map((i=>(function(l,h){let d=l.updateTime?li(l.updateTime):li(h);return d.isEqual(Et.min())&&(d=li(h)),new UR(d,l.transformResults||[])})(i,t)))):[]}function nI(s,t){return{documents:[NT(s,t.path)]}}function iI(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=NT(s,l);const h=(function(_){if(_.length!==0)return MT(Bn.create(_,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(N){return{field:Oa(N.field),direction:aI(N.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Jd(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function rI(s){let t=JR(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){qt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=(function(I){const N=VT(I);return N instanceof Bn&&oT(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(I){return I.map((N=>(function(X){return new qc(Va(X.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(I){let N;return N=typeof I=="object"?I.value:I,sh(N)?null:N})(i.limit));let y=null;i.startAt&&(y=(function(I){const N=!!I.before,j=I.values||[];return new Bc(j,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(I){const N=!I.before,j=I.values||[];return new Bc(j,N)})(i.endAt)),AR(t,l,d,h,g,"F",y,_)}function sI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function VT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Va(i.unaryFilter.field);return ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Va(i.unaryFilter.field);return ve.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Va(i.unaryFilter.field);return ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Va(i.unaryFilter.field);return ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return ve.create(Va(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Bn.create(i.compositeFilter.filters.map((r=>VT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(s):mt(30097,{filter:s})}function aI(s){return KR[s]}function oI(s){return YR[s]}function lI(s){return XR[s]}function Oa(s){return{fieldPath:s.canonicalString()}}function Va(s){return je.fromServerFormat(s.fieldPath)}function MT(s){return s instanceof ve?(function(i){if(i.op==="=="){if(ov(i.value))return{unaryFilter:{field:Oa(i.field),op:"IS_NAN"}};if(av(i.value))return{unaryFilter:{field:Oa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ov(i.value))return{unaryFilter:{field:Oa(i.field),op:"IS_NOT_NAN"}};if(av(i.value))return{unaryFilter:{field:Oa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(i.field),op:oI(i.op),value:i.value}}})(s):s instanceof Bn?(function(i){const r=i.getFilters().map((l=>MT(l)));return r.length===1?r[0]:{compositeFilter:{op:lI(i.op),filters:r}}})(s):mt(54877,{filter:s})}function uI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function xT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,i,r,l,h=Et.min(),d=Et.min(),g=He.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t){this.yt=t}}function hI(s){const t=rI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Zd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.Cn=new dI}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Pr.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Pr.min())}updateCollectionGroup(t,i,r){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class dI{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Ie(Wt.comparator),h=!l.has(r);return this.index[i]=l.add(r),h}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ie(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PT=41943040;class sn{static withCacheSize(t){return new sn(t,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(PT,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ga(0)}static cr(){return new Ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="LruGarbageCollector",mI=1048576;function Sv([s,t],[i,r]){const l=Nt(s,i);return l===0?Nt(t,r):l}class gI{constructor(t){this.Ir=t,this.buffer=new Ie(Sv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Sv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class pI{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(Av,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Za(i)?it(Av,"Ignoring IndexedDB error during garbage collection: ",i):await $a(i)}await this.Vr(3e5)}))}}class yI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(rh.ce);const r=new gI(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Tv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,h,d,g,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l)))).next((I=>(r=I,g=Date.now(),this.removeTargets(t,r,i)))).next((I=>(h=I,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((I=>(_=Date.now(),Da()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${I} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:I}))))}}function _I(s,t){return new yI(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(){this.changes=new xs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Y.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Tl(r.mutation,l,zn.empty(),te.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Ot()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Ot()){const l=ws();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((h=>{let d=fl();return h.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=ws();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Ot())))}populateOverlays(t,i,r){const l=[];return r.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let h=Fi();const d=El(),g=(function(){return El()})();return i.forEach(((y,_)=>{const A=r.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Ps)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Tl(A.mutation,_,A.mutation.getFieldMask(),te.now())):d.set(_.key,zn.empty())})),this.recalculateAndSaveOverlays(t,h).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new EI(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=El();let l=new re(((d,g)=>d-g)),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=r.get(y)||zn.empty();A=g.applyToLocalView(_,A),r.set(y,A);const I=(l.get(g.batchId)||Ot()).add(y);l=l.insert(g.batchId,I)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,I=pT();A.forEach((N=>{if(!h.has(N)){const j=AT(i.get(N),r.get(N));j!==null&&I.set(N,j),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,I))}return Y.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):hT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-h.size):Y.resolve(ws());let g=bl,y=h;return d.next((_=>Y.forEach(_,((A,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(t,A).next((N=>{y=y.insert(A,N)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,y,_,Ot()))).next((A=>({batchId:g,changes:gT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ut(i)).next((r=>{let l=fl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const h=i.collectionGroup;let d=fl();return this.indexManager.getCollectionParents(t,h).next((g=>Y.forEach(g,(y=>{const _=(function(I,N){return new kl(N,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((A=>{A.forEach(((I,N)=>{d=d.insert(I,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,h,l)))).next((d=>{h.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let g=fl();return d.forEach(((y,_)=>{const A=h.get(y);A!==void 0&&Tl(A.mutation,_,zn.empty(),te.now()),lh(i,_)&&(g=g.insert(y,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:li(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:hI(l.bundledQuery),readTime:li(l.readTime)}})(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.overlays=new re(ut.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const r=ws();return Y.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&r.set(l,h)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,h)=>{this.St(t,i,h)})),Y.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(t,i,r){const l=ws(),h=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&y.largestBatchId>r&&l.set(y.getKey(),y)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let h=new re(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=ws(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=ws(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=l)););return Y.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new qR(i,r));let h=this.qr.get(i);h===void 0&&(h=Ot(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(){this.Qr=new Ie(xe.$r),this.Ur=new Ie(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new xe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new xe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new ut(new Wt([])),r=new xe(i,t),l=new xe(i,t+1),h=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ut(new Wt([])),r=new xe(i,t),l=new xe(i,t+1);let h=Ot();return this.Ur.forEachInRange([r,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new xe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class xe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ut.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||ut.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(xe.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new BR(h,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new xe(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),h=l<0?0:l;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Em:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new xe(i,0),l=new xe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);h.push(g)})),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ie(Nt);return i.forEach((l=>{const h=new xe(l,0),d=new xe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{r=r.add(g.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let h=r;ut.isDocumentKey(h)||(h=h.child(""));const d=new xe(new ut(h),0);let g=new Ie(Nt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),Y.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(i.mutations,(l=>{const h=new xe(l.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new xe(i,0),l=this.Zr.firstAfterOrEqual(r);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t){this.ri=t,this.docs=(function(){return new re(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Y.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let r=Fi();return i.forEach((l=>{const h=this.docs.get(l);r=r.insert(l,h?h.document.mutableCopy():Xe.newInvalidDocument(l))})),Y.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let h=Fi();const d=i.path,g=new ut(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||tR(Ww(A),r)<=0||(l.has(A.key)||lh(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(t,i,r,l){mt(9500)}ii(t,i){return Y.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new II(this)}getSize(t){return Y.resolve(this.size)}}class II extends vI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t){this.persistence=t,this.si=new xs((i=>Sm(i)),bm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Nm,this.targetCount=0,this.ai=Ga.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ga(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,r){let l=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Y.waitFor(h).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Y.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Y.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Y.resolve(r)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,i){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new bI,this.referenceDelegate=t(this),this.Pi=new CI(this),this.indexManager=new fI,this.remoteDocumentCache=(function(l){return new RI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new cI(i),this.Ii=new AI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new SI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new wI(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){it("MemoryPersistence","Starting transaction:",t);const l=new DI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,i){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class DI extends nR{constructor(t){super(),this.currentSequenceNumber=t}}class Om{constructor(t){this.persistence=t,this.Ri=new Nm,this.Vi=null}static mi(t){return new Om(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Y.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const l=ut.fromPath(r);return this.gi(t,l).next((h=>{h||i.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Gc{constructor(t,i){this.persistence=t,this.pi=new xs((r=>sR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=_I(this,i)}static mi(t,i){return new Gc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((r,l)=>this.br(t,r,l).next((h=>h?Y.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,h.removeEntry(d,Et.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=bc(t.data.value)),i}br(t,i,r){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Y.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Ot(),l=Ot();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Vm(t,i.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return TS()?8:iR($e())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,l,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new NI;return this.Ss(t,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>h.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Da()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Na(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Da()<=Dt.DEBUG&&it("QueryEngine","Query:",Na(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Da()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Na(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oi(i))):Y.resolve())}ys(t,i){if(hv(i))return Y.resolve(null);let r=oi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Zd(i,null,"F"),r=oi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const d=Ot(...h);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,Zd(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,r,l){return hv(i)||l.isEqual(Et.min())?Y.resolve(null):this.ps.getDocuments(t,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,l)?Y.resolve(null):(Da()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Na(i)),this.vs(t,d,i,Jw(l,bl)).next((g=>g)))}))}Ds(t,i){let r=new Ie(dT(t));return i.forEach(((l,h)=>{lh(t,h)&&(r=r.add(h))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,r){return Da()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Na(i)),this.ps.getDocumentsMatchingQuery(t,i,Pr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="LocalStore",VI=3e8;class MI{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new re(Nt),this.xs=new xs((h=>Sm(h)),bm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new TI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function xI(s,t,i,r){return new MI(s,t,i,r)}async function kT(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],g=[];let y=Ot();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function PI(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,A){const I=_.batch,N=I.keys();let j=Y.resolve();return N.forEach((X=>{j=j.next((()=>A.getEntry(y,X))).next((W=>{const Z=_.docVersions.get(X);qt(Z!==null,48541),W.version.compareTo(Z)<0&&(I.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),A.addEntry(W)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(y,I)))})(i,r,t,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=Ot();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function LT(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function UI(s,t){const i=Tt(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((A,I)=>{const N=l.get(I);if(!N)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,I).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,I))));let j=N.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(I)!==null?j=j.withResumeToken(He.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,r)),l=l.insert(I,j),(function(W,Z,pt){return W.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=VI?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(N,j,A)&&g.push(i.Pi.updateTargetData(h,j))}));let y=Fi(),_=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),g.push(kI(h,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!r.isEqual(Et.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((I=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));g.push(A)}return Y.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,y,_))).next((()=>y))})).then((h=>(i.Ms=l,h)))}function kI(s,t,i){let r=Ot(),l=Ot();return i.forEach((h=>r=r.add(h))),t.getEntries(s,r).next((h=>{let d=Fi();return i.forEach(((g,y)=>{const _=h.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Et.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):it(Mm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function LI(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Em),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function zI(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((h=>h?(l=h,Y.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Ir(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function nm(s,t,i){const r=Tt(s),l=r.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Za(d))throw d;it(Mm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function bv(s,t,i){const r=Tt(s);let l=Et.min(),h=Ot();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const I=Tt(y),N=I.xs.get(A);return N!==void 0?Y.resolve(I.Ms.get(N)):I.Pi.getTargetData(_,A)})(r,d,oi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{h=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?h:Ot()))).next((g=>(BI(r,bR(t),g),{documents:g,Qs:h})))))}function BI(s,t,i){let r=s.Os.get(t)||Et.min();i.forEach(((l,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(t,r)}class wv{constructor(){this.activeTargetIds=NR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qI{constructor(){this.Mo=new wv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new wv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="ConnectivityMonitor";class Iv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(Rv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(Rv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c=null;function im(){return _c===null?_c=(function(){return 268435456+Math.round(2147483648*Math.random())})():_c++,"0x"+_c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd="RestConnection",HI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Lc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,h){const d=im(),g=this.zo(t,i.toUriEncodedString());it(Vd,`Sending RPC '${t}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,h);const{host:_}=new URL(g),A=Qa(_);return this.Jo(t,g,y,r,A).then((I=>(it(Vd,`Received RPC '${t}' ${d}: `,I),I)),(I=>{throw Ba(Vd,`RPC '${t}' ${d} failed with error: `,I,"url: ",g,"request:",r),I}))}Ho(t,i,r,l,h,d){return this.Go(t,i,r,l,h)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xa})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),r&&r.headers.forEach(((l,h)=>t[h]=l))}zo(t,i){const r=HI[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class QI extends GI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,h){const d=im();return new Promise(((g,y)=>{const _=new BE;_.setWithCredentials(!0),_.listenOnce(qE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Sc.NO_ERROR:const I=_.getResponseJson();it(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(I)),g(I);break;case Sc.TIMEOUT:it(Ke,`RPC '${t}' ${d} timed out`),y(new rt(K.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:const N=_.getStatus();if(it(Ke,`RPC '${t}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const X=j?.error;if(X&&X.status&&X.message){const W=(function(pt){const yt=pt.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(yt)>=0?yt:K.UNKNOWN})(X.status);y(new rt(W,X.message))}else y(new rt(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new rt(K.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Ke,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Ke,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=im(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=GE(),g=HE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const A=h.join("");it(Ke,`Creating RPC '${t}' stream ${l}: ${A}`,y);const I=d.createWebChannel(A,y);this.I_(I);let N=!1,j=!1;const X=new FI({Yo:Z=>{j?it(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(N||(it(Ke,`Opening RPC '${t}' stream ${l} transport.`),I.open(),N=!0),it(Ke,`RPC '${t}' stream ${l} sending:`,Z),I.send(Z))},Zo:()=>I.close()}),W=(Z,pt,yt)=>{Z.listen(pt,(ht=>{try{yt(ht)}catch(jt){setTimeout((()=>{throw jt}),0)}}))};return W(I,hl.EventType.OPEN,(()=>{j||(it(Ke,`RPC '${t}' stream ${l} transport opened.`),X.o_())})),W(I,hl.EventType.CLOSE,(()=>{j||(j=!0,it(Ke,`RPC '${t}' stream ${l} transport closed`),X.a_(),this.E_(I))})),W(I,hl.EventType.ERROR,(Z=>{j||(j=!0,Ba(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),X.a_(new rt(K.UNAVAILABLE,"The operation could not be completed")))})),W(I,hl.EventType.MESSAGE,(Z=>{if(!j){const pt=Z.data[0];qt(!!pt,16349);const yt=pt,ht=yt?.error||yt[0]?.error;if(ht){it(Ke,`RPC '${t}' stream ${l} received error:`,ht);const jt=ht.status;let At=(function(S){const R=_e[S];if(R!==void 0)return wT(R)})(jt),zt=ht.message;At===void 0&&(At=K.INTERNAL,zt="Unknown error status: "+jt+" with message "+ht.message),j=!0,X.a_(new rt(At,zt)),I.close()}else it(Ke,`RPC '${t}' stream ${l} received:`,pt),X.u_(pt)}})),W(g,jE.STAT_EVENT,(Z=>{Z.stat===Gd.PROXY?it(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Gd.NOPROXY&&it(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(s){return new $R(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,i,r=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="PersistentStream";class BT{constructor(t,i,r,l,h,d,g,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Gi(i.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new rt(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(Cv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(Cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KI extends BT{constructor(t,i,r,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=WR(this.serializer,t),r=(function(h){if(!("targetChange"in h))return Et.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?li(d.readTime):Et.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=em(this.serializer),i.addTarget=(function(h,d){let g;const y=d.target;if(g=Xd(y)?{documents:nI(h,y)}:{query:iI(h,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=CT(h,d.resumeToken);const _=Jd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=Hc(h,d.snapshotVersion.toTimestamp());const _=Jd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const r=sI(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=em(this.serializer),i.removeTarget=t,this.q_(i)}}class YI extends BT{constructor(t,i,r,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=eI(t.writeResults,t.commitTime),r=li(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=em(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>tI(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{}class $I extends XI{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,Wd(i,r),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(K.UNKNOWN,h.toString())}))}Ho(t,i,r,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,Wd(i,r),l,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="RemoteStore";class JI{constructor(t,i,r,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Us(this)&&(it(Vs,"Restarting streams for network reachability change."),await(async function(y){const _=Tt(y);_.Ea.add(4),await Bl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await dh(_)})(this))}))})),this.Ra=new ZI(r,l)}}async function dh(s){if(Us(s))for(const t of s.da)await t(!0)}async function Bl(s){for(const t of s.da)await t(!1)}function qT(s,t){const i=Tt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),km(i)?Um(i):Ja(i).O_()&&Pm(i,t))}function xm(s,t){const i=Tt(s),r=Ja(i);i.Ia.delete(t),r.O_()&&jT(i,t),i.Ia.size===0&&(r.O_()?r.L_():Us(i)&&i.Ra.set("Unknown"))}function Pm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ja(s).Y_(t)}function jT(s,t){s.Va.Ue(t),Ja(s).Z_(t)}function Um(s){s.Va=new QR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Ja(s).start(),s.Ra.ua()}function km(s){return Us(s)&&!Ja(s).x_()&&s.Ia.size>0}function Us(s){return Tt(s).Ea.size===0}function HT(s){s.Va=void 0}async function WI(s){s.Ra.set("Online")}async function t2(s){s.Ia.forEach(((t,i)=>{Pm(s,t)}))}async function e2(s,t){HT(s),km(s)?(s.Ra.ha(t),Um(s)):s.Ra.set("Unknown")}async function n2(s,t,i){if(s.Ra.set("Online"),t instanceof IT&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const g of h.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){it(Vs,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Fc(s,r)}else if(t instanceof Ic?s.Va.Ze(t):t instanceof RT?s.Va.st(t):s.Va.tt(t),!i.isEqual(Et.min()))try{const r=await LT(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const A=h.Ia.get(y);if(!A)return;h.Ia.set(y,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),jT(h,y);const I=new Ir(A.target,y,_,A.sequenceNumber);Pm(h,I)})),h.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){it(Vs,"Failed to raise snapshot:",r),await Fc(s,r)}}async function Fc(s,t,i){if(!Za(t))throw t;s.Ea.add(1),await Bl(s),s.Ra.set("Offline"),i||(i=()=>LT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(Vs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await dh(s)}))}function GT(s,t){return t().catch((i=>Fc(s,i,t)))}async function mh(s){const t=Tt(s),i=zr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Em;for(;i2(t);)try{const l=await LI(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,r2(t,l)}catch(l){await Fc(t,l)}FT(t)&&QT(t)}function i2(s){return Us(s)&&s.Ta.length<10}function r2(s,t){s.Ta.push(t);const i=zr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function FT(s){return Us(s)&&!zr(s).x_()&&s.Ta.length>0}function QT(s){zr(s).start()}async function s2(s){zr(s).ra()}async function a2(s){const t=zr(s);for(const i of s.Ta)t.ea(i.mutations)}async function o2(s,t,i){const r=s.Ta.shift(),l=Im.from(r,t,i);await GT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await mh(s)}async function l2(s,t){t&&zr(s).X_&&await(async function(r,l){if((function(d){return HR(d)&&d!==K.ABORTED})(l.code)){const h=r.Ta.shift();zr(r).B_(),await GT(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,l))),await mh(r)}})(s,t),FT(s)&&QT(s)}async function Dv(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),it(Vs,"RemoteStore received new credentials");const r=Us(i);i.Ea.add(3),await Bl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await dh(i)}async function u2(s,t){const i=Tt(s);t?(i.Ea.delete(2),await dh(i)):t||(i.Ea.add(2),await Bl(i),i.Ra.set("Unknown"))}function Ja(s){return s.ma||(s.ma=(function(i,r,l){const h=Tt(i);return h.sa(),new KI(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:WI.bind(null,s),t_:t2.bind(null,s),r_:e2.bind(null,s),H_:n2.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),km(s)?Um(s):s.Ra.set("Unknown")):(await s.ma.stop(),HT(s))}))),s.ma}function zr(s){return s.fa||(s.fa=(function(i,r,l){const h=Tt(i);return h.sa(),new YI(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:s2.bind(null,s),r_:l2.bind(null,s),ta:a2.bind(null,s),na:o2.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await mh(s)):(await s.fa.stop(),s.Ta.length>0&&(it(Vs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,i,r,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=h,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,h){const d=Date.now()+r,g=new Lm(t,i,d,l,h);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zm(s,t){if(Gi("AsyncQueue",`${t}: ${s}`),Za(s))return new rt(K.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{static emptySet(t){return new ka(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||ut.comparator(i.key,r.key):(i,r)=>ut.comparator(i.key,r.key),this.keyedMap=fl(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=r.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new ka;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.ga=new re(ut.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Fa{constructor(t,i,r,l,h,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Fa(t,i,ka.emptySet(i),d,r,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class h2{constructor(){this.queries=Ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Tt(i),h=l.queries;l.queries=Ov(),h.forEach(((d,g)=>{for(const y of g.Sa)y.onError(r)}))})(this,new rt(K.ABORTED,"Firestore shutting down"))}}function Ov(){return new xs((s=>fT(s)),oh)}async function f2(s,t){const i=Tt(s);let r=3;const l=t.query;let h=i.queries.get(l);h?!h.ba()&&t.Da()&&(r=2):(h=new c2,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=zm(d,`Initialization of query '${Na(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Bm(i)}async function d2(s,t){const i=Tt(s),r=t.query;let l=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function m2(s,t){const i=Tt(s);let r=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&Bm(i)}function g2(s,t,i){const r=Tt(s),l=r.queries.get(t);if(l)for(const h of l.Sa)h.onError(i);r.queries.delete(t)}function Bm(s){s.Ca.forEach((t=>{t.next()}))}var rm,Vv;(Vv=rm||(rm={})).Ma="default",Vv.Cache="cache";class p2{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new Fa(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Fa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t){this.key=t}}class YT{constructor(t){this.key=t}}class y2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=dT(t),this.tu=new ka(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new Nv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,I)=>{const N=l.get(A),j=lh(this.query,I)?I:null,X=!!N&&this.mutatedKeys.has(N.key),W=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;N&&j?N.data.isEqual(j.data)?X!==W&&(r.track({type:3,doc:j}),Z=!0):this.su(N,j)||(r.track({type:2,doc:j}),Z=!0,(y&&this.eu(j,y)>0||_&&this.eu(j,_)<0)&&(g=!0)):!N&&j?(r.track({type:0,doc:j}),Z=!0):N&&!j&&(r.track({type:1,doc:N}),Z=!0,(y||_)&&(g=!0)),Z&&(j?(d=d.add(j),h=W?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:g,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,I)=>(function(j,X){const W=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:Z})}};return W(j)-W(X)})(A.type,I.type)||this.eu(A.doc,I.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Fa(this.query,t.tu,h,d,t.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Nv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new YT(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new KT(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Fa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qm="SyncEngine";class _2{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class v2{constructor(t){this.key=t,this.hu=!1}}class E2{constructor(t,i,r,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new xs((g=>fT(g)),oh),this.Iu=new Map,this.Eu=new Set,this.du=new re(ut.comparator),this.Au=new Map,this.Ru=new Nm,this.Vu={},this.mu=new Map,this.fu=Ga.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function T2(s,t,i=!0){const r=t0(s);let l;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await XT(r,t,i,!0),l}async function A2(s,t){const i=t0(s);await XT(i,t,!0,!1)}async function XT(s,t,i,r){const l=await zI(s.localStore,oi(t)),h=l.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return r&&(g=await S2(s,t,h,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&qT(s.remoteStore,l),g}async function S2(s,t,i,r,l){s.pu=(I,N,j)=>(async function(W,Z,pt,yt){let ht=Z.view.ru(pt);ht.Cs&&(ht=await bv(W.localStore,Z.query,!1).then((({documents:M})=>Z.view.ru(M,ht))));const jt=yt&&yt.targetChanges.get(Z.targetId),At=yt&&yt.targetMismatches.get(Z.targetId)!=null,zt=Z.view.applyChanges(ht,W.isPrimaryClient,jt,At);return xv(W,Z.targetId,zt.au),zt.snapshot})(s,I,N,j);const h=await bv(s.localStore,t,!0),d=new y2(t,h.Qs),g=d.ru(h.documents),y=zl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(g,s.isPrimaryClient,y);xv(s,i,_.au);const A=new _2(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function b2(s,t,i){const r=Tt(s),l=r.Tu.get(t),h=r.Iu.get(l.targetId);if(h.length>1)return r.Iu.set(l.targetId,h.filter((d=>!oh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await nm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&xm(r.remoteStore,l.targetId),sm(r,l.targetId)})).catch($a)):(sm(r,l.targetId),await nm(r.localStore,l.targetId,!0))}async function w2(s,t){const i=Tt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),xm(i.remoteStore,r.targetId))}async function R2(s,t,i){const r=M2(s);try{const l=await(function(d,g){const y=Tt(d),_=te.now(),A=g.reduce(((j,X)=>j.add(X.key)),Ot());let I,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let X=Fi(),W=Ot();return y.Ns.getEntries(j,A).next((Z=>{X=Z,X.forEach(((pt,yt)=>{yt.isValidDocument()||(W=W.add(pt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,X))).next((Z=>{I=Z;const pt=[];for(const yt of g){const ht=LR(yt,I.get(yt.key).overlayedDocument);ht!=null&&pt.push(new Ps(yt.key,ht,rT(ht.value.mapValue),Bi.exists(!0)))}return y.mutationQueue.addMutationBatch(j,_,pt,g)})).next((Z=>{N=Z;const pt=Z.applyToLocalDocumentSet(I,W);return y.documentOverlayCache.saveOverlays(j,Z.batchId,pt)}))})).then((()=>({batchId:N.batchId,changes:gT(I)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new re(Nt)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await ql(r,l.changes),await mh(r.remoteStore)}catch(l){const h=zm(l,"Failed to persist write");i.reject(h)}}async function $T(s,t){const i=Tt(s);try{const r=await UI(i.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await ql(i,r,t)}catch(r){await $a(r)}}function Mv(s,t,i){const r=Tt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((h,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Tt(d);y.onlineState=g;let _=!1;y.queries.forEach(((A,I)=>{for(const N of I.Sa)N.va(g)&&(_=!0)})),_&&Bm(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function I2(s,t,i){const r=Tt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),h=l&&l.key;if(h){let d=new re(ut.comparator);d=d.insert(h,Xe.newNoDocument(h,Et.min()));const g=Ot().add(h),y=new hh(Et.min(),new Map,new re(Nt),d,g);await $T(r,y),r.du=r.du.remove(h),r.Au.delete(t),jm(r)}else await nm(r.localStore,t,!1).then((()=>sm(r,t,i))).catch($a)}async function C2(s,t){const i=Tt(s),r=t.batch.batchId;try{const l=await PI(i.localStore,t);JT(i,r,null),ZT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await ql(i,l)}catch(l){await $a(l)}}async function D2(s,t,i){const r=Tt(s);try{const l=await(function(d,g){const y=Tt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next((I=>(qt(I!==null,37113),A=I.keys(),y.mutationQueue.removeMutationBatch(_,I)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(r.localStore,t);JT(r,t,i),ZT(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await ql(r,l)}catch(l){await $a(l)}}function ZT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function JT(s,t,i){const r=Tt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function sm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||WT(s,r)}))}function WT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(xm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),jm(s))}function xv(s,t,i){for(const r of i)r instanceof KT?(s.Ru.addReference(r.key,t),N2(s,r)):r instanceof YT?(it(qm,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||WT(s,r.key)):mt(19791,{wu:r})}function N2(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(it(qm,"New document in limbo: "+i),s.Eu.add(r),jm(s))}function jm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ut(Wt.fromString(t)),r=s.fu.next();s.Au.set(r,new v2(i)),s.du=s.du.insert(i,r),qT(s.remoteStore,new Ir(oi(wm(i.path)),r,"TargetPurposeLimboResolution",rh.ce))}}async function ql(s,t,i){const r=Tt(s),l=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Vm.As(y.targetId,_);h.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const A=Tt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>Y.forEach(_,(N=>Y.forEach(N.Es,(j=>A.persistence.referenceDelegate.addReference(I,N.targetId,j))).next((()=>Y.forEach(N.ds,(j=>A.persistence.referenceDelegate.removeReference(I,N.targetId,j)))))))))}catch(I){if(!Za(I))throw I;it(Mm,"Failed to update sequence numbers: "+I)}for(const I of _){const N=I.targetId;if(!I.fromCache){const j=A.Ms.get(N),X=j.snapshotVersion,W=j.withLastLimboFreeSnapshotVersion(X);A.Ms=A.Ms.insert(N,W)}}})(r.localStore,h))}async function O2(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){it(qm,"User change. New user:",t.toKey());const r=await kT(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((g=>{g.forEach((y=>{y.reject(new rt(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ql(i,r.Ls)}}function V2(s,t){const i=Tt(s),r=i.Au.get(t);if(r&&r.hu)return Ot().add(r.key);{let l=Ot();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function t0(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=$T.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=V2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=I2.bind(null,t),t.Pu.H_=m2.bind(null,t.eventManager),t.Pu.yu=g2.bind(null,t.eventManager),t}function M2(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=C2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=D2.bind(null,t),t}class Qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return xI(this.persistence,new OI,t.initialUser,this.serializer)}Cu(t){return new UT(Om.mi,this.serializer)}Du(t){return new qI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qc.provider={build:()=>new Qc};class x2 extends Qc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof Gc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pI(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new UT((r=>Gc.mi(r,i)),this.serializer)}}class am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O2.bind(null,this.syncEngine),await u2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new h2})()}createDatastore(t){const i=fh(t.databaseInfo.databaseId),r=(function(h){return new QI(h)})(t.databaseInfo);return(function(h,d,g,y){return new $I(h,d,g,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,h,d,g){return new JI(r,l,h,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Mv(this.syncEngine,i,0)),(function(){return Iv.v()?new Iv:new jI})())}createSyncEngine(t,i){return(function(l,h,d,g,y,_,A){const I=new E2(l,h,d,g,y,_);return A&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Tt(i);it(Vs,"RemoteStore shutting down."),r.Ea.add(5),await Bl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Gi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class U2{constructor(t,i,r,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{it(Br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(it(Br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=zm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function xd(s,t){s.asyncQueue.verifyOperationInProgress(),it(Br,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await kT(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Pv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await k2(s);it(Br,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Dv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Dv(t.remoteStore,l))),s._onlineComponents=t}async function k2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(Br,"Using user provided OfflineComponentProvider");try{await xd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ba("Error using user provided cache. Falling back to memory cache: "+i),await xd(s,new Qc)}}else it(Br,"Using default OfflineComponentProvider"),await xd(s,new x2(void 0));return s._offlineComponents}async function e0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(Br,"Using user provided OnlineComponentProvider"),await Pv(s,s._uninitializedComponentsProvider._online)):(it(Br,"Using default OnlineComponentProvider"),await Pv(s,new am))),s._onlineComponents}function L2(s){return e0(s).then((t=>t.syncEngine))}async function Uv(s){const t=await e0(s),i=t.eventManager;return i.onListen=T2.bind(null,t.syncEngine),i.onUnlisten=b2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=A2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=w2.bind(null,t.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="firestore.googleapis.com",Lv=!0;class zv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i0,this.ssl=Lv}else this.host=t.host,this.ssl=t.ssl??Lv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=PT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<mI)throw new rt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Zw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n0(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qw;switch(r.type){case"firstParty":return new Fw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=kv.get(i);r&&(it("ComponentProvider","Removing Datastore"),kv.delete(i),r.terminate())})(this),Promise.resolve()}}function z2(s,t,i,r={}){s=yl(s,gh);const l=Qa(t),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(Wv(`https://${g}`),tE("Firestore",!0)),h.host!==i0&&h.host!==g&&Ba("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:g,ssl:l,emulatorOptions:r};if(!Cs(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Ye.MOCK_USER;else{_=fS(r.mockUserToken,s._app?.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new rt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(I)}s._authCredentials=new jw(new QE(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Wa(this.firestore,t,this._query)}}class Re{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Re(this.firestore,t,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Ul(i,Re._jsonSchema))return new Re(t,r||null,new ut(Wt.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:Ee("string",Re._jsonSchemaVersion),referencePath:Ee("string")};class Mr extends Wa{constructor(t,i,r){super(t,i,wm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Re(this.firestore,null,new ut(t))}withConverter(t){return new Mr(this.firestore,t,this._path)}}function Kc(s,t,...i){if(s=an(s),KE("collection","path",t),s instanceof gh){const r=Wt.fromString(t,...i);return Z_(r),new Mr(s,null,r)}{if(!(s instanceof Re||s instanceof Mr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(t,...i));return Z_(r),new Mr(s.firestore,null,r)}}function B2(s,t,...i){if(s=an(s),arguments.length===1&&(t=vm.newId()),KE("doc","path",t),s instanceof gh){const r=Wt.fromString(t,...i);return $_(r),new Re(s,null,new ut(r))}{if(!(s instanceof Re||s instanceof Mr))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(t,...i));return $_(r),new Re(s.firestore,s instanceof Mr?s.converter:null,new ut(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="AsyncQueue";class qv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zT(this,"async_queue_retry"),this._c=()=>{const r=Md();r&&it(Bv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Md();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Md();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Rs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Za(t))throw t;it(Bv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Gi("INTERNAL UNHANDLED ERROR: ",jv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Lm.createAndSchedule(this,t,i,r,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:jv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function jv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of r)if(h in l&&typeof l[h]=="function")return!0;return!1})(s,["next","error","complete"])}class Yc extends gh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new qv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new qv(t),this._firestoreClient=void 0,await t}}}function q2(s,t){const i=typeof s=="object"?s:rE(),r=typeof s=="string"?s:Lc,l=cm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const h=cS("firestore");h&&z2(l,...h)}return l}function r0(s){if(s._terminated)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||j2(s),s._firestoreClient}function j2(s){const t=s._freezeSettings(),i=(function(l,h,d,g){return new lR(l,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,n0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new U2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Nn(He.fromBase64String(t))}catch(i){throw new rt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Nn(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ul(t,Nn._jsonSchema))return Nn.fromBase64String(t.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Ee("string",Nn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ui._jsonSchemaVersion}}static fromJSON(t){if(Ul(t,ui._jsonSchema))return new ui(t.latitude,t.longitude)}}ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:Ee("string",ui._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ul(t,ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ci(t.vectorValues);throw new rt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:Ee("string",ci._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=/^__.*__$/;class G2{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new Ps(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ll(t,this.data,i,this.fieldTransforms)}}function s0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:s})}}class Fm{constructor(t,i,r,l,h,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Fm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Xc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(s0(this.Ac)&&H2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class F2{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||fh(t)}Cc(t,i,r,l=!1){return new Fm({Ac:t,methodName:i,Dc:r,path:je.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function a0(s){const t=s._freezeSettings(),i=fh(s._databaseId);return new F2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Q2(s,t,i,r,l,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,t,i,l);u0("Data must be an object, but it was:",d,r);const g=o0(r,d);let y,_;if(h.merge)y=new zn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const I of h.mergeFields){const N=Y2(t,I,i);if(!d.contains(N))throw new rt(K.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);$2(A,N)||A.push(N)}y=new zn(A),_=d.fieldTransforms.filter((I=>y.covers(I.field)))}else y=null,_=d.fieldTransforms;return new G2(new Dn(g),y,_)}class Qm extends Gm{_toFieldTransform(t){return new xR(t.path,new Cl)}isEqual(t){return t instanceof Qm}}function K2(s,t,i,r=!1){return Km(i,s.Cc(r?4:3,t))}function Km(s,t){if(l0(s=an(s)))return u0("Unsupported field value:",t,s),o0(s,t);if(s instanceof Gm)return(function(r,l){if(!s0(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const h=[];let d=0;for(const g of r){let y=Km(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}})(s,t)}return(function(r,l){if((r=an(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=te.fromDate(r);return{timestampValue:Hc(l.serializer,h)}}if(r instanceof te){const h=new te(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hc(l.serializer,h)}}if(r instanceof ui)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nn)return{bytesValue:CT(l.serializer,r._byteString)};if(r instanceof Re){const h=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Dm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof ci)return(function(d,g){return{mapValue:{fields:{[nT]:{stringValue:iT},[zc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Rm(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${ih(r)}`)})(s,t)}function o0(s,t){const i={};return $E(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ms(s,((r,l)=>{const h=Km(l,t.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function l0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof te||s instanceof ui||s instanceof Nn||s instanceof Re||s instanceof Gm||s instanceof ci)}function u0(s,t,i){if(!l0(i)||!YE(i)){const r=ih(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Y2(s,t,i){if((t=an(t))instanceof Hm)return t._internalPath;if(typeof t=="string")return c0(s,t);throw Xc("Field path arguments must be of type string or ",s,!1,void 0,i)}const X2=new RegExp("[~\\*/\\[\\]]");function c0(s,t,i){if(t.search(X2)>=0)throw Xc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Hm(...t.split("."))._internalPath}catch{throw Xc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Xc(s,t,i,r,l){const h=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new rt(K.INVALID_ARGUMENT,g+s+y)}function $2(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t,i,r,l,h){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(f0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Z2 extends h0{data(){return super.data()}}function f0(s,t){return typeof t=="string"?c0(s,t):t instanceof Hm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ym{}class W2 extends Ym{}function d0(s,t,...i){let r=[];t instanceof Ym&&r.push(t),r=r.concat(i),(function(h){const d=h.filter((y=>y instanceof $m)).length,g=h.filter((y=>y instanceof Xm)).length;if(d>1||d>0&&g>0)throw new rt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Xm extends W2{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Xm(t,i,r)}_apply(t){const i=this._parse(t);return m0(t._query,i),new Wa(t.firestore,t.converter,$d(t._query,i))}_parse(t){const i=a0(t.firestore);return(function(h,d,g,y,_,A,I){let N;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Fv(I,A);const X=[];for(const W of I)X.push(Gv(y,h,W));N={arrayValue:{values:X}}}else N=Gv(y,h,I)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Fv(I,A),N=K2(g,d,I,A==="in"||A==="not-in");return ve.create(_,A,N)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class $m extends Ym{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new $m(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Bn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,h){let d=l;const g=h.getFlattenedFilters();for(const y of g)m0(d,y),d=$d(d,y)})(t._query,i),new Wa(t.firestore,t.converter,$d(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Gv(s,t,i){if(typeof(i=an(i))=="string"){if(i==="")throw new rt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hT(t)&&i.indexOf("/")!==-1)throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child(Wt.fromString(i));if(!ut.isDocumentKey(r))throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sv(s,new ut(r))}if(i instanceof Re)return sv(s,i._key);throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(i)}.`)}function Fv(s,t){if(!Array.isArray(s)||s.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function m0(s,t){const i=(function(l,h){for(const d of l)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class tC{convertValue(t,i="none"){switch(Lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Ms(t,((l,h)=>{r[l]=this.convertValue(h,i)})),r}convertVectorValue(t){const i=t.fields?.[zc].arrayValue?.values?.map((r=>de(r.doubleValue)));return new ci(i)}convertGeoPoint(t){return new ui(de(t.latitude),de(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=ah(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const i=Ur(t);return new te(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=Wt.fromString(t);qt(xT(r),9688,{name:t});const l=new Rl(r.get(1),r.get(3)),h=new ut(r.popFirst(5));return l.isEqual(i)||Gi(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class ml{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Is extends h0{constructor(t,i,r,l,h,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(f0("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Is._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Is._jsonSchemaVersion="firestore/documentSnapshot/1.0",Is._jsonSchema={type:Ee("string",Is._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class Cc extends Is{data(t={}){return super.data(t)}}class La{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ml(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Cc(this._firestore,this._userDataWriter,r.key,r,new ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Cc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const y=new Cc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:nC(g.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=La._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function nC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:s})}}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:Ee("string",La._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class g0 extends tC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Nn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function p0(s,t){const i=yl(s.firestore,Yc),r=B2(s),l=eC(s.converter,t);return iC(i,[Q2(a0(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Bi.exists(!1))]).then((()=>r))}function y0(s,...t){s=an(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Hv(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Hv(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let h,d,g;if(s instanceof Re)d=yl(s.firestore,Yc),g=wm(s._key.path),h={next:y=>{t[r]&&t[r](rC(d,s,y))},error:t[r+1],complete:t[r+2]};else{const y=yl(s,Wa);d=yl(y.firestore,Yc),g=y._query;const _=new g0(d);h={next:A=>{t[r]&&t[r](new La(d,_,y,A))},error:t[r+1],complete:t[r+2]},J2(s._query)}return(function(_,A,I,N){const j=new P2(N),X=new p2(A,j,I);return _.asyncQueue.enqueueAndForget((async()=>f2(await Uv(_),X))),()=>{j.Nu(),_.asyncQueue.enqueueAndForget((async()=>d2(await Uv(_),X)))}})(r0(d),g,l,h)}function iC(s,t){return(function(r,l){const h=new Rs;return r.asyncQueue.enqueueAndForget((async()=>R2(await L2(r),l,h))),h.promise})(r0(s),t)}function rC(s,t,i){const r=i.docs.get(t._key),l=new g0(s);return new Is(s,l,t._key,r,new ml(i.hasPendingWrites,i.fromCache),t.converter)}function _0(){return new Qm("serverTimestamp")}(function(t,i=!0){(function(l){Xa=l})(Ka),za(new Ds("firestore",((r,{instanceIdentifier:l,options:h})=>{const d=r.getProvider("app").getImmediate(),g=new Yc(new Hw(r.getProvider("auth-internal")),new Qw(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(_.options.projectId,A)})(d,l),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),Nr(Q_,K_,t),Nr(Q_,K_,"esm2020")})();/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),Qv=s=>{const t=aC(s);return t.charAt(0).toUpperCase()+t.slice(1)},v0=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),oC=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=ue.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:h,iconNode:d,...g},y)=>ue.createElement("svg",{ref:y,...lC,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:v0("lucide",l),...!h&&!oC(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>ue.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=(s,t)=>{const i=ue.forwardRef(({className:r,...l},h)=>ue.createElement(uC,{ref:h,iconNode:t,className:v0(`lucide-${sC(Qv(s))}`,`lucide-${s}`,r),...l}));return i.displayName=Qv(s),i};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hC=jl("arrow-left",cC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],dC=jl("circle-plus",fC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],gC=jl("copy",mC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yC=jl("log-out",pC);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],vC=jl("send",_C),EC={apiKey:"AIzaSyB_My_YilDOcQ7sFtlCXIVPFCqXInx5iMI",authDomain:"chatdmensagens.firebaseapp.com",projectId:"chatdmensagens",storageBucket:"chatdmensagens.firebasestorage.app",messagingSenderId:"247264688276",appId:"1:247264688276:web:4a54453ca17d8cf0945c81",measurementId:"G-0MSQBFP1PJ"},E0=iE(EC),Pd=zw(E0),$c=q2(E0),Zc="meu-chat-app-local",T0=()=>ot.jsx("div",{className:"flex justify-center items-center h-full",children:ot.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500"})}),TC=({onAuth:s})=>{const[t,i]=ue.useState(""),r=l=>{l.preventDefault(),t.trim()&&s(t.trim())};return ot.jsx("div",{className:"flex flex-col items-center justify-center h-full bg-gray-800 p-4",children:ot.jsxs("div",{className:"w-full max-w-sm text-center",children:[ot.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Bem-vindo ao Chat"}),ot.jsx("p",{className:"text-gray-300 mb-8",children:"Digite seu nome para começar."}),ot.jsxs("form",{onSubmit:r,className:"flex flex-col gap-4",children:[ot.jsx("input",{type:"text",value:t,onChange:l=>i(l.target.value),placeholder:"Seu nome",className:"w-full px-4 py-3 bg-gray-700 text-white border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),ot.jsx("button",{type:"submit",className:"w-full px-4 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors duration-300 disabled:bg-gray-500",disabled:!t.trim(),children:"Entrar no Chat"})]})]})})},AC=({onSelectRoom:s,onCreateRoom:t})=>{const[i,r]=ue.useState([]),[l,h]=ue.useState(""),[d,g]=ue.useState(!0);ue.useEffect(()=>{const _=`/artifacts/${Zc}/public/data/chatRooms`,A=d0(Kc($c,_)),I=y0(A,N=>{const j=[];N.forEach(X=>{j.push({id:X.id,...X.data()})}),j.sort((X,W)=>(W.createdAt?.seconds||0)-(X.createdAt?.seconds||0)),r(j),g(!1)},N=>{console.error("Erro ao buscar salas de chat:",N),g(!1)});return()=>I()},[]);const y=_=>{_.preventDefault(),l.trim()&&(t(l.trim()),h(""))};return d?ot.jsx(T0,{}):ot.jsxs("div",{className:"flex flex-col h-full p-4 bg-gray-800",children:[ot.jsx("h2",{className:"text-2xl font-bold text-white mb-4 border-b border-gray-700 pb-2",children:"Salas de Chat"}),ot.jsxs("form",{onSubmit:y,className:"flex gap-2 mb-4",children:[ot.jsx("input",{type:"text",value:l,onChange:_=>h(_.target.value),placeholder:"Nome da nova sala",className:"flex-grow px-3 py-2 bg-gray-700 text-white border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),ot.jsx("button",{type:"submit",className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:ot.jsx(dC,{size:24})})]}),ot.jsx("div",{className:"flex-grow overflow-y-auto",children:i.length===0?ot.jsx("p",{className:"text-gray-400 text-center mt-8",children:"Nenhuma sala encontrada. Crie a primeira!"}):ot.jsx("ul",{className:"space-y-2",children:i.map(_=>ot.jsx("li",{onClick:()=>s(_),className:"p-4 bg-gray-700 rounded-lg cursor-pointer hover:bg-gray-600 transition-colors",children:ot.jsx("p",{className:"font-semibold text-white",children:_.name})},_.id))})})]})},SC=({room:s,user:t,onLeaveRoom:i})=>{const[r,l]=ue.useState([]),[h,d]=ue.useState(""),g=ue.useRef(null),y=()=>{g.current?.scrollIntoView({behavior:"smooth"})};ue.useEffect(y,[r]),ue.useEffect(()=>{if(!s?.id)return;const A=`/artifacts/${Zc}/public/data/chatRooms/${s.id}/messages`,I=d0(Kc($c,A)),N=y0(I,j=>{const X=[];j.forEach(W=>{X.push({id:W.id,...W.data()})}),X.sort((W,Z)=>(W.createdAt?.seconds||0)-(Z.createdAt?.seconds||0)),l(X)},j=>{console.error("Erro ao buscar mensagens:",j)});return()=>N()},[s.id]);const _=async A=>{if(A.preventDefault(),h.trim()==="")return;const I=`/artifacts/${Zc}/public/data/chatRooms/${s.id}/messages`;try{await p0(Kc($c,I),{text:h,createdAt:_0(),userId:t.uid,userName:t.displayName}),d("")}catch(N){console.error("Erro ao enviar mensagem:",N)}};return ot.jsxs("div",{className:"flex flex-col h-full bg-gray-800",children:[ot.jsxs("header",{className:"flex items-center p-4 bg-gray-900 shadow-md",children:[ot.jsx("button",{onClick:i,className:"p-2 mr-4 text-white hover:bg-gray-700 rounded-full",children:ot.jsx(hC,{size:24})}),ot.jsx("h2",{className:"text-xl font-bold text-white",children:s.name})]}),ot.jsxs("main",{className:"flex-grow p-4 overflow-y-auto",children:[ot.jsx("div",{className:"space-y-4",children:r.map(A=>{const I=A.userId===t.uid;return ot.jsx("div",{className:`flex ${I?"justify-end":"justify-start"}`,children:ot.jsxs("div",{className:`max-w-xs md:max-w-md lg:max-w-lg px-4 py-2 rounded-xl ${I?"bg-blue-600 text-white":"bg-gray-700 text-white"}`,children:[!I&&ot.jsx("p",{className:"text-xs font-bold text-blue-300",children:A.userName}),ot.jsx("p",{children:A.text}),ot.jsx("p",{className:"text-xs text-right mt-1 opacity-60",children:A.createdAt?.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},A.id)})}),ot.jsx("div",{ref:g})]}),ot.jsx("footer",{className:"p-4 bg-gray-900",children:ot.jsxs("form",{onSubmit:_,className:"flex items-center gap-2",children:[ot.jsx("input",{type:"text",value:h,onChange:A=>d(A.target.value),placeholder:"Digite sua mensagem...",className:"flex-grow px-4 py-2 bg-gray-700 text-white border border-gray-600 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"}),ot.jsx("button",{type:"submit",className:"p-3 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors",children:ot.jsx(vC,{size:20})})]})})]})};function bC(){const[s,t]=ue.useState(null),[i,r]=ue.useState(""),[l,h]=ue.useState(null),[d,g]=ue.useState(!1),[y,_]=ue.useState(!1);ue.useEffect(()=>{const W=Cb(Pd,async Z=>{if(Z)t(Z);else try{await Ab(Pd)}catch(pt){console.error("Erro ao fazer login anônimo:",pt)}g(!0)});return()=>W()},[]);const A=W=>{r(W)},I=async W=>{const Z=`/artifacts/${Zc}/public/data/chatRooms`;try{await p0(Kc($c,Z),{name:W,createdAt:_0()})}catch(pt){console.error("Erro ao criar sala:",pt)}},N=()=>{Pd.signOut(),t(null),r(""),h(null)},j=()=>{navigator.clipboard.writeText(s.uid).then(()=>{_(!0),setTimeout(()=>_(!1),2e3)})},X=()=>{if(!d)return ot.jsx(T0,{});if(!i)return ot.jsx(TC,{onAuth:A});if(l){const W={uid:s.uid,displayName:i};return ot.jsx(SC,{room:l,user:W,onLeaveRoom:()=>h(null)})}return ot.jsx(AC,{onSelectRoom:h,onCreateRoom:I})};return ot.jsxs("div",{className:"font-sans bg-gray-900 text-white h-screen w-screen flex flex-col",children:[i&&ot.jsxs("header",{className:"flex justify-between items-center p-3 bg-gray-900 shadow-lg z-10",children:[ot.jsxs("p",{className:"font-bold text-lg",children:["Olá, ",i]}),ot.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[ot.jsx(yC,{size:18}),"Sair"]})]}),ot.jsx("main",{className:"flex-grow overflow-hidden",children:X()}),s&&i&&ot.jsx("footer",{className:"p-2 bg-gray-900 text-center text-xs text-gray-400 border-t border-gray-700",children:ot.jsxs("div",{className:"flex items-center justify-center gap-2",children:[ot.jsxs("span",{children:["Seu ID de Usuário: ",s.uid]}),ot.jsx("button",{onClick:j,className:"p-1 hover:text-white",children:y?"Copiado!":ot.jsx(gC,{size:14})})]})})]})}eS.createRoot(document.getElementById("root")).render(ot.jsx(ue.StrictMode,{children:ot.jsx(bC,{})}));
